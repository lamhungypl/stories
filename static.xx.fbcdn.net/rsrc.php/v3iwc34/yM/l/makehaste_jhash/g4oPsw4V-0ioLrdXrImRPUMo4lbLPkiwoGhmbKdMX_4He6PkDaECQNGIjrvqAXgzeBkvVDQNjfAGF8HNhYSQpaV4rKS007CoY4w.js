/*FB_PKG_DELIM*/

__d(
  'CometNotificationsBadgeCountFragment_viewer.graphql',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    a = {
      argumentDefinitions: [{ kind: 'RootArgument', name: 'environment' }],
      kind: 'Fragment',
      metadata: null,
      name: 'CometNotificationsBadgeCountFragment_viewer',
      selections: [
        {
          alias: null,
          args: [
            {
              kind: 'Variable',
              name: 'environment',
              variableName: 'environment',
            },
          ],
          kind: 'ScalarField',
          name: 'notifications_unseen_count',
          storageKey: null,
        },
      ],
      type: 'Viewer',
      abstractKey: null,
    };
    e.exports = a;
  },
  null,
);
__d(
  'CometNotificationsBadgeCountQuery.graphql',
  ['relay-runtime'],
  function (a, b, c, d, e, f) {
    'use strict';
    a = (function () {
      var a = [
        { defaultValue: null, kind: 'LocalArgument', name: 'environment' },
      ];
      return {
        fragment: {
          argumentDefinitions: a,
          kind: 'Fragment',
          metadata: null,
          name: 'CometNotificationsBadgeCountQuery',
          selections: [
            {
              alias: null,
              args: null,
              concreteType: 'Viewer',
              kind: 'LinkedField',
              name: 'viewer',
              plural: !1,
              selections: [
                {
                  args: null,
                  kind: 'FragmentSpread',
                  name: 'CometNotificationsBadgeCountFragment_viewer',
                },
              ],
              storageKey: null,
            },
          ],
          type: 'Query',
          abstractKey: null,
        },
        kind: 'Request',
        operation: {
          argumentDefinitions: a,
          kind: 'Operation',
          name: 'CometNotificationsBadgeCountQuery',
          selections: [
            {
              alias: null,
              args: null,
              concreteType: 'Viewer',
              kind: 'LinkedField',
              name: 'viewer',
              plural: !1,
              selections: [
                {
                  alias: null,
                  args: [
                    {
                      kind: 'Variable',
                      name: 'environment',
                      variableName: 'environment',
                    },
                  ],
                  kind: 'ScalarField',
                  name: 'notifications_unseen_count',
                  storageKey: null,
                },
              ],
              storageKey: null,
            },
          ],
        },
        params: {
          id: '4886725694759503',
          metadata: {},
          name: 'CometNotificationsBadgeCountQuery',
          operationKind: 'query',
          text: null,
        },
      };
    })();
    b('relay-runtime').PreloadableQueryRegistry.set(a.params.id, a);
    e.exports = a;
  },
  null,
);
__d(
  'MWXACIntroViewQuery.graphql',
  ['relay-runtime'],
  function (a, b, c, d, e, f) {
    'use strict';
    a = (function () {
      var a = [
          { defaultValue: null, kind: 'LocalArgument', name: 'xacIntroNuxId' },
        ],
        b = [
          { kind: 'Variable', name: 'nux_id', variableName: 'xacIntroNuxId' },
          {
            kind: 'Literal',
            name: 'supported',
            value: ['MessengerXacIntroViewRenderer'],
          },
        ],
        c = {
          kind: 'InlineFragment',
          selections: [
            {
              args: null,
              documentName: 'MWXACIntroViewQuery_xacIntroCometNux',
              fragmentName: 'MWXACIntroFlow_introRenderer',
              fragmentPropName: 'introRenderer',
              kind: 'ModuleImport',
            },
          ],
          type: 'MessengerXacIntroViewRenderer',
          abstractKey: null,
        };
      return {
        fragment: {
          argumentDefinitions: a,
          kind: 'Fragment',
          metadata: null,
          name: 'MWXACIntroViewQuery',
          selections: [
            {
              alias: null,
              args: null,
              concreteType: 'Viewer',
              kind: 'LinkedField',
              name: 'viewer',
              plural: !1,
              selections: [
                {
                  alias: null,
                  args: b,
                  concreteType: null,
                  kind: 'LinkedField',
                  name: 'messenger_xac_intro_renderer',
                  plural: !1,
                  selections: [c],
                  storageKey: null,
                },
              ],
              storageKey: null,
            },
          ],
          type: 'Query',
          abstractKey: null,
        },
        kind: 'Request',
        operation: {
          argumentDefinitions: a,
          kind: 'Operation',
          name: 'MWXACIntroViewQuery',
          selections: [
            {
              alias: null,
              args: null,
              concreteType: 'Viewer',
              kind: 'LinkedField',
              name: 'viewer',
              plural: !1,
              selections: [
                {
                  alias: null,
                  args: b,
                  concreteType: null,
                  kind: 'LinkedField',
                  name: 'messenger_xac_intro_renderer',
                  plural: !1,
                  selections: [
                    {
                      alias: null,
                      args: null,
                      kind: 'ScalarField',
                      name: '__typename',
                      storageKey: null,
                    },
                    c,
                  ],
                  storageKey: null,
                },
              ],
              storageKey: null,
            },
          ],
        },
        params: {
          id: '7403839336352965',
          metadata: {},
          name: 'MWXACIntroViewQuery',
          operationKind: 'query',
          text: null,
        },
      };
    })();
    b('relay-runtime').PreloadableQueryRegistry.set(a.params.id, a);
    e.exports = a;
  },
  null,
);
__d(
  'MWChatBadgeCountQuery.graphql',
  ['relay-runtime'],
  function (a, b, c, d, e, f) {
    'use strict';
    a = (function () {
      var a = [
          {
            defaultValue: null,
            kind: 'LocalArgument',
            name: 'suppress_xac_groups',
          },
        ],
        b = [
          {
            alias: null,
            args: null,
            concreteType: 'Viewer',
            kind: 'LinkedField',
            name: 'viewer',
            plural: !1,
            selections: [
              {
                alias: null,
                args: null,
                concreteType: 'ViewerMessageThreadsConnection',
                kind: 'LinkedField',
                name: 'message_threads',
                plural: !1,
                selections: [
                  {
                    alias: null,
                    args: [
                      {
                        kind: 'Variable',
                        name: 'suppress_xac_groups',
                        variableName: 'suppress_xac_groups',
                      },
                    ],
                    kind: 'ScalarField',
                    name: 'unseen_count',
                    storageKey: null,
                  },
                  {
                    kind: 'ClientExtension',
                    selections: [
                      {
                        alias: null,
                        args: null,
                        kind: 'ScalarField',
                        name: 'is_loading_client_threads',
                        storageKey: null,
                      },
                    ],
                  },
                ],
                storageKey: null,
              },
            ],
            storageKey: null,
          },
        ];
      return {
        fragment: {
          argumentDefinitions: a,
          kind: 'Fragment',
          metadata: null,
          name: 'MWChatBadgeCountQuery',
          selections: b,
          type: 'Query',
          abstractKey: null,
        },
        kind: 'Request',
        operation: {
          argumentDefinitions: a,
          kind: 'Operation',
          name: 'MWChatBadgeCountQuery',
          selections: b,
        },
        params: {
          id: '5218522061549416',
          metadata: {},
          name: 'MWChatBadgeCountQuery',
          operationKind: 'query',
          text: null,
        },
      };
    })();
    b('relay-runtime').PreloadableQueryRegistry.set(a.params.id, a);
    e.exports = a;
  },
  null,
);
__d(
  'useSearchCometTypeaheadBootstrapValidationQuery_facebookRelayOperation',
  [],
  function (a, b, c, d, e, f) {
    e.exports = '5837572036269296';
  },
  null,
);
__d(
  'useSearchCometTypeaheadBootstrapValidationQuery.graphql',
  ['useSearchCometTypeaheadBootstrapValidationQuery_facebookRelayOperation'],
  function (a, b, c, d, e, f) {
    'use strict';
    a = (function () {
      var a = [{ defaultValue: null, kind: 'LocalArgument', name: 'input' }],
        c = [
          {
            alias: null,
            args: [{ kind: 'Variable', name: 'params', variableName: 'input' }],
            concreteType: 'SearchClientCachePolicyCheckResult',
            kind: 'LinkedField',
            name: 'search_client_cache_policy_check',
            plural: !1,
            selections: [
              {
                alias: null,
                args: null,
                concreteType: 'SearchClientCachePolicyDecision',
                kind: 'LinkedField',
                name: 'policy_decision',
                plural: !0,
                selections: [
                  {
                    alias: null,
                    args: null,
                    kind: 'ScalarField',
                    name: 'cache_type',
                    storageKey: null,
                  },
                  {
                    alias: null,
                    args: null,
                    kind: 'ScalarField',
                    name: 'ids_to_remove',
                    storageKey: null,
                  },
                  {
                    alias: null,
                    args: null,
                    kind: 'ScalarField',
                    name: 'force_cache_refresh',
                    storageKey: null,
                  },
                ],
                storageKey: null,
              },
            ],
            storageKey: null,
          },
        ];
      return {
        fragment: {
          argumentDefinitions: a,
          kind: 'Fragment',
          metadata: null,
          name: 'useSearchCometTypeaheadBootstrapValidationQuery',
          selections: c,
          type: 'Query',
          abstractKey: null,
        },
        kind: 'Request',
        operation: {
          argumentDefinitions: a,
          kind: 'Operation',
          name: 'useSearchCometTypeaheadBootstrapValidationQuery',
          selections: c,
        },
        params: {
          id: b(
            'useSearchCometTypeaheadBootstrapValidationQuery_facebookRelayOperation',
          ),
          metadata: {},
          name: 'useSearchCometTypeaheadBootstrapValidationQuery',
          operationKind: 'query',
          text: null,
        },
      };
    })();
    e.exports = a;
  },
  null,
);
__d(
  'CometCalloutEdgeArrow.svg.react',
  ['react', 'stylex'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    function a(a) {
      var b = a.xstyle;
      a = babelHelpers.objectWithoutPropertiesLoose(a, ['xstyle']);
      return h.jsxs(
        'svg',
        babelHelpers['extends'](
          {
            className: c('stylex')(b),
            height: '12px',
            viewBox: '0 0 21 12',
            width: '21px',
          },
          a,
          {
            children: [
              a.title != null && h.jsx('title', { children: a.title }),
              a.children != null && h.jsx('defs', { children: a.children }),
              h.jsx('path', {
                d: 'M20.685.12c-2.229.424-4.278 1.914-6.181 3.403L5.4 10.94c-2.026 2.291-5.434.62-5.4-2.648V.12h20.684z',
              }),
            ],
          },
        ),
      );
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    a._isSVG = !0;
    g['default'] = a;
  },
  98,
);
__d(
  'CometCalloutEdge.react',
  [
    'BaseContextualLayerContextSizeContext',
    'BaseContextualLayerLayerAdjustmentContext',
    'BaseContextualLayerOrientationContext',
    'BaseRow.react',
    'BaseView.react',
    'CometCalloutEdgeArrow.svg.react',
    'Locale',
    'react',
    'useOnOutsideClick',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react'),
      i = d('react').useContext,
      j = {
        arrow: { position: 'x10l6tqk', $$css: !0 },
        container: { display: 'x78zum5', $$css: !0 },
        content: {
          backgroundColor: 'x1h0vfkc',
          borderTopStartRadius: 'x1lq5wgf',
          borderTopEndRadius: 'xgqcy7u',
          borderBottomEndRadius: 'x30kzoy',
          borderBottomStartRadius: 'x9jhf4c',
          borderTopWidth: 'x178xt8z',
          borderEndWidth: 'xm81vs4',
          borderBottomWidth: 'xso031l',
          borderStartWidth: 'xy80clv',
          boxShadow: 'xofhs1l',
          paddingStart: 'x1ye3gou',
          paddingEnd: 'xn6708d',
          paddingTop: 'xyamay9',
          paddingBottom: 'x1l90r2v',
          $$css: !0,
        },
      },
      k = {
        accent: { backgroundColor: 'xwnonoy', $$css: !0 },
        default: { backgroundColor: 'x9bbmet', $$css: !0 },
      },
      l = {
        end: {
          borderBottomEndRadius: 'x5pf9jr',
          marginBottom: 'xieb3on',
          $$css: !0,
        },
        middle: { marginBottom: 'x12nagc', $$css: !0 },
        start: {
          borderBottomStartRadius: 'xo71vjh',
          marginBottom: 'xieb3on',
          $$css: !0,
        },
      },
      m = {
        end: {
          borderTopEndRadius: 'x13lgxp2',
          marginTop: 'x1sy10c2',
          $$css: !0,
        },
        middle: { marginTop: 'x1gslohp', $$css: !0 },
        start: {
          borderTopStartRadius: 'x168nmei',
          marginTop: 'x1sy10c2',
          $$css: !0,
        },
      },
      n = {
        end: {
          bottom: 'x7ofzsv',
          end: 'xds687c',
          transform: 'xpk2tj9',
          $$css: !0,
        },
        middle: { bottom: 'x7ofzsv', end: 'xds687c', $$css: !0 },
        start: { bottom: 'x7ofzsv', start: 'x17qophe', $$css: !0 },
      },
      o = { end: { $$css: !0 }, middle: { $$css: !0 }, start: { $$css: !0 } },
      p = {
        end: {
          bottom: 'x7ofzsv',
          end: 'xds687c',
          transform: 'xpk2tj9',
          $$css: !0,
        },
        middle: { bottom: 'x7ofzsv', end: 'xds687c', $$css: !0 },
        start: { bottom: 'x7ofzsv', start: 'x17qophe', $$css: !0 },
      },
      q = { end: { $$css: !0 }, middle: { $$css: !0 }, start: { $$css: !0 } },
      r = {
        end: {
          end: 'xds687c',
          top: 'x1nl0pjx',
          transform: 'x19jd1h0',
          $$css: !0,
        },
        middle: {
          end: 'xds687c',
          top: 'x1nl0pjx',
          transform: 'x1oihik5',
          $$css: !0,
        },
        start: {
          start: 'x17qophe',
          top: 'x1nl0pjx',
          transform: 'x1oihik5',
          $$css: !0,
        },
      },
      s = {
        end: { transform: 'x19jd1h0', $$css: !0 },
        middle: { transform: 'x1oihik5', $$css: !0 },
        start: { transform: 'x1oihik5', $$css: !0 },
      },
      t = {
        end: {
          end: 'xds687c',
          top: 'x1nl0pjx',
          transform: 'x19jd1h0',
          $$css: !0,
        },
        middle: {
          end: 'xds687c',
          top: 'x1nl0pjx',
          transform: 'x1oihik5',
          $$css: !0,
        },
        start: {
          start: 'x17qophe',
          top: 'x1nl0pjx',
          transform: 'x1oihik5',
          $$css: !0,
        },
      },
      u = {
        end: { transform: 'x19jd1h0', $$css: !0 },
        middle: { transform: 'x1oihik5', $$css: !0 },
        start: { transform: 'x1oihik5', $$css: !0 },
      },
      v = { end: 'start', start: 'end' };
    function a(a) {
      var b,
        d = a.children,
        e = a.onOutsideClick,
        f = a.type;
      f = f === void 0 ? 'default' : f;
      a = a.xstyle;
      var g = i(c('BaseContextualLayerOrientationContext')),
        n = g.align;
      g = g.position;
      n = n === 'stretch' ? 'start' : n;
      g = g === 'start' ? 'above' : g === 'end' ? 'below' : g;
      var o = i(c('BaseContextualLayerContextSizeContext'));
      b =
        (b = i(c('BaseContextualLayerLayerAdjustmentContext'))) != null ? b : 0;
      n = b !== 0 ? v[n] : n;
      o = y(n, (o = o == null ? void 0 : o.width) != null ? o : 0, b);
      b = c('useOnOutsideClick')(e);
      return h.jsxs(c('BaseView.react'), {
        style: o,
        xstyle: j.container,
        children: [
          h.jsx(c('BaseRow.react'), {
            ref: b,
            xstyle: [
              j.content,
              k[f],
              g === 'above' && l[n],
              g === 'below' && m[n],
              a,
            ],
            children: d,
          }),
          h.jsx(x, { align: n, position: g, type: f }),
        ],
      });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    var w = c('Locale').isRTL();
    function x(a) {
      var b = a.align,
        d = a.position;
      a = a.type;
      return h.jsx(c('CometCalloutEdgeArrow.svg.react'), {
        fill: a === 'default' ? 'var(--popover-background)' : 'var(--accent)',
        xstyle: [
          j.arrow,
          d === 'above' && a === 'default' && (w ? o[b] : n[b]),
          d === 'above' && a === 'accent' && (w ? q[b] : p[b]),
          d === 'below' && a === 'default' && (w ? s[b] : r[b]),
          d === 'below' && a === 'accent' && (w ? u[b] : t[b]),
        ],
      });
    }
    x.displayName = x.name + ' [from ' + f.id + ']';
    function y(a, b, c) {
      c = c === 0 ? b / 2 : 0;
      if (c === 0) return void 0;
      if (a === 'start')
        return { transform: 'translateX(' + (w ? -1 * c : c) + 'px)' };
      return a === 'end'
        ? { transform: 'translateX(' + (w ? c : -1 * c) + 'px)' }
        : void 0;
    }
    g['default'] = a;
  },
  98,
);
__d(
  'CometCalloutInsetArrow.svg.react',
  ['react', 'stylex'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    function a(a) {
      var b = a.xstyle;
      a = babelHelpers.objectWithoutPropertiesLoose(a, ['xstyle']);
      return h.jsxs(
        'svg',
        babelHelpers['extends'](
          {
            className: c('stylex')(b),
            height: '12px',
            viewBox: '0 0 21 12',
            width: '21px',
          },
          a,
          {
            children: [
              a.title != null && h.jsx('title', { children: a.title }),
              a.children != null && h.jsx('defs', { children: a.children }),
              h.jsx('path', {
                d: 'M20.685.12c-2.229.424-4.278 1.914-6.181 3.403L5.4 10.94c-2.026 2.291-5.434.62-5.4-2.648V.12h20.684z',
              }),
            ],
          },
        ),
      );
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    a._isSVG = !0;
    g['default'] = a;
  },
  98,
);
__d(
  'CometCalloutInset.react',
  [
    'BaseContextualLayerContextSizeContext',
    'BaseContextualLayerLayerAdjustmentContext',
    'BaseContextualLayerOrientationContext',
    'BaseRow.react',
    'BaseView.react',
    'CometCalloutInsetArrow.svg.react',
    'Locale',
    'react',
    'useOnOutsideClick',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react'),
      i = d('react').useContext,
      j = {
        arrow: { position: 'x10l6tqk', $$css: !0 },
        container: { display: 'x78zum5', $$css: !0 },
        content: {
          backgroundColor: 'x1h0vfkc',
          borderTopStartRadius: 'x1lq5wgf',
          borderTopEndRadius: 'xgqcy7u',
          borderBottomEndRadius: 'x30kzoy',
          borderBottomStartRadius: 'x9jhf4c',
          borderTopWidth: 'x178xt8z',
          borderEndWidth: 'xm81vs4',
          borderBottomWidth: 'xso031l',
          borderStartWidth: 'xy80clv',
          boxShadow: 'xofhs1l',
          paddingStart: 'x1ye3gou',
          paddingEnd: 'xn6708d',
          paddingTop: 'xyamay9',
          paddingBottom: 'x1l90r2v',
          $$css: !0,
        },
      },
      k = {
        accent: { backgroundColor: 'xwnonoy', $$css: !0 },
        default: { backgroundColor: 'x9bbmet', $$css: !0 },
      },
      l = {
        above: { marginBottom: 'x1yztbdb', $$css: !0 },
        below: { marginTop: 'xw7yly9', $$css: !0 },
        end: { marginStart: 'x1d52u69', $$css: !0 },
      },
      m = {
        above: { bottom: 'x1wa3icf', $$css: !0 },
        below: { top: 'x1jzctok', transform: 'x1oihik5', $$css: !0 },
        end: { $$css: !0 },
      },
      n = {
        above: { bottom: 'x1wa3icf', $$css: !0 },
        below: { top: 'x1jzctok', transform: 'x1oihik5', $$css: !0 },
        end: { $$css: !0 },
      };
    function a(a) {
      var b,
        d = a.children,
        e = a.onOutsideClick,
        f = a.type;
      f = f === void 0 ? 'default' : f;
      a = a.xstyle;
      var g = i(c('BaseContextualLayerOrientationContext')),
        m = g.align;
      g = g.position;
      m = m === 'stretch' ? 'start' : m;
      g = g === 'start' ? 'above' : g === 'end' ? 'below' : g;
      var n = i(c('BaseContextualLayerContextSizeContext'));
      b =
        (b = i(c('BaseContextualLayerLayerAdjustmentContext'))) != null ? b : 0;
      n = q(m, g, (m = n == null ? void 0 : n.width) != null ? m : 0, b);
      m = n[0];
      b = n[1];
      n = c('useOnOutsideClick')(e);
      return h.jsxs(c('BaseView.react'), {
        style: m,
        xstyle: j.container,
        children: [
          h.jsx(c('BaseRow.react'), {
            ref: n,
            xstyle: [j.content, k[f], l[g], a],
            children: d,
          }),
          h.jsx(o, { arrowStyles: b, position: g, type: f }),
        ],
      });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    function o(a) {
      var b = a.arrowStyles,
        d = a.position;
      a = a.type;
      return h.jsx(c('CometCalloutInsetArrow.svg.react'), {
        fill: a === 'default' ? 'var(--popover-background)' : 'var(--accent)',
        style: b,
        xstyle: [j.arrow, m[d], a === 'accent' && n[d]],
      });
    }
    o.displayName = o.name + ' [from ' + f.id + ']';
    var p = c('Locale').isRTL();
    function q(a, b, c, d) {
      var e = Math.max(c / 2 - 8, 16) + Math.abs(d),
        f = c / 2 - 8 < 16;
      c = 24 - c / 2;
      if (b === 'above')
        if (a === 'start') {
          var g;
          b = p ? 'right' : 'left';
          return [
            f ? { transform: 'translateX(' + (p ? c : -c) + 'px)' } : void 0,
            ((g = {}), (g[b] = 'min(calc(100% - 32px), ' + e + 'px)'), g),
          ];
        } else if (a === 'end') {
          b = p ? 'left' : 'right';
          return [
            f ? { transform: 'translateX(' + (p ? -c : c) + 'px)' } : void 0,
            ((g = {}), (g[b] = 'min(calc(100% - 32px), ' + e + 'px)'), g),
          ];
        } else {
          var h;
          b = p ? 'left' : 'right';
          g = (p ? -d : d) - 8;
          return [void 0, ((h = {}), (h[b] = 'calc(50% + ' + g + 'px)'), h)];
        }
      else if (a === 'start') {
        b = p ? 'right' : 'left';
        return [
          f ? { transform: 'translateX(' + (p ? c : -c) + 'px)' } : void 0,
          ((g = {}), (g[b] = 'min(calc(100% - 32px), ' + e + 'px)'), g),
        ];
      } else if (a === 'end') {
        h = p ? 'left' : 'right';
        return [
          f ? { transform: 'translateX(' + (p ? -c : c) + 'px)' } : void 0,
          ((b = {}), (b[h] = 'min(calc(100% - 32px), ' + e + 'px)'), b),
        ];
      } else {
        g = p ? 'left' : 'right';
        a = (p ? -d : d) - 8;
        return [void 0, ((f = {}), (f[g] = 'calc(50% + ' + a + 'px)'), f)];
      }
    }
    g['default'] = a;
  },
  98,
);
__d(
  'CometCallout.react',
  [
    'fbt',
    'ix',
    'BaseContextualLayerOrientationContext',
    'BaseRow.react',
    'BaseRowItem.react',
    'BaseView.react',
    'CometCalloutEdge.react',
    'CometCalloutInset.react',
    'CometColumn.react',
    'CometColumnItem.react',
    'CometErrorBoundary.react',
    'CometIcon.react',
    'CometNUXInlineSurvey.react',
    'CometPressable.react',
    'TetraTextPairing.react',
    'fbicon',
    'react',
    'unrecoverableViolation',
    'useOnOutsideClick',
    'useVisibilityObserver',
  ],
  function (a, b, c, d, e, f, g, h, i) {
    'use strict';
    var j = d('react');
    b = d('react');
    var k = b.useContext,
      l = b.useRef,
      m = {
        container: { display: 'x78zum5', $$css: !0 },
        content: {
          backgroundColor: 'x1h0vfkc',
          borderTopStartRadius: 'x1lq5wgf',
          borderTopEndRadius: 'xgqcy7u',
          borderBottomEndRadius: 'x30kzoy',
          borderBottomStartRadius: 'x9jhf4c',
          borderTopWidth: 'x178xt8z',
          borderEndWidth: 'xm81vs4',
          borderBottomWidth: 'xso031l',
          borderStartWidth: 'xy80clv',
          boxShadow: 'xofhs1l',
          paddingStart: 'x1ye3gou',
          paddingEnd: 'xn6708d',
          paddingTop: 'xyamay9',
          paddingBottom: 'x1l90r2v',
          $$css: !0,
        },
        crossoutButton: {
          marginEnd: 'xcud41i',
          marginTop: 'x9otpla',
          $$css: !0,
        },
        item: {
          paddingStart: 'x16hj40l',
          paddingEnd: 'xsyo7zv',
          paddingTop: 'x1yrsyyn',
          paddingBottom: 'x10b6aqq',
          $$css: !0,
        },
      },
      n = {
        accent: { backgroundColor: 'xwnonoy', $$css: !0 },
        default: { backgroundColor: 'x9bbmet', $$css: !0 },
      },
      o = {
        above: { marginBottom: 'x12nagc', $$css: !0 },
        below: { marginTop: 'x1gslohp', $$css: !0 },
        end: { marginStart: 'xsgj6o6', $$css: !0 },
        start: { $$css: !0 },
      };
    function a(a) {
      var b = a.arrowStyle;
      b = b === void 0 ? 'none' : b;
      var e = a.hasCloseButton;
      e = e === void 0 ? !1 : e;
      var f = a.headline,
        g = a.inlineSurvey,
        p = a.label,
        q = a.onClose,
        r = a.onHelpful,
        s = a.onHide,
        t = a.onNotHelpful,
        u = a.onOutsideClick,
        v = a.onPressCallout_experimentalDONOTUSE,
        w = a.onShow,
        x = a.profilePhoto_experimentalDONOTUSE,
        y = a.type;
      y = y === void 0 ? 'default' : y;
      a = a.xstyle;
      var z = k(c('BaseContextualLayerOrientationContext'));
      z = z.position;
      var A = l(null),
        B = (function () {
          if (A.current == null) {
            var a;
            A.current =
              (a =
                g == null
                  ? void 0
                  : g.getShouldShowInlineSurvey == null
                  ? void 0
                  : g.getShouldShowInlineSurvey()) != null
                ? a
                : !1;
          }
          return A.current;
        })(),
        C = c('useOnOutsideClick')(u);
      s = c('useVisibilityObserver')({ onHidden: s, onVisible: w });
      w = y === 'default' ? 'primary' : 'white';
      if (z === 'end' && (b === 'inset' || b === 'edge'))
        throw c('unrecoverableViolation')(
          '"end" position with arrow is not supported yet',
          'comet_ui',
        );
      x = j.jsxs(c('CometColumn.react'), {
        children: [
          j.jsx(c('CometColumnItem.react'), {
            children: j.jsxs(c('BaseRow.react'), {
              children: [
                x != null &&
                  j.jsx(c('BaseRowItem.react'), {
                    verticalAlign: 'top',
                    children: x,
                  }),
                j.jsx(c('BaseRowItem.react'), {
                  expanding: !0,
                  ref: s,
                  verticalAlign: 'center',
                  xstyle: m.item,
                  children: j.jsx(c('TetraTextPairing.react'), {
                    body: p,
                    bodyColor: w,
                    headline: f,
                    headlineColor: w,
                    level: 3,
                  }),
                }),
                e &&
                  j.jsx(c('BaseRowItem.react'), {
                    xstyle: [m.crossoutButton, m.item],
                    children: j.jsx(c('CometIcon.react'), {
                      'aria-label': h._('__JHASH__cCrSTii9yXy__JHASH__'),
                      color: y === 'default' ? 'secondary' : 'white',
                      icon: d('fbicon')._(i('478232'), 16),
                      onPress: q,
                      size: 16,
                    }),
                  }),
              ],
            }),
          }),
          g == null || B !== !0
            ? null
            : j.jsx(c('CometColumnItem.react'), {
                paddingTop: 12,
                children: j.jsx(c('BaseRow.react'), {
                  children: j.jsx(c('BaseRowItem.react'), {
                    expanding: !0,
                    verticalAlign: 'center',
                    xstyle: m.item,
                    children: j.jsx(c('CometNUXInlineSurvey.react'), {
                      bodyColor: y === 'default' ? void 0 : 'white',
                      initialHasAnsweredSurvey: g.initialHasAnsweredSurvey,
                      linkColor: y === 'default' ? void 0 : 'white',
                      onAnswer: g.onAnswer,
                      onHelpful: r,
                      onNotHelpful: t,
                    }),
                  }),
                }),
              }),
        ],
      });
      p = v
        ? j.jsx(c('BaseRowItem.react'), {
            ref: s,
            children: j.jsx(c('CometPressable.react'), {
              onPress: v,
              overlayDisabled: !0,
              children: x,
            }),
          })
        : x;
      if (b === 'inset')
        return j.jsx(c('CometCalloutInset.react'), {
          onOutsideClick: u,
          type: y,
          xstyle: a,
          children: p,
        });
      return b === 'edge'
        ? j.jsx(c('CometCalloutEdge.react'), {
            onOutsideClick: u,
            type: y,
            xstyle: a,
            children: p,
          })
        : j.jsx(c('CometErrorBoundary.react'), {
            fallback: function () {
              return j.jsx('div', {});
            },
            children: j.jsx(c('BaseView.react'), {
              xstyle: m.container,
              children: j.jsx(c('BaseRow.react'), {
                ref: C,
                xstyle: [m.content, n[y], b === 'none' && o[z], a],
                children: p,
              }),
            }),
          });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    g['default'] = a;
  },
  98,
);
__d(
  'CometCalloutImpl.react',
  [
    'BaseContextualLayer.react',
    'BaseContextualLayerAnchorRootContext',
    'CometCallout.react',
    'CometCalloutContext',
    'LayoutAnimationBoundaryContext',
    'react',
    'useCometDisplayTimingTrackerForInteraction',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    b = d('react');
    var i = b.useContext,
      j = b.useEffect;
    function a(a) {
      var b = a.anchorRootRefContext,
        d = a.animationContext,
        e = a.calloutID,
        f = a.calloutProps,
        g = a.contextRef,
        k = a.imperativeRef,
        l = a.scrollableAreaContext;
      a = c('useCometDisplayTimingTrackerForInteraction')(
        'CometCalloutManager',
      );
      var m = i(c('CometCalloutContext'));
      j(
        function () {
          var a = l
              .map(function (a) {
                return a.getDOMNode();
              })
              .filter(Boolean),
            b = function () {
              var a;
              return (a = k.current) == null ? void 0 : a.reposition();
            };
          if (a.length > 0) {
            a.forEach(function (a) {
              return a.addEventListener('scroll', b, { passive: !0 });
            });
            return function () {
              a.forEach(function (a) {
                return a.removeEventListener('scroll', b, { passive: !0 });
              });
            };
          }
        },
        [k, l],
      );
      return m == null || f == null || g == null
        ? null
        : h.jsx(c('LayoutAnimationBoundaryContext').Provider, {
            value: d,
            children: h.jsx(
              c('BaseContextualLayerAnchorRootContext').Provider,
              {
                value: b,
                children: h.jsx(c('BaseContextualLayer.react'), {
                  align: f.align,
                  contextRef: g,
                  disableAutoAlign: f.disableAutoAlign,
                  disableAutoFlip: f.disableAutoFlip,
                  imperativeRef: k,
                  position: f.position,
                  ref: a,
                  children: h.jsx(c('CometCallout.react'), {
                    arrowStyle: f.arrowStyle,
                    hasCloseButton: f.hasCloseButton,
                    headline: f.headline,
                    inlineSurvey: f.inlineSurvey,
                    label: f.label,
                    onClose:
                      f.hasCloseButton === !0
                        ? function () {
                            m.removeCallout(e),
                              f.onClose == null ? void 0 : f.onClose();
                          }
                        : void 0,
                    onHelpful: f.onHelpful,
                    onHide: f.onHide,
                    onNotHelpful: f.onNotHelpful,
                    onOutsideClick: function () {
                      f.disableOutsideClick !== !0 && m.removeCallout(e);
                    },
                    onPressCallout_experimentalDONOTUSE:
                      f.onPressCallout_experimentalDONOTUSE,
                    onShow: f.onShow,
                    profilePhoto_experimentalDONOTUSE:
                      f.profilePhoto_experimentalDONOTUSE,
                    type: f.type,
                    xstyle: f.xstyle,
                  }),
                }),
              },
            ),
          });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    g['default'] = a;
  },
  98,
);
__d(
  'CometTopNavTabBadge.react',
  ['CometNumberedBadge.react', 'react'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react'),
      i = d('react').useEffect;
    function a(a) {
      var b = a.isBadgeHidden,
        d = a.isTab,
        e = a.overflow,
        f = a.setBadgeCount,
        g = a.testid,
        j = a.value;
      g = babelHelpers.objectWithoutPropertiesLoose(a, [
        'isBadgeHidden',
        'isTab',
        'overflow',
        'setBadgeCount',
        'testid',
        'value',
      ]);
      i(
        function () {
          f && f(j);
        },
        [j, f],
      );
      if (b === !0 || j === 0) return null;
      a = d === !0 ? 'red' : void 0;
      return h.jsx(
        c('CometNumberedBadge.react'),
        babelHelpers['extends']({}, g, {
          color: a,
          overflow: e,
          testid: void 0,
          value: j,
        }),
      );
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    g['default'] = a;
  },
  98,
);
__d(
  'CometNotificationsBadgeCount.react',
  [
    'CometNotificationsBadgeCountFragment_viewer.graphql',
    'CometNotificationsBadgeCountQuery.graphql',
    'CometNumberedBadge.react',
    'CometPlaceholder.react',
    'CometRelay',
    'hero-tracing',
    'react',
    'setupNotificationsLiveQuery',
    'unrecoverableViolation',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h,
      i,
      j = d('react'),
      k = d('react').useEffect;
    function a(a) {
      var e = d('CometRelay').useLazyLoadQuery(
        h !== void 0 ? h : (h = b('CometNotificationsBadgeCountQuery.graphql')),
        { environment: 'MAIN_SURFACE' },
      );
      e = e.viewer;
      if (e == null)
        throw c('unrecoverableViolation')(
          'The viewer recieving these notifications cannot be null',
          'comet_feed',
        );
      e = d('CometRelay').useFragment(
        i !== void 0
          ? i
          : (i = b('CometNotificationsBadgeCountFragment_viewer.graphql')),
        e,
      );
      var f =
        (e = e == null ? void 0 : e.notifications_unseen_count) != null ? e : 0;
      e = a.isBadgeHidden;
      var g = a.overflow,
        l = a.setBadgeCount,
        m = d('CometRelay').useRelayEnvironment();
      k(
        function () {
          var a = c('setupNotificationsLiveQuery')(m);
          return function () {
            return a.dispose();
          };
        },
        [m],
      );
      k(
        function () {
          l && l(f);
        },
        [f, l],
      );
      return j.jsx(c('CometPlaceholder.react'), {
        fallback: j.jsx('span', {}),
        children:
          e !== !0 && f > 0
            ? j.jsx(d('hero-tracing').HeroPagelet, {
                name: 'NotificationsBadge',
                children: function (a, b) {
                  return j.jsxs(j.Fragment, {
                    children: [
                      j.jsx(c('CometNumberedBadge.react'), {
                        overflow: g,
                        ref: a,
                        testid: void 0,
                        value: f,
                      }),
                      j.jsx(b, {}),
                    ],
                  });
                },
              })
            : null,
      });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    g['default'] = a;
  },
  98,
);
__d(
  'MWChatHeadError.react',
  [
    'fbt',
    'ix',
    'CometPressable.react',
    'MWIcon.react',
    'MWTooltip.react',
    'fbicon',
    'react',
  ],
  function (a, b, c, d, e, f, g, h, i) {
    'use strict';
    var j = d('react'),
      k = {
        compose: {
          alignItems: 'x6s0dn4',
          backgroundColor: 'xcrg951',
          borderTopStartRadius: 'x14yjl9h',
          borderTopEndRadius: 'xudhj91',
          borderBottomEndRadius: 'x18nykt9',
          borderBottomStartRadius: 'xww2gxu',
          display: 'x78zum5',
          height: 'xsdox4t',
          justifyContent: 'xl56j7k',
          position: 'x1n2onr6',
          width: 'x1useyqa',
          $$css: !0,
        },
        dropShadow: {
          boxShadow: 'x1qeybcx',
          ':hover_boxShadow': 'x19xcq9t',
          $$css: !0,
        },
      },
      l = h._('__JHASH__1kKkUA_eanI__JHASH__');
    function a(a) {
      var b = a.contextRef;
      a = a.onPress;
      return j.jsx(c('MWTooltip.react'), {
        align: 'end',
        position: 'above',
        tooltip: l,
        children: j.jsx(c('CometPressable.react'), {
          'aria-label': l,
          disabled: a == null,
          display: 'inline',
          onPress: a,
          ref: b,
          xstyle: function (a) {
            return [k.compose, k.dropShadow];
          },
          children: j.jsx(c('MWIcon.react'), {
            icon: d('fbicon')._(i('502063'), 24),
          }),
        }),
      });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    g['default'] = a;
  },
  98,
);
__d(
  'MWChatDisabled.react',
  [
    'MWChatHeadError.react',
    'react',
    'useShouldShowMessagingEntrypointInCometRoot',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    function a(a) {
      var b = a.contextRef;
      a = a.onPress;
      var d = c('useShouldShowMessagingEntrypointInCometRoot')('CHAT');
      return d
        ? h.jsx('div', {
            className: 'x1ey2m1c xds687c xixxii4',
            children: h.jsx('div', {
              className: 'x191j7n5 x92rtbv x10l6tqk',
              children: h.jsx(c('MWChatHeadError.react'), {
                contextRef: b,
                onPress: a,
              }),
            }),
          })
        : null;
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    g['default'] = a;
  },
  98,
);
__d(
  'MWV2Chat.react',
  [
    'CometErrorBoundary.react',
    'CometLazyPopoverTrigger.react',
    'FBLogger',
    'JSResourceForInteraction',
    'MWChatDisabled.react',
    'cr:11569',
    'gkx',
    'killswitch',
    'react',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    function i(a) {
      var b = c('FBLogger')('messenger_browser_clients');
      a != null && (b = b.catching(a));
      b.warn('Error loading MWV2Chat');
    }
    var j = c('JSResourceForInteraction')(
        'MWChatErrorStatePopover.react',
      ).__setRef('MWV2Chat.react'),
      k = function (a) {
        return h.jsx(c('CometLazyPopoverTrigger.react'), {
          align: 'end',
          popoverProps: { error: a },
          popoverResource: j,
          position: 'above',
          visibleOnLoad: !1,
          children: function (a, b) {
            return h.jsx(c('MWChatDisabled.react'), {
              contextRef: a,
              onPress: b,
            });
          },
        });
      };
    function a(a) {
      return h.jsx(c('CometErrorBoundary.react'), {
        fallback: k,
        onError: i,
        children:
          !c('gkx')('1673554') ||
          c('killswitch')('COMET_CHAT') ||
          !c('gkx')('1812744')
            ? h.jsx(c('MWChatDisabled.react'), {})
            : b('cr:11569') && h.jsx(b('cr:11569'), {}),
      });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    g['default'] = a;
  },
  98,
);
__d(
  'MWChatStateV2CompareTabs.bs',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    function a(a, b) {
      a = a.openWatermark - b.openWatermark;
      if (a < 0) return 1;
      else if (a > 0) return -1;
      else return 0;
    }
    function b(a, b) {
      a =
        Math.max(a.minimizeWatermark, a.clientForcedMinimizeWatermark) -
        Math.max(b.minimizeWatermark, b.clientForcedMinimizeWatermark);
      if (a < 0) return 1;
      else if (a > 0) return -1;
      else return 0;
    }
    f.byMostRecentOpened = a;
    f.byMostRecentMinimized = b;
  },
  66,
);
__d(
  'MWChatStateV2IsComposeTab.bs',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    function a(a) {
      a = a.tabType;
      if (a.TAG === 0) return !0;
      else return !1;
    }
    f.isComposeTab = a;
  },
  66,
);
__d(
  'MWChatStateV2HeadGroups.bs',
  [
    'MWChatStateV2CompareTabs.bs',
    'MWChatStateV2IsComposeTab.bs',
    'MWChatStateV2IsMinimized.bs',
    'bs_caml_option',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function a(a, b, e, f) {
      var g = a !== void 0 ? c('bs_caml_option').valFromOption(a) : void 0;
      a = Array.from(e.values())
        .filter(function (a) {
          return d('MWChatStateV2IsMinimized.bs').isMinimized(
            c('bs_caml_option').some(g),
            a,
          );
        })
        .sort(function (a, b) {
          var c = d('MWChatStateV2CompareTabs.bs').byMostRecentMinimized(a, b);
          if (c === 0)
            return d('MWChatStateV2CompareTabs.bs').byMostRecentOpened(a, b);
          else return c;
        });
      e = b
        .filter(function (a) {
          return !d('MWChatStateV2IsComposeTab.bs').isComposeTab(a);
        })
        .concat(a);
      return [e.slice(0, f), e.slice(f, e.length)];
    }
    g.getHeadGroups = a;
  },
  98,
);
__d(
  'MWChatStateV2TabGroups.bs',
  ['MWChatStateV2CompareTabs.bs', 'MWChatStateV2IsOpen.bs', 'bs_caml_option'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function h(a, b, c) {
      var d = a.length;
      if (d > b && b > 0 && c !== void 0) {
        var e = a.findIndex(function (a) {
          return a.tabId === c;
        });
        if (e !== -1 && e >= b && e < d) {
          d = function (b, c) {
            var d = a[b];
            a[b] = a[c];
            a[c] = d;
          };
          d((b - 1) | 0, e);
        }
      }
      return a;
    }
    function a(a, b, e, f) {
      var g = a !== void 0 ? c('bs_caml_option').valFromOption(a) : void 0;
      a = h(
        Array.from(b.values())
          .filter(function (a) {
            return d('MWChatStateV2IsOpen.bs').isOpen(
              c('bs_caml_option').some(g),
              a,
            );
          })
          .sort(d('MWChatStateV2CompareTabs.bs').byMostRecentOpened),
        f,
        e,
      );
      return [a.slice(0, f), a.slice(f, a.length)];
    }
    g.getTabGroups = a;
  },
  98,
);
__d(
  'MWV2ChatHeadsLayout.bs',
  ['react'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    function a(a) {
      a = a.children;
      return h.jsx('div', {
        className: 'x191j7n5 x92rtbv x10l6tqk x1useyqa',
        children: a,
      });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    b = a;
    g.make = b;
  },
  98,
);
__d(
  'MWV2PreloadComposeTab.bs',
  ['JSResourceForInteraction', 'JSScheduler', 'react', 'useCometPreloader'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react'),
      i = c('JSResourceForInteraction')('MWV2ComposeTab.bs').__setRef(
        'MWV2PreloadComposeTab.bs',
      );
    function a(a) {
      a = h.useCallback(function (a) {
        d('JSScheduler').scheduleSpeculativeCallback(function () {
          i.preload();
        });
      }, []);
      return c('useCometPreloader')('button', a, a);
    }
    g.useHook = a;
  },
  98,
);
__d(
  'MWV2ComposeHead.bs',
  [
    'fbt',
    'ix',
    'CometPressable.react',
    'CometTintedIcon.react',
    'MWChatStateV2.bs',
    'MWTooltip.react',
    'MWV2PreloadComposeTab.bs',
    'bs_curry',
    'fbicon',
    'react',
  ],
  function (a, b, c, d, e, f, g, h, i) {
    'use strict';
    var j = d('react'),
      k = {
        button: {
          alignItems: 'x6s0dn4',
          appearance: 'xjyslct',
          backgroundColor: 'x1l31dnx',
          borderTopStartRadius: 'x14yjl9h',
          borderTopEndRadius: 'xudhj91',
          borderBottomEndRadius: 'x18nykt9',
          borderBottomStartRadius: 'xww2gxu',
          boxShadow: 'x1qeybcx',
          display: 'x3nfvp2',
          height: 'xsdox4t',
          justifyContent: 'xl56j7k',
          position: 'x1n2onr6',
          width: 'x1useyqa',
          ':hover_boxShadow': 'x19xcq9t',
          $$css: !0,
        },
      };
    function a(a) {
      var b = a.onFocusChange;
      a = a.onHoverChange;
      var e = d('MWChatStateV2.bs').useDispatch(),
        f = function (a) {
          var b = Date.now();
          a = function (a) {
            return {
              clientForcedMinimizeWatermark: a.clientForcedMinimizeWatermark,
              closeWatermark: a.closeWatermark,
              minimizeWatermark: a.minimizeWatermark,
              openFlyoutWatermark: a.openFlyoutWatermark,
              openWatermark: b,
              tabId: a.tabId,
              tabType: a.tabType,
            };
          };
          var d = function (a) {
            var c = a.openWatermark < a.closeWatermark;
            if (c)
              return {
                clientForcedMinimizeWatermark: a.clientForcedMinimizeWatermark,
                closeWatermark: a.closeWatermark,
                minimizeWatermark: a.minimizeWatermark,
                openFlyoutWatermark: a.openFlyoutWatermark,
                openWatermark: b,
                tabId: a.tabId,
                tabType: { _0: [], _1: !1, TAG: 0 },
              };
            else
              return {
                clientForcedMinimizeWatermark: a.clientForcedMinimizeWatermark,
                closeWatermark: b,
                minimizeWatermark: a.minimizeWatermark,
                openFlyoutWatermark: a.openFlyoutWatermark,
                openWatermark: a.openWatermark,
                tabId: a.tabId,
                tabType: { _0: [], _1: !1, TAG: 0 },
              };
          };
          return c('bs_curry')._1(e, [
            {
              _0: { _0: [], _1: !1, TAG: 0 },
              _1: { shouldFocus: !0 },
              _2: d,
              _3: a,
              TAG: 3,
            },
          ]);
        },
        g = d('MWV2PreloadComposeTab.bs').useHook(),
        l = h._('__JHASH__lMGuJRoIOm8__JHASH__');
      return j.jsx(c('MWTooltip.react'), {
        align: 'middle',
        position: 'start',
        tooltip: l.toString(),
        children: j.jsx(c('CometPressable.react'), {
          'aria-label': l,
          onFocusChange: b,
          onHoverChange: a,
          onHoverIn: g[0],
          onHoverOut: g[1],
          onPress: f,
          testid: void 0,
          xstyle: function (a) {
            return [k.button];
          },
          children: j.jsx(c('CometTintedIcon.react'), {
            color: 'primary',
            icon: d('fbicon')._(i('507172'), 20),
          }),
        }),
      });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    b = a;
    e = b;
    g.make = e;
  },
  98,
);
__d(
  'useMWChatStateV2MaxTabCount',
  ['bs_js_math', 'useWindowSize'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function a(a) {
      var b = c('useWindowSize')();
      b = b.innerWidth;
      if (b < 1100 || a) return 1;
      a = (((b / 2) | 0) - 90) | 0;
      b = a / 338;
      if (b < 1) return 1;
      else return c('bs_js_math').ceil_int(b);
    }
    g['default'] = a;
  },
  98,
);
__d(
  'useMWIsTopLevelRouteMediaViewerExperiment',
  ['MWChatVisibileRoutes', 'useCometRouterState'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function a() {
      var a = c('useCometRouterState')();
      if (a == null) return !1;
      var b = a.main;
      a = a.pushViewStack;
      a = a && a.length > 0 ? a[a.length - 1] : b;
      return d('MWChatVisibileRoutes').ROUTES.has(
        (a = (b = a.route) == null ? void 0 : b.tracePolicy) != null ? a : '',
      );
    }
    g['default'] = a;
  },
  98,
);
__d(
  'MWV2ChatHeads.bs',
  [
    'BootloaderResource',
    'CometErrorBoundary.react',
    'CometPlaceholder.react',
    'JSResource',
    'MWChatStateV2.bs',
    'MWChatStateV2HeadGroups.bs',
    'MWChatStateV2TabGroups.bs',
    'MWV2ChatHeadsLayout.bs',
    'MWV2ComposeHead.bs',
    'bs_caml_option',
    'bs_curry',
    'bs_int64',
    'cr:1134',
    'react',
    'useMWChatStateV2MaxTabCount',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react'),
      i = c('JSResource')('MWV2ChatOverflowHead.bs').__setRef(
        'MWV2ChatHeads.bs',
      );
    function j(a, b, c, d) {
      return { excessHeads: b, onHoverChange: c, style: a };
    }
    function k(a) {
      return h.createElement(d('BootloaderResource').read(i).make, a);
    }
    e = { make: k, makeProps: j, reasonResource: i };
    var l = c('JSResource')('MWV2ChatHead.bs').__setRef('MWV2ChatHeads.bs');
    function m(a, b, c, d, e, f) {
      return {
        onFocusChange: e,
        onHoverChange: d,
        style: c,
        tab: b,
        threadKeyDescriptor: a,
      };
    }
    function n(a) {
      return h.createElement(d('BootloaderResource').read(l).make, a);
    }
    var o = { make: n, makeProps: m, reasonResource: l };
    function p(a) {
      return { transform: 'translateY(-' + String(Math.imul(a, 58)) + 'px)' };
    }
    function q(a) {
      return {
        transform: 'translateY(-' + String((Math.imul(a, 58) - 12) | 0) + 'px)',
      };
    }
    function a(a) {
      a = a.isMediaViewer;
      var e = d('MWChatStateV2.bs').useState(function (a) {
        return a.tabs;
      });
      e = e.tabs;
      var f = d('MWChatStateV2.bs').useState(function (a) {
          return a.focusedTabId;
        }),
        g = d('MWChatStateV2.bs').useState(function (a) {
          return a.mediaViewerOpenWatermark;
        }),
        i = c('useMWChatStateV2MaxTabCount')(a);
      a = a ? g.mediaViewerOpenWatermark : void 0;
      g = d('MWChatStateV2TabGroups.bs').getTabGroups(
        c('bs_caml_option').some(a),
        e,
        f.focusedTabId,
        i,
      );
      f = d('MWChatStateV2HeadGroups.bs').getHeadGroups(
        c('bs_caml_option').some(a),
        g[1],
        e,
        5,
      );
      i = f[1];
      a = f[0];
      e = g[0].length;
      f = a.length;
      var l = i.length > 0 ? 1 : 0;
      g = h.useState(function () {
        return !1;
      });
      var o = g[1],
        r = i.length;
      if (r !== 1)
        r =
          r !== 0
            ? h.jsx(c('CometPlaceholder.react'), {
                fallback: null,
                children: h.jsx(
                  k,
                  j(p(1), i, function (a) {
                    return c('bs_curry')._1(o, function (b) {
                      return a;
                    });
                  }),
                ),
              })
            : null;
      else {
        i = i[0];
        var s = i.tabType;
        if (s.TAG === 0) r = null;
        else {
          s = s._0;
          r = h.jsx(
            c('CometErrorBoundary.react'),
            {
              fallback: function (a) {
                return null;
              },
              children: h.jsx(c('CometPlaceholder.react'), {
                fallback: null,
                children: h.jsx(
                  n,
                  m(
                    s,
                    i,
                    p(1),
                    function (a) {
                      return c('bs_curry')._1(o, function (b) {
                        return a;
                      });
                    },
                    function (a) {
                      return c('bs_curry')._1(o, function (b) {
                        return a;
                      });
                    },
                  ),
                ),
              }),
            },
            c('bs_int64').to_string(s.threadKey),
          );
        }
      }
      return h.jsxs(d('MWV2ChatHeadsLayout.bs').make, {
        children: [
          !(b('cr:1134') == null) && (e > 0 || f > 0)
            ? h.jsx(b('cr:1134').make, {
                isVisible: g[0],
                openTabCount: e,
                style: q((((f + l) | 0) + 1) | 0),
              })
            : null,
          a.reverse().map(function (b, d) {
            var a = b.tabType;
            if (a.TAG === 0) return null;
            a = a._0;
            d = (((d + l) | 0) + 1) | 0;
            return h.jsx(
              c('CometErrorBoundary.react'),
              {
                fallback: function (a) {
                  return null;
                },
                children: h.jsx(c('CometPlaceholder.react'), {
                  fallback: null,
                  children: h.jsx(
                    n,
                    m(
                      a,
                      b,
                      p(d),
                      function (a) {
                        return c('bs_curry')._1(o, function (b) {
                          return a;
                        });
                      },
                      function (a) {
                        return c('bs_curry')._1(o, function (b) {
                          return a;
                        });
                      },
                    ),
                  ),
                }),
              },
              c('bs_int64').to_string(a.threadKey),
            );
          }),
          r,
          h.jsx(d('MWV2ComposeHead.bs').make, {
            onFocusChange: function (a) {
              return c('bs_curry')._1(o, function (b) {
                return a;
              });
            },
            onHoverChange: function (a) {
              return c('bs_curry')._1(o, function (b) {
                return a;
              });
            },
          }),
        ],
      });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    f = a;
    g.$MWV2ChatOptionsHead$requireCond = b('cr:1134');
    g.LazyMWV2ChatOverflowHead = e;
    g.LazyMWV2ChatHead = o;
    g.make = f;
  },
  98,
);
__d(
  'MWV2ChatTabLoading.bs',
  [
    'cssVar',
    'fbt',
    'MWChatStateActions.bs',
    'MWChatStateV2.bs',
    'MWPThreadTheme.bs',
    'MWV2HeaderCloseButton.bs',
    'MWV2HeaderContainer.bs',
    'MWV2IsTabFocusedContext.bs',
    'MWV2TabContainer.bs',
    'bs_curry',
    'react',
    'useCometLoadingStateTracker',
  ],
  function (a, b, c, d, e, f, g, h, i) {
    'use strict';
    var j = d('react');
    function a(a) {
      var b = a.tab;
      a = c('useCometLoadingStateTracker')();
      var e = a[1],
        f = d('MWChatStateV2.bs').useDispatch();
      a = d('MWPThreadTheme.bs').useTop();
      var g = d('MWV2IsTabFocusedContext.bs').useContext();
      a = g ? a : '#C9CCD1';
      j.useEffect(
        function () {
          if (g) {
            var a = e.current;
            a == null || a.focus();
          }
        },
        [g],
      );
      return j.jsx(d('MWV2TabContainer.bs').make, {
        ariaBusy: !0,
        ariaLabel: i._('__JHASH__SxkfHU6fYt9__JHASH__'),
        domRef: e,
        tab: b,
        tabIndex: 0,
        children: j.jsx(d('MWV2HeaderContainer.bs').make, {
          endContent: j.jsx(d('MWV2HeaderCloseButton.bs').make, {
            color: a,
            onPress: function (a) {
              return c('bs_curry')._1(
                f,
                d('MWChatStateActions.bs').closeTab(Date.now(), b.tabId),
              );
            },
          }),
        }),
      });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    b = a;
    g.make = b;
  },
  98,
);
__d(
  'MWV2ChatTabsLayout.bs',
  ['react'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    function a(a) {
      a = a.children;
      return h.jsx('div', {
        className: 'x1ey2m1c x78zum5 x164qtfw xixxii4 x1vjfegm',
        'data-testid': void 0,
        children: a,
      });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    b = a;
    g.make = b;
  },
  98,
);
__d(
  'MWV2ChatTabs.bs',
  [
    'BootloaderResource',
    'CometErrorBoundary.react',
    'CometHeroInteractionWithDiv.react',
    'CometPlaceholder.react',
    'JSResource',
    'MWChatInteraction.bs',
    'MWChatStateV2.bs',
    'MWChatStateV2TabGroups.bs',
    'MWPReplyContext.bs',
    'MWV2ChatTabLoading.bs',
    'MWV2ChatTabsLayout.bs',
    'MWV2IsTabFocusedContext.bs',
    'bs_caml_obj',
    'bs_caml_option',
    'bs_curry',
    'bs_int64',
    'cr:356',
    'react',
    'useCometDisplayTimingTrackerForInteraction',
    'useMWChatStateV2MaxTabCount',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react'),
      i = c('JSResource')('MWV2ComposeTab.bs').__setRef('MWV2ChatTabs.bs');
    function a(a, b, c) {
      return { initialTokens: b, tab: a };
    }
    function j(a) {
      return h.createElement(d('BootloaderResource').read(i).make, a);
    }
    a = { make: j, makeProps: a, reasonResource: i };
    var k = c('JSResource')('MWV2ChatTab.bs').__setRef('MWV2ChatTabs.bs');
    function e(a, b, c) {
      return { tab: a, threadKeyDescriptor: b };
    }
    function l(a) {
      return h.createElement(d('BootloaderResource').read(k).make, a);
    }
    e = { make: l, makeProps: e, reasonResource: k };
    var m =
      b('cr:356') == null ? void 0 : c('bs_caml_option').some(b('cr:356'));
    function n(a) {
      a = a.isMediaViewer;
      var e = d('MWChatStateV2.bs').useState(function (a) {
          return a.tabs;
        }),
        f = d('MWChatStateV2.bs').useState(function (a) {
          return a.focusedTabId;
        }),
        g = f.focusedTabId;
      f = d('MWChatStateV2.bs').useState(function (a) {
        return a.mediaViewerOpenWatermark;
      });
      var i = c('useMWChatStateV2MaxTabCount')(a);
      a = d('MWChatStateV2TabGroups.bs').getTabGroups(
        c('bs_caml_option').some(a ? f.mediaViewerOpenWatermark : void 0),
        e.tabs,
        g,
        i,
      );
      var k = h.useCallback(function (a) {
          if (a.TAG === 0) return null;
          else
            return d('MWChatInteraction.bs').get(
              c('bs_int64').to_string(a._0.threadKey),
            );
        }, []),
        n = c('useCometDisplayTimingTrackerForInteraction')('ChatMain', !0);
      f = a[0].map(function (a, e) {
        var f = c('bs_caml_obj').caml_equal(g, a.tabId),
          i = a.tabType;
        i =
          i.TAG === 0
            ? h.jsx(j, { initialTokens: i._0, tab: a })
            : h.jsx(l, { tab: a, threadKeyDescriptor: i._0 });
        f = h.jsx(d('MWV2IsTabFocusedContext.bs').make, {
          isFocused: f,
          children: h.jsx(d('MWPReplyContext.bs').make, {
            children: h.jsx(c('CometPlaceholder.react'), {
              fallback: h.jsx(d('MWV2ChatTabLoading.bs').make, { tab: a }),
              children: h.jsx(c('CometHeroInteractionWithDiv.react'), {
                excludeFromMainVC: !0,
                interactionDesc: 'MWV2_CHAT_TAB',
                interactionUUID: c('bs_curry')._1(k, a.tabType),
                pageletName: 'ChatTab',
                ref: n,
                children: i,
              }),
            }),
          }),
        });
        return h.jsx(
          c('CometErrorBoundary.react'),
          {
            fallback: function (a) {
              return null;
            },
            children:
              b('cr:356') == null
                ? f
                : h.jsx(m.TabIndex.make, { children: f, value: e }),
          },
          String(a.tabId),
        );
      });
      return h.jsx(d('MWV2ChatTabsLayout.bs').make, {
        children: b('cr:356') == null ? f : h.jsx(m.make, { children: f }),
      });
    }
    n.displayName = n.name + ' [from ' + f.id + ']';
    f = n;
    g.$MWComposerKeyCommandFocusManager$OR$null$requireCond = b('cr:356');
    g.LazyMWV2ComposeTab = a;
    g.LazyMWV2ChatTab = e;
    g.make = f;
  },
  98,
);
__d(
  'MWV2CookieWriter.bs',
  [
    'DeferredCookie',
    'MWCMThreadTypes.bs',
    'MessagingThreadType.bs',
    'Promise',
    'ReQL.bs',
    'bs_belt_Option',
    'bs_caml',
    'bs_caml_option',
    'bs_int64',
    'gkx',
    'promiseDone',
    'recoverableViolation',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function h(a) {
      if (c('bs_caml').i64_eq(a, d('MessagingThreadType.bs').group))
        return 'g.';
      else if (
        c('bs_caml').i64_eq(
          a,
          d('MessagingThreadType.bs').secureMessageOverWaOneToOne,
        )
      )
        return 'sc.';
      else if (
        c('bs_caml').i64_eq(
          a,
          d('MessagingThreadType.bs').secureMessageOverWaGroup,
        )
      )
        return 'sg.';
      else return 'u.';
    }
    function a(a, e, f) {
      var g = function (a) {
          if (e === void 0) return !1;
          var b = e.tabType;
          if (b.TAG === 0) return !1;
          else return c('bs_caml').i64_eq(b._0.threadKey, a);
        },
        i = function (a) {
          return d('ReQL.bs').first(
            d('ReQL.bs').getKeyRange(
              d('ReQL.bs').fromTableAscending(f.table('threads')),
              { hd: a, tl: 0 },
            ),
          );
        },
        j = { contents: void 0 };
      a = a.map(function (a) {
        var e = a.threadType,
          f = a.threadKey,
          k = {};
        return i(f).then(function (a) {
          if (a !== void 0)
            if (g(f)) {
              c('gkx')('1747') &&
                d('MWCMThreadTypes.bs').isJoinedCMThread(e) &&
                (j.contents = c('bs_int64').to_string(a.parentThreadKey));
              return b('Promise').resolve();
            } else {
              k.i = h(e) + c('bs_int64').to_string(f);
              c('gkx')('1747') &&
                d('MWCMThreadTypes.bs').isJoinedCMThread(e) &&
                (k.p = c('bs_int64').to_string(a.parentThreadKey));
              return b('Promise').resolve(c('bs_caml_option').some(k));
            }
          else {
            k.i = h(e) + c('bs_int64').to_string(f);
            return b('Promise').resolve(c('bs_caml_option').some(k));
          }
        });
      });
      a = b('Promise')
        .all(a)
        .then(function (a) {
          var d;
          if (e !== void 0) {
            var f = e.tabType;
            if (f.TAG === 0) d = void 0;
            else {
              f = f._0;
              d = h(f.threadType) + c('bs_int64').to_string(f.threadKey);
            }
          } else d = void 0;
          f = a.filter(c('bs_belt_Option').isSome);
          a = j.contents;
          a =
            a !== void 0
              ? JSON.stringify({
                  lm3: d,
                  lm3p: a,
                  t3: f,
                  utc3: Date.now(),
                  v: 1,
                })
              : JSON.stringify({ lm3: d, t3: f, utc3: Date.now(), v: 1 });
          a !== void 0
            ? c('DeferredCookie').addToQueue(
                'presence',
                'C' + a,
                0,
                c('gkx')('1747') ? '/' : '',
                !1,
                !1,
                !0,
              )
            : c('recoverableViolation')(
                'Failed to serialize cookie',
                'messenger_comet',
              );
          return b('Promise').resolve();
        });
      c('promiseDone')(a);
    }
    e = 1;
    g.write = a;
    g.version = e;
  },
  98,
);
__d(
  'UseMWV2CookieWriter.bs',
  [
    'MWChatStateV2.bs',
    'MWChatStateV2CompareTabs.bs',
    'MWChatStateV2IsOpen.bs',
    'MWV2CookieWriter.bs',
    'bs_belt_Array',
    'bs_caml',
    'gkx',
    'react',
    'useReStore',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    function a(a) {
      var b = d('MWChatStateV2.bs').useState(function (a) {
          return a.tabs;
        }),
        e = c('useReStore')();
      h.useEffect(
        function () {
          var a = c('bs_belt_Array').get(
              Array.from(b.tabs.values())
                .filter(function (a) {
                  return d('MWChatStateV2IsOpen.bs').isOpen(void 0, a);
                })
                .sort(d('MWChatStateV2CompareTabs.bs').byMostRecentOpened),
              0,
            ),
            f = function (b) {
              b = b.tabType;
              if (a === void 0) return !1;
              var d = a.tabType;
              if (d.TAG === 0 || b.TAG === 0) return !1;
              else return c('bs_caml').i64_eq(d._0.threadKey, b._0.threadKey);
            },
            g = [];
          Array.from(b.tabs.values())
            .filter(function (a) {
              if (a.openWatermark > a.closeWatermark) return !0;
              else return a.minimizeWatermark > a.closeWatermark;
            })
            .filter(function (a) {
              if (c('gkx')('1747')) return !0;
              else return !f(a);
            })
            .sort(function (a, b) {
              var c = d('MWChatStateV2CompareTabs.bs').byMostRecentMinimized(
                a,
                b,
              );
              if (c === 0)
                return d('MWChatStateV2CompareTabs.bs').byMostRecentOpened(
                  a,
                  b,
                );
              else return c;
            })
            .forEach(function (a) {
              a = a.tabType;
              if (a.TAG === 0) return;
              g.push(a._0);
            });
          d('MWV2CookieWriter.bs').write(g, a, e);
        },
        [e, b],
      );
    }
    b = c('gkx')('1812641') ? a : function (a) {};
    g.useHook = b;
  },
  98,
);
__d(
  'useMWChatInit',
  [
    'LSErrorHandlerDeferred.bs',
    'MWLSChatPopperUpper.bs',
    'MWPGetThreadTitle.bs',
    'ReQL',
    'ReQLSuspense',
    'react',
    'useReStore',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react').useEffect;
    function a() {
      var a = c('useReStore')();
      h(
        function () {
          d('ReQL').toArrayAsync(
            d('ReQL')
              .fromTableAscending(a.table('threads'))
              .map(function (b) {
                return [
                  b,
                  d('ReQLSuspense').toArray(
                    d('ReQL')
                      .leftJoin(
                        d('ReQL')
                          .fromTableAscending(a.table('participants'))
                          .getKeyRange(b.threadKey),
                        d('ReQL').fromTableAscending(a.table('contacts')),
                      )
                      .take(d('MWPGetThreadTitle.bs').amountToFetchForTitle),
                  ),
                ];
              })
              .take(30),
          );
          return d('LSErrorHandlerDeferred.bs').subscribeToErrors(a);
        },
        [a],
      );
      d('MWLSChatPopperUpper.bs').useHook(a);
    }
    g['default'] = a;
  },
  98,
);
__d(
  'useMWV2ChatUpdateMediaViewerOpenWatermark',
  ['MWChatStateActions.bs', 'MWChatStateV2.bs', 'react'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react').useCallback;
    function a() {
      var a = d('MWChatStateV2.bs').useDispatch();
      return h(
        function () {
          var b = Date.now();
          a(d('MWChatStateActions.bs').updateMediaViewerOpenWatermark(b));
        },
        [a],
      );
    }
    g['default'] = a;
  },
  98,
);
__d(
  'MWV2ChatTabsRoot.react',
  [
    'CometContextualLayerAnchorRoot.react',
    'CometPlaceholder.react',
    'MWChatEncryptedBackupsUpsellChatTabs.bs',
    'MWChatVisibilityOverrideContext',
    'MWLSThreadDisplayContext.bs',
    'MWSetupPresenceReportingDeferred.react',
    'MWV2ChatHeads.bs',
    'MWV2ChatTabs.bs',
    'UseMWV2CookieWriter.bs',
    'gkx',
    'react',
    'stylex',
    'useMWChatInit',
    'useMWIsOnPushView',
    'useMWIsTopLevelRouteMediaViewerExperiment',
    'useMWV2ChatUpdateMediaViewerOpenWatermark',
    'useShouldShowMessagingEntrypointInCometRoot',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    b = d('react');
    var i = b.useEffect;
    e = b.useMemo;
    var j = c('gkx')('2640')
        ? e
        : function (a, b) {
            return a();
          },
      k = {
        chatAbovePushView: { zIndex: 'x1vjfegm', $$css: !0 },
        container: {
          alignItems: 'xuk3077',
          display: 'x78zum5',
          isolation: 'xc8icb0',
          $$css: !0,
        },
        root: {
          bottom: 'x1ey2m1c',
          end: 'xds687c',
          position: 'xixxii4',
          $$css: !0,
        },
      };
    function l(a) {
      var b = a.isMediaViewer;
      a = a.showChatAbovePushView;
      var e = d('MWChatEncryptedBackupsUpsellChatTabs.bs').useHook();
      return h.jsx(d('MWLSThreadDisplayContext.bs').Provider.make, {
        value: 'ChatTab',
        children: h.jsx('div', {
          className: c('stylex')(k.root, a ? k.chatAbovePushView : !1),
          children: h.jsx(c('CometContextualLayerAnchorRoot.react'), {
            children: h.jsx('div', {
              className: 'xuk3077 x78zum5 xc8icb0',
              children:
                e == null
                  ? h.jsxs(h.Fragment, {
                      children: [
                        h.jsx(d('MWV2ChatTabs.bs').make, { isMediaViewer: b }),
                        h.jsx(d('MWV2ChatHeads.bs').make, { isMediaViewer: b }),
                      ],
                    })
                  : e,
            }),
          }),
        }),
      });
    }
    l.displayName = l.name + ' [from ' + f.id + ']';
    function m(a) {
      a = a.children;
      d('UseMWV2CookieWriter.bs').useHook();
      c('useMWChatInit')();
      return a;
    }
    m.displayName = m.name + ' [from ' + f.id + ']';
    function a() {
      var a = c('useMWIsOnPushView')(),
        b = c('useMWIsTopLevelRouteMediaViewerExperiment')(),
        e = d('MWChatVisibilityOverrideContext').useMWChatVisibilityOverride(b),
        f = c('useMWV2ChatUpdateMediaViewerOpenWatermark')(),
        g = c('useShouldShowMessagingEntrypointInCometRoot')('CHAT') && e;
      i(
        function () {
          b && f();
        },
        [b, f],
      );
      return j(
        function () {
          return h.jsxs(c('CometPlaceholder.react'), {
            fallback: null,
            children: [
              h.jsx(c('MWSetupPresenceReportingDeferred.react'), {}),
              h.jsx(m, {
                children: g
                  ? h.jsx(l, { isMediaViewer: b, showChatAbovePushView: a })
                  : null,
              }),
            ],
          });
        },
        [g, a, b],
      );
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    g['default'] = a;
  },
  98,
);
__d(
  'MWV2ChatContainer.react',
  [
    'LSPlatformClientProviderWithDeferredLoadingStrategy.bs',
    'LSPlatformConfig.re',
    'LSPlatformMessengerConfig.bs',
    'MWV2ChatTabsRoot.react',
    'cr:1847792',
    'react',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    function a(a) {
      return h.jsx(d('LSPlatformConfig.re').Provider_make, {
        config: d('LSPlatformMessengerConfig.bs').configEagerlyLoaded,
        children: h.jsxs(
          d('LSPlatformClientProviderWithDeferredLoadingStrategy.bs').make,
          {
            children: [
              h.jsx(c('MWV2ChatTabsRoot.react'), {}),
              b('cr:1847792') &&
                h.jsx(b('cr:1847792'), { entrypoint: 'fbdotcom' }),
            ],
          },
        ),
      });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    g['default'] = a;
  },
  98,
);
__d(
  'MWXACIntroView.react',
  [
    'CometPlaceholder.react',
    'CometRelay',
    'MWXACIntroViewQuery.graphql',
    'RelayHooks',
    'emptyFunction',
    'react',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h,
      i = d('react');
    e = '8626';
    var j = '8634',
      k = '8635',
      l = h !== void 0 ? h : (h = b('MWXACIntroViewQuery.graphql')),
      m = { fbdotcom: e, inbox: j, mdotcom: k };
    function a(a) {
      var b = m[a.entrypoint],
        e = d('RelayHooks').useLazyLoadQuery(l, { xacIntroNuxId: b });
      e =
        e == null
          ? void 0
          : (e = e.viewer) == null
          ? void 0
          : e.messenger_xac_intro_renderer;
      return i.jsx(c('CometPlaceholder.react'), {
        fallback: null,
        children: e
          ? i.jsx(d('CometRelay').MatchContainer, {
              match: e,
              props: {
                entrypoint: a.entrypoint,
                nuxId: b,
                onClose: c('emptyFunction'),
              },
            })
          : null,
      });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    g['default'] = a;
  },
  98,
);
__d(
  'MWCometXACIntroView.react',
  ['MWXACIntroView.react', 'react', 'useCometRouterState'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    function i() {
      var a = c('useCometRouterState')(),
        b = a == null ? void 0 : a.main;
      a = a == null ? void 0 : a.pushViewStack;
      a = a && a.length > 0 ? a[a.length - 1] : b;
      return (
        (a == null ? void 0 : a.route.tracePolicy) === 'comet.messenger.inbox'
      );
    }
    function a(a) {
      var b = i();
      return b && a.entrypoint === 'fbdotcom'
        ? null
        : h.jsx(c('MWXACIntroView.react'), { entrypoint: a.entrypoint });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    g['default'] = a;
  },
  98,
);
__d(
  'MAWChatBadgeInitSyncCompleteUpdates.bs',
  [
    'LSSyncStatus.bs',
    'MAWInitSyncComplete.bs',
    'ReQL.bs',
    'ReQLSubscription.bs',
    'bs_belt_Option',
    'bs_caml',
    'react',
    'useReStore',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    function a(a) {
      var b = c('useReStore')();
      return c('bs_belt_Option').mapWithDefault(
        d('ReQLSubscription.bs').useFirst(
          h.useMemo(
            function () {
              return d('ReQL.bs').getKeyRange(
                d('ReQL.bs').fromTableAscending(b.table('sync_groups')),
                { hd: d('MAWInitSyncComplete.bs').id, tl: 0 },
              );
            },
            [b],
          ),
        ),
        !1,
        function (a) {
          return c('bs_caml').i64_eq(
            a.syncStatus,
            d('LSSyncStatus.bs').complete,
          );
        },
      );
    }
    g.useHook = a;
  },
  98,
);
__d(
  'MWChatBadgeCount.react',
  [
    'CometNumberedBadge.react',
    'CometPlaceholder.react',
    'CometRelay',
    'CometVisualCompletionAttributes',
    'MAWGating',
    'MWChatBadgeCountQuery.graphql',
    'MWChatBadgeCountUpdates.bs',
    'MWXacGating.bs',
    'qex',
    'react',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h,
      i = d('react');
    e = d('react');
    var j = e.useEffect,
      k = e.useRef;
    function l(a) {
      var e,
        f = a.overflow,
        g = a.setBadgeCount;
      a = d('CometRelay').useLazyLoadQuery(
        h !== void 0 ? h : (h = b('MWChatBadgeCountQuery.graphql')),
        { suppress_xac_groups: !d('MWXacGating.bs').isGroupsEnabled() },
        { fetchPolicy: 'store-or-network' },
      );
      a = (a = a.viewer) == null ? void 0 : a.message_threads;
      var l =
          a != null &&
          !m(
            (e = a.is_loading_client_threads) != null
              ? e
              : d('MAWGating').isArmadillo() === !0,
          ) &&
          a.unseen_count != null &&
          a.unseen_count > 0
            ? Math.min(
                d('MWChatBadgeCountUpdates.bs').minSyncedThreads,
                a.unseen_count,
              )
            : 0,
        n = k(null);
      j(
        function () {
          g && n.current !== l && ((n.current = l), g(l));
        },
        [l, g],
      );
      return i.jsx(i.Fragment, {
        children:
          l > 0
            ? i.jsx(c('CometNumberedBadge.react'), {
                overflow: f,
                testid: void 0,
                value: l,
              })
            : null,
      });
    }
    l.displayName = l.name + ' [from ' + f.id + ']';
    function a(a) {
      var b = a.overflow;
      a = a.setBadgeCount;
      return i.jsx(
        'div',
        babelHelpers['extends'](
          {},
          c('CometVisualCompletionAttributes').IGNORE_DYNAMIC,
          {
            children: i.jsx(c('CometPlaceholder.react'), {
              fallback: i.jsx('span', {}),
              children: i.jsx(l, { overflow: b, setBadgeCount: a }),
            }),
          },
        ),
      );
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    function m(a) {
      return (
        a &&
        !((a = c('qex')._('343')) != null ? a : !1) &&
        ((a = c('qex')._('15')) != null ? a : !1)
      );
    }
    g['default'] = a;
  },
  98,
);
__d(
  'MWChatBadgeCountUpdater.react',
  [
    'CometRelay',
    'LsSystemFolder.re',
    'MAWChatBadgeInitSyncCompleteUpdates.bs',
    'MWChatBadgeCountUpdates.bs',
    'MWXacGating.bs',
    'react',
    'recoverableViolation',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react').useEffect;
    function a() {
      var a = d('CometRelay').useRelayEnvironment(),
        b = d('MWChatBadgeCountUpdates.bs').useHook(
          d('LsSystemFolder.re').inbox,
        ),
        e = d('MAWChatBadgeInitSyncCompleteUpdates.bs').useHook();
      h(
        function () {
          var f = {
            suppress_xac_groups: !d('MWXacGating.bs').isGroupsEnabled(),
          };
          a.commitUpdate(function (a) {
            a = a.getRoot();
            if (a == null) {
              c('recoverableViolation')(
                'A store root must be present to move forward.',
                'messenger_comet',
              );
              return;
            }
            a = a.getOrCreateLinkedRecord('viewer', 'Viewer');
            a = a.getOrCreateLinkedRecord(
              'message_threads',
              'ViewerMessageThreadsConnection',
            );
            if (b != null) {
              var d = a.getValue('unseen_count', f);
              (d === null || d !== b) && a.setValue(b, 'unseen_count', f);
            }
            d = a.getValue('is_loading_client_threads');
            (d == null || d === e) &&
              a.setValue(!e, 'is_loading_client_threads');
          });
        },
        [a, e, b],
      );
      return null;
    }
    g['default'] = a;
  },
  98,
);
__d(
  'MWChatBadgeUpdaterImpl.react',
  [
    'CometErrorBoundary.react',
    'ExecutionEnvironment',
    'FBLogger',
    'cr:4562',
    'react',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    function i(a) {
      var b = c('FBLogger')('messenger_browser_clients');
      a != null && (b = b.catching(a));
      b.debug('Error loading MWChatBadgeCountUpdater');
    }
    function a() {
      return c('ExecutionEnvironment').canUseDOM
        ? h.jsx(c('CometErrorBoundary.react'), {
            onError: i,
            children: b('cr:4562') && h.jsx(b('cr:4562'), {}),
          })
        : null;
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    g['default'] = a;
  },
  98,
);
__d(
  'MWV2ChatOptionsHead.bs',
  [
    'fbt',
    'ix',
    'CometDeferredPopoverTrigger.react',
    'CometPressable.react',
    'MWIcon.react',
    'MWTooltip.react',
    'bs_curry',
    'fbicon',
    'react',
    'requireDeferred',
  ],
  function (a, b, c, d, e, f, g, h, i) {
    'use strict';
    var j = d('react'),
      k = {
        head: {
          alignItems: 'x6s0dn4',
          backgroundColor: 'x1l31dnx',
          borderTopStartRadius: 'x14yjl9h',
          borderTopEndRadius: 'xudhj91',
          borderBottomEndRadius: 'x18nykt9',
          borderBottomStartRadius: 'xww2gxu',
          boxShadow: 'x1qeybcx',
          display: 'x78zum5',
          height: 'xc9qbxq',
          justifyContent: 'xl56j7k',
          opacity: 'xg01cxk',
          transform: 'x1f85oc2',
          transitionDuration: 'x19bguh7',
          transitionProperty: 'x6o7n8i',
          width: 'x14qfxbe',
          ':hover_boxShadow': 'x19xcq9t',
          $$css: !0,
        },
        headArea: {
          borderTopStartRadius: 'x14yjl9h',
          borderTopEndRadius: 'xudhj91',
          borderBottomEndRadius: 'x18nykt9',
          borderBottomStartRadius: 'xww2gxu',
          height: 'xc9qbxq',
          position: 'x10l6tqk',
          start: 'xi8xln7',
          width: 'x14qfxbe',
          $$css: !0,
        },
        headVisible: { opacity: 'x1hc1fzr', transform: 'x3oybdh', $$css: !0 },
        hoverTarget: {
          alignItems: 'x6s0dn4',
          backgroundColor: 'xjbqb8w',
          display: 'x78zum5',
          height: 'xnnlda6',
          justifyContent: 'xl56j7k',
          marginStart: 'x1tl9596',
          marginTop: 'xhsvlbd',
          width: 'x1dmp6jm',
          $$css: !0,
        },
      },
      l = h._('__JHASH__GqqnGnZcXBj__JHASH__');
    function a(a) {
      var b = a.isVisible,
        e = a.openTabCount,
        f = a.style;
      a = j.useState(function () {
        return !1;
      });
      var g = a[0],
        h = a[1];
      a = j.useState(function () {
        return !1;
      });
      var m = a[0],
        n = a[1];
      a = j.useState(function () {
        return !1;
      });
      var o = a[0],
        p = a[1];
      return j.jsx(c('CometDeferredPopoverTrigger.react'), {
        align: 'end',
        onVisibilityChange: function (a) {
          return c('bs_curry')._1(p, function (b) {
            return a;
          });
        },
        popoverProps: { hasOpenTabs: e > 0 },
        popoverResource: c('requireDeferred')(
          'MWV2ChatOptionsHeadPopover.react',
        ).__setRef('MWV2ChatOptionsHead.bs'),
        position: 'above',
        children: function (a, e) {
          return j.jsx('div', {
            className:
              'x14yjl9h xudhj91 x18nykt9 xww2gxu xc9qbxq x10l6tqk xi8xln7 x14qfxbe',
            style: f,
            children: j.jsx('div', {
              className:
                'x6s0dn4 xjbqb8w x78zum5 xnnlda6 xl56j7k x1tl9596 xhsvlbd x1dmp6jm',
              'data-testid': void 0,
              onMouseEnter: function (a) {
                return c('bs_curry')._1(h, function (a) {
                  return !0;
                });
              },
              onMouseLeave: function (a) {
                return c('bs_curry')._1(h, function (a) {
                  return !1;
                });
              },
              children: j.jsx(c('CometPressable.react'), {
                label: l,
                onFocusChange: function (a) {
                  return c('bs_curry')._1(n, function (b) {
                    return a;
                  });
                },
                onPress: function (a) {
                  return c('bs_curry')._1(e);
                },
                ref: a,
                testid: void 0,
                xstyle: function (a) {
                  return [k.head, b || g || m || o ? k.headVisible : !1];
                },
                children: j.jsx(c('MWTooltip.react'), {
                  align: 'middle',
                  position: 'start',
                  tooltip: l,
                  children: j.jsx(c('MWIcon.react'), {
                    icon: d('fbicon')._(i('484387'), 20),
                  }),
                }),
              }),
            }),
          });
        },
      });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    b = 36;
    e = 10;
    h = a;
    g.width = b;
    g.marginBottom = e;
    g.make = h;
  },
  98,
);
__d(
  'CometTypeaheadTraceProvider',
  ['CometHeroLogging', 'performanceNow'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    a = (function () {
      function a(a) {
        var b = a.loggingProvider,
          c = a.trace;
        a = a.vcTrackerRef;
        this.$5 = !1;
        this.$7 = null;
        this.$1 = c;
        this.$2 = b;
        this.$6 = a;
        this.$3 = 'unknown';
      }
      var b = a.prototype;
      b.getInteractionUUID = function () {
        return this.$4;
      };
      b.getVCTrackerRef = function () {
        return this.$6;
      };
      b.isResolved = function () {
        return this.$5;
      };
      b.resolve = function () {
        (this.$5 = !0), (this.$7 = null);
      };
      b.setEventStartTime = function (a) {
        this.$7 = a;
      };
      b.setEndReason = function (a) {
        this.$3 = a;
      };
      b.getEndReason = function () {
        return this.$3;
      };
      b.getEntriesCountForVisualComplete = function () {
        return 8;
      };
      b.trace = function (a, b) {
        var d = this;
        this.setEndReason('continued_typing');
        this.$5 = !1;
        var e = void 0,
          f = void 0;
        this.$7 != null && ((f = this.$7), (e = c('performanceNow')() - f));
        return this.$1(
          function (e) {
            var f = c('CometHeroLogging').genHeroInteractionUUIDAndMarkStart(
              e.getTraceId(),
            );
            d.$4 = f;
            e.addMetadata('entry_point_surface', d.$2.getContext());
            e.addMetadata('current_text_length', b.length);
            f = d.$2.getSessionID();
            f != null && e.addMetadata('typeahead_sid', f);
            e.onComplete(function () {
              e.addMetadata('end_reason', d.getEndReason());
            });
            a(e);
          },
          f,
          e,
        );
      };
      return a;
    })();
    g['default'] = a;
  },
  98,
);
__d(
  'CometTypeaheadEntityViewItem.react',
  [
    'CometProfilePhoto.react',
    'CometTypeaheadViewItem.react',
    'TetraTextPairing.react',
    'react',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    function a(a) {
      var b = a.entry,
        d = a.meta,
        e = a.pictureUrl;
      a.queryString;
      var f = a.size;
      f = f === void 0 ? 36 : f;
      var g = a.style;
      g = g === void 0 ? 'circle' : g;
      a = babelHelpers.objectWithoutPropertiesLoose(a, [
        'entry',
        'meta',
        'pictureUrl',
        'queryString',
        'size',
        'style',
      ]);
      return h.jsx(
        c('CometTypeaheadViewItem.react'),
        babelHelpers['extends']({}, a, {
          entry: b,
          itemStartContent:
            e != null
              ? h.jsx(c('CometProfilePhoto.react'), {
                  shape: g,
                  size: f,
                  source: { uri: e },
                })
              : null,
          children: h.jsx(c('TetraTextPairing.react'), {
            body: b.label,
            bodyLineLimit: 2,
            level: 3,
            meta: d,
            metaLineLimit: 1,
            reduceEmphasis: !0,
          }),
        }),
      );
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    g['default'] = a;
  },
  98,
);
__d(
  'useCometInternalTypeaheadHeroTracing',
  ['react'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react').useMemo;
    function a(a, b) {
      var c = a ? a.getInteractionUUID() : null,
        d = a ? a.getVCTrackerRef() : null,
        e = c != null && a != null && !a.isResolved();
      return h(
        function () {
          var f = function (c, d) {
            a && d != null && a.setEventStartTime(d.timeStamp), b(c, d);
          };
          return {
            interactionUUID: c,
            onTracedChange: f,
            shouldHoldHeroTracing: e,
            vcTrackerRef: d,
          };
        },
        [c, b, e, a, d],
      );
    }
    g['default'] = a;
  },
  98,
);
__d(
  'searchCometTypeaheadODSLogFocusEvent',
  ['requireDeferred'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = c('requireDeferred')('ODS').__setRef(
      'searchCometTypeaheadODSLogFocusEvent',
    );
    function a(a, b) {
      b === void 0 && (b = 1),
        h.onReady(function (c) {
          c.bumpEntityKey(354, a, 'focused', b);
        });
    }
    g['default'] = a;
  },
  98,
);
__d(
  'withSearchCometTypeaheadTraceEndReasonDecorator',
  ['react'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react'),
      i = d('react').useCallback;
    function a(a) {
      return function (b) {
        var c = b.inputRef,
          d = b.onPressEntry,
          e = b.traceProvider;
        b = babelHelpers.objectWithoutPropertiesLoose(b, [
          'inputRef',
          'onPressEntry',
          'traceProvider',
        ]);
        var f = i(
          function (a) {
            e && e.setEndReason('successful_user_action'), d && d(a);
          },
          [d, e],
        );
        return h.jsx(
          a,
          babelHelpers['extends']({}, b, {
            inputRef: c,
            onPressEntry: f,
            traceProvider: e,
          }),
        );
      };
    }
    g['default'] = a;
  },
  98,
);
__d(
  'useSearchCometTypeaheadBootstrapValidation',
  [
    'CometRelay',
    'CometRelayErrorHandling',
    'filterNulls',
    'react',
    'recoverableViolation',
    'useSearchCometTypeaheadBootstrapValidationQuery.graphql',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h,
      i = d('react').useMemo;
    function a(a) {
      var e = a.bootstrapDatasource,
        f = d('CometRelay').useRelayEnvironment();
      return i(
        function () {
          return {
            validate: function (a) {
              a = c('filterNulls')(
                a.map(function (a) {
                  if (a.subtype !== 'bootstrap') return null;
                  a = (a = a.rawData.structuredInfo) != null ? a : {};
                  a = a.direct_nav_result;
                  if (a == null) return null;
                  var b = a.ent_id;
                  a = a.title;
                  if (b == null || a == null) {
                    c('recoverableViolation')(
                      'Unexpected missing ent_id or title on direct_nav_result',
                      'search',
                    );
                    return null;
                  }
                  return { id: b, keyword: a };
                }),
              );
              d('CometRelay')
                .fetchQuery(
                  f,
                  h !== void 0
                    ? h
                    : (h = b(
                        'useSearchCometTypeaheadBootstrapValidationQuery.graphql',
                      )),
                  {
                    input: {
                      cache_types: ['KEYWORD_BOOTSTRAP'],
                      shown_suggestions: a,
                    },
                  },
                )
                .subscribe({
                  error: function (a) {
                    d('CometRelayErrorHandling').markErrorAsHandled(a);
                  },
                  next: function (a) {
                    a = a.search_client_cache_policy_check;
                    for (
                      var a =
                          (a = a == null ? void 0 : a.policy_decision) != null
                            ? a
                            : [],
                        b = Array.isArray(a),
                        c = 0,
                        a = b
                          ? a
                          : a[
                              typeof Symbol === 'function'
                                ? Symbol.iterator
                                : '@@iterator'
                            ]();
                      ;

                    ) {
                      var d;
                      if (b) {
                        if (c >= a.length) break;
                        d = a[c++];
                      } else {
                        c = a.next();
                        if (c.done) break;
                        d = c.value;
                      }
                      d = d;
                      var f = d.cache_type,
                        g = d.force_cache_refresh;
                      d = d.ids_to_remove;
                      if (f === 'KEYWORD_BOOTSTRAP') {
                        for (
                          var f = d,
                            d = Array.isArray(f),
                            h = 0,
                            f = d
                              ? f
                              : f[
                                  typeof Symbol === 'function'
                                    ? Symbol.iterator
                                    : '@@iterator'
                                ]();
                          ;

                        ) {
                          var i;
                          if (d) {
                            if (h >= f.length) break;
                            i = f[h++];
                          } else {
                            h = f.next();
                            if (h.done) break;
                            i = h.value;
                          }
                          i = i;
                          e.removeEntriesByEntID(i);
                        }
                        g === !0 && (e.clear(), e.bootstrap());
                      }
                    }
                  },
                });
            },
          };
        },
        [e, f],
      );
    }
    g['default'] = a;
  },
  98,
);
__d(
  'useCometSearchTypeaheadTraceProvider',
  [
    'CometTypeaheadTraceProvider',
    'qpl',
    'react',
    'useCometDisplayTimingTrackerForInteraction',
    'useCometInteractionTracing',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react').useMemo;
    function a(a) {
      var b = c('useCometInteractionTracing')(
          c('qpl')._(30605354, '2310'),
          'contingent',
          'INTERACTION',
        ),
        d = c('useCometDisplayTimingTrackerForInteraction')(
          'SearchTypeaheadLayout',
        );
      return h(
        function () {
          return new (c('CometTypeaheadTraceProvider'))({
            loggingProvider: a,
            trace: b,
            vcTrackerRef: d,
          });
        },
        [a, b, d],
      );
    }
    g['default'] = a;
  },
  98,
);
__d(
  'useSearchCometShouldRenderBadgeWithExposure',
  ['QE2Logger', 'qex', 'react'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react').useMemo;
    function a(a) {
      return h(
        function () {
          var b;
          if (a == null) return !1;
          if (!c('qex')._('578')) return !0;
          d('QE2Logger').logExposureForUser('search_nullstate_desktop');
          return (b = c('qex')._('580')) != null ? b : !1;
        },
        [a],
      );
    }
    g['default'] = a;
  },
  98,
);
__d(
  'CometSearchTypeaheadRecentEntityViewItem.react',
  [
    'CometBadge.react',
    'CometTypeaheadEntityViewItem.react',
    'react',
    'recoverableViolation',
    'useSearchCometShouldRenderBadgeWithExposure',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    function a(a) {
      var b = a.entry;
      a = babelHelpers.objectWithoutPropertiesLoose(a, ['entry']);
      var d = b.rawData,
        e = d.badgeSnippet;
      d = d.profile;
      d = (d = d) != null ? d : {};
      var f = d.id,
        g = d.profilePictureURL;
      d = d.url;
      if (g == null) {
        c('recoverableViolation')(
          'Missing profile picture for fbid ' + ((f = f) != null ? f : 'null'),
          'search',
        );
      }
      f = c('useSearchCometShouldRenderBadgeWithExposure')(e);
      f = f
        ? h.jsxs(h.Fragment, {
            children: [h.jsx(c('CometBadge.react'), { color: 'blue' }), e],
          })
        : void 0;
      return h.jsx(
        c('CometTypeaheadEntityViewItem.react'),
        babelHelpers['extends']({}, a, {
          entry: b,
          linkProps: { preventLocalNavigation: !0, url: d },
          meta: f,
          pictureUrl: g,
          size: 36,
        }),
      );
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    g['default'] = a;
  },
  98,
);
__d(
  'cometSearchTypeaheadRecentEntityViewItem.resolver',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    function a(a) {
      var b = a.metaData.markers;
      return b.has('entity') && a.subtype === 'recent' ? a : null;
    }
    f['default'] = a;
  },
  66,
);
__d(
  'CometSearchTypeaheadBaseStructuredDirectNavKeywordViewItem.react',
  [
    'CometImage.react',
    'CometProfilePhoto.react',
    'CometTypeaheadHighlight.react',
    'CometTypeaheadViewItem.react',
    'TetraTextPairing.react',
    'react',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react'),
      i = d('react').useMemo,
      j = 36,
      k = { imageIcon: { display: 'x1lliihq', $$css: !0 } };
    function a(a) {
      var b,
        d = a.entry,
        e = a.isActive,
        f = a.queryString;
      a = babelHelpers.objectWithoutPropertiesLoose(a, [
        'entry',
        'isActive',
        'queryString',
      ]);
      b =
        (b =
          (b = d.rawData.structuredInfo) == null
            ? void 0
            : b.direct_nav_result) != null
          ? b
          : {};
      var g = b.img_url,
        l = b.link_url,
        m = b.snippet;
      b = b.type;
      var n = i(
          function () {
            return {
              preloadCodeOnMount: !0,
              preventLocalNavigation: !0,
              url: l,
            };
          },
          [l],
        ),
        o = null;
      g != null &&
        (o =
          b === 'SHORTCUT'
            ? h.jsx(c('CometImage.react'), {
                height: j,
                src: g,
                width: j,
                xstyle: k.imageIcon,
              })
            : h.jsx(c('CometProfilePhoto.react'), {
                shape: b === 'SHORTCUT' ? 'square' : 'circle',
                size: j,
                source: { uri: g },
              }));
      return h.jsx(
        c('CometTypeaheadViewItem.react'),
        babelHelpers['extends']({}, a, {
          entry: d,
          isActive: e,
          itemStartContent: o,
          linkProps: n,
          children: h.jsx(c('CometTypeaheadHighlight.react'), {
            content: d.label,
            query: f,
            strategy: 'non-match',
            children: function (a) {
              return h.jsx(c('TetraTextPairing.react'), {
                body: a,
                bodyLineLimit: 2,
                level: 3,
                meta: m,
                metaLineLimit: 1,
              });
            },
          }),
        }),
      );
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    g['default'] = a;
  },
  98,
);
__d(
  'CometSearchTypeaheadBaseStructuredDisambiguationKeywordViewItem.react',
  [
    'CometTypeaheadHighlight.react',
    'CometTypeaheadViewItem.react',
    'CometTypeaheadViewItemIcon.react',
    'TetraTextPairing.react',
    'react',
    'recoverableViolation',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    function a(a) {
      var b,
        e = a.entry,
        f = a.isActive,
        g = a.linkProps,
        i = a.queryString;
      a = babelHelpers.objectWithoutPropertiesLoose(a, [
        'entry',
        'isActive',
        'linkProps',
        'queryString',
      ]);
      b = (b = e.rawData.structuredInfo) != null ? b : {};
      b = b.disambiguation_result;
      if (b == null) {
        c('recoverableViolation')(
          'We were trying to show disambiguation result, but had missing data',
          'search',
        );
        return null;
      }
      b = b.disambiguation_info_list;
      var j = b[0].snippet;
      return h.jsx(
        c('CometTypeaheadViewItem.react'),
        babelHelpers['extends']({}, a, {
          entry: e,
          isActive: f,
          itemStartContent: h.jsx(
            d('CometTypeaheadViewItemIcon.react').CometTypeaheadViewTypedIcon,
            { isActive: f },
          ),
          linkProps: g,
          children: h.jsx(c('CometTypeaheadHighlight.react'), {
            content: e.label,
            query: i,
            strategy: 'non-match',
            children: function (a) {
              return h.jsx(c('TetraTextPairing.react'), {
                body: a,
                bodyLineLimit: 2,
                level: 3,
                meta: j,
                metaLineLimit: 1,
              });
            },
          }),
        }),
      );
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    g['default'] = a;
  },
  98,
);
__d(
  'CometSearchTypeaheadBaseStructuredHighConfidenceKeywordViewItem.react',
  [
    'CometProfilePhoto.react',
    'CometTypeaheadHighlight.react',
    'CometTypeaheadViewItem.react',
    'CometTypeaheadViewItemIcon.react',
    'TetraTextPairing.react',
    'react',
    'recoverableViolation',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    function a(a) {
      var b,
        e = a.entry,
        f = a.isActive,
        g = a.linkProps,
        i = a.queryString;
      a = babelHelpers.objectWithoutPropertiesLoose(a, [
        'entry',
        'isActive',
        'linkProps',
        'queryString',
      ]);
      b =
        (b =
          (b = e.rawData.structuredInfo) == null
            ? void 0
            : b.high_confidence_result) != null
          ? b
          : {};
      var j = b.hcm_id,
        k = b.picture_url,
        l = b.snippet;
      if (k == null) {
        c('recoverableViolation')(
          'Missing HC keyword item picture url for hcm_id ' +
            ((b = j) != null ? b : 'null'),
          'search',
        );
      }
      return h.jsx(
        c('CometTypeaheadViewItem.react'),
        babelHelpers['extends']({}, a, {
          entry: e,
          isActive: f,
          itemEndContent:
            k != null
              ? h.jsx(c('CometProfilePhoto.react'), {
                  shape: 'roundedRect',
                  size: 36,
                  source: { uri: k },
                })
              : null,
          itemStartContent: h.jsx(
            d('CometTypeaheadViewItemIcon.react').CometTypeaheadViewTypedIcon,
            { isActive: f },
          ),
          linkProps: g,
          children: h.jsx(c('CometTypeaheadHighlight.react'), {
            content: e.label,
            query: i,
            strategy: 'non-match',
            children: function (a) {
              return h.jsx(c('TetraTextPairing.react'), {
                body: a,
                bodyLineLimit: 2,
                level: 3,
                meta: l,
                metaLineLimit: 1,
              });
            },
          }),
        }),
      );
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    g['default'] = a;
  },
  98,
);
__d(
  'CometSearchTypeaheadBaseSurfaceRecentEntityViewItem.react',
  [
    'CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react',
    'CometSearchTypeaheadRecentEntityViewItem.react',
    'CometTypeaheadFocusLockRegion.react',
    'react',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    function a(a) {
      var b = a.entry;
      a = babelHelpers.objectWithoutPropertiesLoose(a, ['entry']);
      return h.jsx(
        c('CometSearchTypeaheadRecentEntityViewItem.react'),
        babelHelpers['extends']({}, a, {
          entry: b,
          itemEndContent: h.jsx(c('CometTypeaheadFocusLockRegion.react'), {
            children: h.jsx(
              c(
                'CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react',
              ),
              { entry: b },
            ),
          }),
          testid: void 0,
        }),
      );
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    g['default'] = a;
  },
  98,
);
__d(
  'CometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.react',
  [
    'CometBadge.react',
    'CometProfilePhoto.react',
    'CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react',
    'CometTypeaheadFocusLockRegion.react',
    'CometTypeaheadViewItem.react',
    'TetraTextPairing.react',
    'react',
    'useSearchCometShouldRenderBadgeWithExposure',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react'),
      i = d('react').useMemo;
    function a(a) {
      var b = a.entry,
        d = a.isActive;
      a.queryString;
      a = babelHelpers.objectWithoutPropertiesLoose(a, [
        'entry',
        'isActive',
        'queryString',
      ]);
      var e = b.rawData,
        f = e.badgeSnippet;
      e = e.structuredInfo;
      e = (e = e == null ? void 0 : e.direct_nav_result) != null ? e : {};
      var g = e.img_url,
        j = e.link_url,
        k = e.snippet,
        l = e.title;
      e = e.type;
      var m = i(
          function () {
            return {
              preloadCodeOnMount: !0,
              preventLocalNavigation: !0,
              url: j,
            };
          },
          [j],
        ),
        n = c('useSearchCometShouldRenderBadgeWithExposure')(f);
      n = n
        ? h.jsxs(h.Fragment, {
            children: [h.jsx(c('CometBadge.react'), { color: 'blue' }), f],
          })
        : k;
      return h.jsx(
        c('CometTypeaheadViewItem.react'),
        babelHelpers['extends']({}, a, {
          entry: b,
          isActive: d,
          itemEndContent: h.jsx(c('CometTypeaheadFocusLockRegion.react'), {
            children: h.jsx(
              c(
                'CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react',
              ),
              { entry: b },
            ),
          }),
          itemStartContent:
            g != null
              ? h.jsx(c('CometProfilePhoto.react'), {
                  shape: e === 'SHORTCUT' ? 'square' : 'circle',
                  size: 36,
                  source: { uri: g },
                })
              : null,
          linkProps: m,
          testid: void 0,
          children: h.jsx(c('TetraTextPairing.react'), {
            body: l,
            bodyLineLimit: 2,
            level: 3,
            meta: n,
            metaLineLimit: 1,
          }),
        }),
      );
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    g['default'] = a;
  },
  98,
);
__d(
  'CometSearchTypeaheadStructuredDisambiguationKeywordRecentViewItem.react',
  [
    'CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react',
    'CometTypeaheadFocusLockRegion.react',
    'CometTypeaheadViewItem.react',
    'CometTypeaheadViewItemIcon.react',
    'TetraTextPairing.react',
    'react',
    'recoverableViolation',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    function a(a) {
      var b,
        e = a.entry,
        f = a.isActive,
        g = a.linkProps;
      a.queryString;
      a = babelHelpers.objectWithoutPropertiesLoose(a, [
        'entry',
        'isActive',
        'linkProps',
        'queryString',
      ]);
      b = (b = e.rawData.structuredInfo) != null ? b : {};
      b = b.disambiguation_result;
      if (b == null) {
        c('recoverableViolation')(
          'Missing disambiguation result STS info',
          'search',
        );
        return null;
      }
      b = b.disambiguation_info_list;
      b = b[0].snippet;
      return h.jsx(
        c('CometTypeaheadViewItem.react'),
        babelHelpers['extends']({}, a, {
          entry: e,
          isActive: f,
          itemEndContent: h.jsx(c('CometTypeaheadFocusLockRegion.react'), {
            children: h.jsx(
              c(
                'CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react',
              ),
              { entry: e },
            ),
          }),
          itemStartContent: h.jsx(
            d('CometTypeaheadViewItemIcon.react').CometTypeaheadViewRecentIcon,
            { isActive: f },
          ),
          linkProps: g,
          children: h.jsx(c('TetraTextPairing.react'), {
            body: e.label,
            bodyLineLimit: 2,
            level: 2,
            meta: b,
            metaLineLimit: 1,
          }),
        }),
      );
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    g['default'] = a;
  },
  98,
);
__d(
  'CometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.react',
  [
    'CometProfilePhoto.react',
    'CometRow.react',
    'CometRowItem.react',
    'CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react',
    'CometTypeaheadFocusLockRegion.react',
    'CometTypeaheadViewItem.react',
    'CometTypeaheadViewItemIcon.react',
    'TetraTextPairing.react',
    'react',
    'recoverableViolation',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    function a(a) {
      var b = a.entry,
        e = a.isActive,
        f = a.linkProps;
      a.queryString;
      a = babelHelpers.objectWithoutPropertiesLoose(a, [
        'entry',
        'isActive',
        'linkProps',
        'queryString',
      ]);
      var g = b.rawData;
      g =
        (g =
          (g = g.structuredInfo) == null ? void 0 : g.high_confidence_result) !=
        null
          ? g
          : {};
      var i = g.hcm_id,
        j = g.picture_url;
      g = g.snippet;
      if (j == null) {
        c('recoverableViolation')(
          'Missing HC keyword item picture url for hcm_id ' +
            ((i = i) != null ? i : 'null'),
          'search',
        );
      }
      return h.jsx(
        c('CometTypeaheadViewItem.react'),
        babelHelpers['extends']({}, a, {
          entry: b,
          isActive: e,
          itemEndContent: h.jsxs(c('CometRow.react'), {
            paddingHorizontal: 0,
            paddingVertical: 0,
            verticalAlign: 'center',
            children: [
              j != null
                ? h.jsx(c('CometRowItem.react'), {
                    children: h.jsx(c('CometProfilePhoto.react'), {
                      shape: 'roundedRect',
                      size: 36,
                      source: { uri: j },
                    }),
                  })
                : null,
              h.jsx(c('CometRowItem.react'), {
                children: h.jsx(c('CometTypeaheadFocusLockRegion.react'), {
                  children: h.jsx(
                    c(
                      'CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react',
                    ),
                    { entry: b },
                  ),
                }),
              }),
            ],
          }),
          itemStartContent: h.jsx(
            d('CometTypeaheadViewItemIcon.react').CometTypeaheadViewRecentIcon,
            { isActive: e },
          ),
          linkProps: f,
          children: h.jsx(c('TetraTextPairing.react'), {
            body: b.label,
            bodyLineLimit: 2,
            level: 3,
            meta: g,
            metaLineLimit: 1,
          }),
        }),
      );
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    g['default'] = a;
  },
  98,
);
__d(
  'cometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.resolver',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    function a(a) {
      var b = a.metaData.markers;
      return b.has('direct_nav') && a.subtype === 'recent' ? a : null;
    }
    f['default'] = a;
  },
  66,
);
__d(
  'cometSearchTypeaheadStructuredDirectNavKeywordViewItem.resolver',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    function a(a) {
      var b = a.metaData.markers;
      return b.has('keyword') && b.has('direct_nav') ? a : null;
    }
    f['default'] = a;
  },
  66,
);
__d(
  'cometSearchTypeaheadStructuredDisambiguationKeywordRecentViewItem.resolver',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    function a(a) {
      var b = a.metaData.markers;
      return b.has('disambiguation') && a.subtype === 'recent' ? a : null;
    }
    f['default'] = a;
  },
  66,
);
__d(
  'cometSearchTypeaheadStructuredDisambiguationKeywordViewItem.resolver',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    function a(a) {
      var b = a.metaData.markers;
      return b.has('disambiguation') && a.subtype === 'keyword' ? a : null;
    }
    f['default'] = a;
  },
  66,
);
__d(
  'cometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.resolver',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    function a(a) {
      var b = a.metaData.markers;
      return b.has('high_confidence') && a.subtype === 'recent' ? a : null;
    }
    f['default'] = a;
  },
  66,
);
__d(
  'cometSearchTypeaheadStructuredHighConfidenceKeywordViewItem.resolver',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    function a(a) {
      var b = a.metaData.markers;
      return b.has('high_confidence') && a.subtype === 'keyword' ? a : null;
    }
    f['default'] = a;
  },
  66,
);
__d(
  'searchCometTypeaheadSTSMappings',
  [
    'CometSearchTypeaheadBaseStructuredDirectNavKeywordViewItem.react',
    'CometSearchTypeaheadBaseStructuredDisambiguationKeywordViewItem.react',
    'CometSearchTypeaheadBaseStructuredHighConfidenceKeywordViewItem.react',
    'CometSearchTypeaheadBaseSurfaceRecentEntityViewItem.react',
    'CometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.react',
    'CometSearchTypeaheadStructuredDisambiguationKeywordRecentViewItem.react',
    'CometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.react',
    'cometSearchTypeaheadRecentEntityViewItem.resolver',
    'cometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.resolver',
    'cometSearchTypeaheadStructuredDirectNavKeywordViewItem.resolver',
    'cometSearchTypeaheadStructuredDisambiguationKeywordRecentViewItem.resolver',
    'cometSearchTypeaheadStructuredDisambiguationKeywordViewItem.resolver',
    'cometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.resolver',
    'cometSearchTypeaheadStructuredHighConfidenceKeywordViewItem.resolver',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    a = [
      {
        resolver: c(
          'cometSearchTypeaheadStructuredDirectNavKeywordViewItem.resolver',
        ),
        viewItem: c(
          'CometSearchTypeaheadBaseStructuredDirectNavKeywordViewItem.react',
        ),
      },
      {
        resolver: c(
          'cometSearchTypeaheadStructuredHighConfidenceKeywordViewItem.resolver',
        ),
        viewItem: c(
          'CometSearchTypeaheadBaseStructuredHighConfidenceKeywordViewItem.react',
        ),
      },
      {
        resolver: c(
          'cometSearchTypeaheadStructuredDisambiguationKeywordViewItem.resolver',
        ),
        viewItem: c(
          'CometSearchTypeaheadBaseStructuredDisambiguationKeywordViewItem.react',
        ),
      },
      {
        resolver: c(
          'cometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.resolver',
        ),
        viewItem: c(
          'CometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.react',
        ),
      },
      {
        resolver: c(
          'cometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.resolver',
        ),
        viewItem: c(
          'CometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.react',
        ),
      },
      {
        resolver: c(
          'cometSearchTypeaheadStructuredDisambiguationKeywordRecentViewItem.resolver',
        ),
        viewItem: c(
          'CometSearchTypeaheadStructuredDisambiguationKeywordRecentViewItem.react',
        ),
      },
      {
        resolver: c('cometSearchTypeaheadRecentEntityViewItem.resolver'),
        viewItem: c(
          'CometSearchTypeaheadBaseSurfaceRecentEntityViewItem.react',
        ),
      },
    ].filter(Boolean);
    g['default'] = a;
  },
  98,
);
__d(
  'SearchCometGlobalTypeaheadInputStrategy.react',
  [
    'CometTypeaheadInputRoundedStrategy.react',
    'SearchCometTypeaheadEventEmitterContext',
    'cr:2012305',
    'react',
    'useMergeRefs',
    'useRefEffect',
    'useSearchCometEventEmitterContext',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    e = d('react');
    var i = e.useEffect,
      j = e.useRef;
    function a(a, d) {
      var e,
        f = a.onChange;
      a = babelHelpers.objectWithoutPropertiesLoose(a, ['onChange']);
      e =
        (e = c('useSearchCometEventEmitterContext')(
          c('SearchCometTypeaheadEventEmitterContext'),
        )) != null
          ? e
          : {};
      var g = e.subscribeToGlobalTypeaheadFocus;
      e = c('useRefEffect')(
        function (a) {
          return g == null
            ? void 0
            : g(function () {
                if (a == null) return;
                a.value = '';
                a.focus();
                f('');
              });
        },
        [f, g],
      );
      var k = j(null),
        l = j(!1);
      i(function () {
        var a = k.current;
        if (b('cr:2012305') != null && a != null && l.current === !1) {
          b('cr:2012305').trackTypingPerf(a, 'top_tab_serp_typeahead');
          l.current = !0;
          return function () {
            b('cr:2012305').unregisterTypingPerf(a), (l.current = !1);
          };
        }
      }, []);
      e = c('useMergeRefs')(e, k);
      e = c('useMergeRefs')(e, d);
      return h.jsx(
        c('CometTypeaheadInputRoundedStrategy.react'),
        babelHelpers['extends']({}, a, { onChange: f, ref: e }),
      );
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    d = h.forwardRef(a);
    g['default'] = d;
  },
  98,
);
__d(
  'SearchCometGlobalTypeaheadLayoutContextualStrategy.react',
  [
    'CometHeroHoldTrigger.react',
    'CometHeroInteractionWithDiv.react',
    'CometTypeaheadInternalLayoutInlineStrategy.react',
    'react',
    'useBaseTypeaheadLayoutContextualStrategyStateContext',
    'useCometInternalTypeaheadFetch',
    'useCometInternalTypeaheadHeroTracing',
    'useCometInternalTypeaheadState',
    'useCometTypeaheadInputRefs',
    'useCometTypeaheadInternalLayoutContextualStrategyHandlers',
    'useCometTypeaheadLayoutContextualStrategyARIAProps',
    'useSearchCometGlobalTypeaheadStyles',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    function a(a) {
      var b = a.extraLayoutProps;
      b = b === void 0 ? {} : b;
      var d = b.afterViewContent;
      b = b.beforeViewContent;
      var e = a.helperText,
        f = a.label,
        g = a.onAbandonTypeahead_DO_NOT_USE,
        i = a.onBlur,
        j = a.onChange,
        k = a.onClick,
        l = a.onDownArrow,
        m = a.onEnter,
        n = a.onEscape,
        o = a.onHighlightEntry,
        p = a.onOutsideClick,
        q = a.onPressEntry,
        r = a.onShiftTab,
        s = a.onTab,
        t = a.onUpArrow,
        u = a.traceProvider,
        v = a.viewRole,
        w = a.inputRef,
        x = a.xstyles;
      a = babelHelpers.objectWithoutPropertiesLoose(a, [
        'extraLayoutProps',
        'helperText',
        'label',
        'onAbandonTypeahead_DO_NOT_USE',
        'onBlur',
        'onChange',
        'onClick',
        'onDownArrow',
        'onEnter',
        'onEscape',
        'onHighlightEntry',
        'onOutsideClick',
        'onPressEntry',
        'onShiftTab',
        'onTab',
        'onUpArrow',
        'traceProvider',
        'viewRole',
        'inputRef',
        'xstyles',
      ]);
      var y = c('useBaseTypeaheadLayoutContextualStrategyStateContext')();
      y = y.isOpened;
      var z = c('useCometInternalTypeaheadState')(),
        A = z.activeEntries;
      z = z.highlightedEntry;
      var B = c('useCometInternalTypeaheadFetch')();
      B = B.isLoading;
      w = c('useCometTypeaheadInputRefs')(w);
      var C = w.composedRef;
      w = w.inputRef;
      var D = c('useSearchCometGlobalTypeaheadStyles')();
      x = (x = x) != null ? x : D;
      D = c('useCometInternalTypeaheadHeroTracing')(u, j);
      u = D.interactionUUID;
      j = D.onTracedChange;
      var E = D.shouldHoldHeroTracing;
      D = D.vcTrackerRef;
      g = c('useCometTypeaheadInternalLayoutContextualStrategyHandlers')({
        handlers: {
          onAbandonTypeahead_DO_NOT_USE: g,
          onBlur: i,
          onChange: j,
          onClick: k,
          onDownArrow: l,
          onEnter: m,
          onEscape: n,
          onHighlightEntry: o,
          onOutsideClick: p,
          onPressEntry: q,
          onShiftTab: r,
          onTab: s,
          onUpArrow: t,
        },
        inputRef: w,
      });
      i = c('useCometTypeaheadLayoutContextualStrategyARIAProps')({
        activeEntries: A,
        helperText: e,
        highlightedEntry: z,
        inputLabel: f,
        isOpened: y,
        viewRole: v,
      });
      return h.jsxs(c('CometHeroInteractionWithDiv.react'), {
        interactionDesc: 'Search_Typeahead',
        interactionUUID: u,
        ref: D,
        children: [
          h.jsx(c('CometHeroHoldTrigger.react'), {
            description: 'SearchInternalTypeahead',
            hold: E,
          }),
          h.jsx(
            c('CometTypeaheadInternalLayoutInlineStrategy.react'),
            babelHelpers['extends']({}, a, g, {
              extraLayoutProps: {
                afterViewContent: d,
                ariaProps: i,
                beforeViewContent: b,
                helperTextComponent: null,
                isLoading: B,
                isOpened: y,
              },
              inputRef: C,
              label: f,
              viewRole: v,
              xstyles: x,
            }),
          ),
        ],
      });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    g['default'] = a;
  },
  98,
);
__d(
  'SearchCometInterestsDeepDiveExperiments',
  ['gkx'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function a() {
      return c('gkx')('1570865');
    }
    g.hasTypeaheadRedirection = a;
  },
  98,
);
__d(
  'searchCometGlobalTypeahead.config',
  ['qex'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    a = 8;
    d = {
      dataSources: {
        bootstrapKeywordsDataSourceParams: {
          queryVariables: { first: (b = c('qex')._('156')) != null ? b : 2e3 },
        },
        keywordDataSourceParams: {
          queryVariables: { fetch_count: a, fetch_mode: 'blended' },
        },
      },
      logging: { sessionContext: 'SEARCH_GLOBAL' },
      view: {
        renderLimit: a,
        sectionLimits: new Map([['RECENT_SEARCHES', a]]),
      },
    };
    g['default'] = d;
  },
  98,
);
__d(
  'useSearchCometGlobalTypeaheadCompositeDataSource',
  ['useSearchCometTypeaheadCompositeDataSource'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = { instance: null };
    function a(a) {
      a = c('useSearchCometTypeaheadCompositeDataSource')(a);
      h.instance == null && (h.instance = a);
      return h.instance;
    }
    g['default'] = a;
  },
  98,
);
__d(
  'useSearchCometGlobalTypeaheadURLBuilderForKeywordEntry',
  [
    'Base64',
    'ConstUriUtils',
    'SearchCometInterestsDeepDiveExperiments',
    'SearchCometInterestsDeepDiveUtil',
    'searchCometTypeaheadGetHighConfidenceResult',
    'searchCometTypeaheadGetStsDisambiguation',
    'useSearchCometGlobalSERPRouteUrlBuilder',
    'useSearchCometHashtagRouteUrlBuilder',
    'useSearchCometResultsEntryPointSurface',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function a() {
      var a = c('useSearchCometGlobalSERPRouteUrlBuilder')(),
        b = c('useSearchCometHashtagRouteUrlBuilder')(),
        e = c('useSearchCometResultsEntryPointSurface')();
      return function (f) {
        var g = f.entry,
          h = f.queryString;
        f = f.typeaheadSessionID;
        var i = g.label.toLowerCase(),
          j = g.metaData;
        j = j == null ? void 0 : j.markers;
        var k = d('SearchCometInterestsDeepDiveUtil').getHashtagTag(i);
        if (
          d(
            'SearchCometInterestsDeepDiveExperiments',
          ).hasTypeaheadRedirection() &&
          k != null &&
          !j.has('see_all')
        )
          return b({
            entryPointAction: 'SEARCH_BOX',
            exploreEntryPoint: h === '' ? 3 : 4,
            hashtag: k,
            typeaheadSessionID: f,
          });
        else {
          h = g.rawData;
          k =
            (k = c('searchCometTypeaheadGetStsDisambiguation')(g)) != null
              ? k
              : void 0;
          if (g.subtype === 'keyword' && j.has('disambiguation')) {
            h =
              (j =
                (j = h.structuredInfo) == null
                  ? void 0
                  : (h = j.disambiguation_result) == null
                  ? void 0
                  : h.disambiguation_info_list[0]) != null
                ? j
                : {};
            j = h.link_url;
            if (j != null) {
              h = d('ConstUriUtils').getUri(j);
              if (h != null) {
                j = new Map();
                e != null && j.set('__eps__', e);
                k !== void 0 &&
                  j.set('__stsd__', c('Base64').encode(JSON.stringify(k)));
                var l = new Map();
                for (
                  var j = j,
                    m = Array.isArray(j),
                    n = 0,
                    j = m
                      ? j
                      : j[
                          typeof Symbol === 'function'
                            ? Symbol.iterator
                            : '@@iterator'
                        ]();
                  ;

                ) {
                  var o;
                  if (m) {
                    if (n >= j.length) break;
                    o = j[n++];
                  } else {
                    n = j.next();
                    if (n.done) break;
                    o = n.value;
                  }
                  o = o;
                  var p = o[0];
                  o = o[1];
                  l.set(p, o);
                }
                p = h.addQueryParams(l);
                if (p != null) return p.toString();
              }
            }
          }
          return a({
            entryPointAction: 'SEARCH_BOX',
            highConfidenceResult: c(
              'searchCometTypeaheadGetHighConfidenceResult',
            )(g),
            query: i,
            stsDisambiguation: k,
            typeaheadSessionID: f,
          });
        }
      };
    }
    g['default'] = a;
  },
  98,
);
__d(
  'useSearchCometGlobalTypeaheadKeywordViewItemLinkProps',
  [
    'gkx',
    'react',
    'useCometRouterDispatcher',
    'useSearchCometGlobalTypeaheadURLBuilderForKeywordEntry',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    b = d('react');
    var h = b.useEffect,
      i = b.useMemo;
    function a(a) {
      var b = a.entry,
        d = a.queryString,
        e = c('useCometRouterDispatcher')(),
        f = c('useSearchCometGlobalTypeaheadURLBuilderForKeywordEntry')(),
        g = i(
          function () {
            return f({ entry: b, queryString: d });
          },
          [f, b, d],
        );
      h(
        function () {
          e != null && c('gkx')('1990285') && e.preloadRouteCode(g);
        },
        [e, g],
      );
      return i(
        function () {
          return { preloadCodeOnMount: !0, preventLocalNavigation: !0, url: g };
        },
        [g],
      );
    }
    g['default'] = a;
  },
  98,
);
__d(
  'useSearchCometGlobalTypeaheadViewStrategy',
  [
    'fbt',
    'CometGlobalPanelGating',
    'CometSearchTypeaheadBaseViewRecentEmptyState.react',
    'react',
    'searchCometTypeaheadSTSMappings',
    'useSearchCometGlobalTypeaheadKeywordViewItemLinkProps',
    'useSearchCometTypeaheadViewListStrategy',
  ],
  function (a, b, c, d, e, f, g, h) {
    'use strict';
    var i = d('react'),
      j = d('react').useMemo,
      k = {
        view: {
          backgroundColor: 'x1jx94hy',
          borderBottomEndRadius: 'x30kzoy',
          borderBottomStartRadius: 'x9jhf4c',
          boxSizing: 'x9f619',
          display: 'x78zum5',
          flexDirection: 'xdt5ytf',
          flexGrow: 'x1iyjqo2',
          maxHeight: 'x1iofjn4',
          paddingTop: 'x1y1aw1k',
          paddingEnd: 'x1sxyh0',
          paddingBottom: 'xwib8y2',
          paddingStart: 'xurb0ha',
          $$css: !0,
        },
        viewGlobalPanel: {
          borderTopStartRadius: 'x1lq5wgf',
          borderTopEndRadius: 'xgqcy7u',
          borderBottomEndRadius: 'x30kzoy',
          borderBottomStartRadius: 'x9jhf4c',
          boxShadow: 'x10h3on',
          $$css: !0,
        },
      };
    function a(a) {
      a = a.onHeaderActionPress;
      var b = j(function () {
          return [
            k.view,
            d('CometGlobalPanelGating').isGlobalPanelVisible() &&
              k.viewGlobalPanel,
          ];
        }, []),
        e = j(function () {
          return i.jsx(
            c('CometSearchTypeaheadBaseViewRecentEmptyState.react'),
            {},
          );
        }, []);
      return c('useSearchCometTypeaheadViewListStrategy')({
        additionalEntryMappings: c('searchCometTypeaheadSTSMappings'),
        emptyStateContent: e,
        getLinkProps: c(
          'useSearchCometGlobalTypeaheadKeywordViewItemLinkProps',
        ),
        isScrollable: !0,
        onHeaderActionPress: a,
        seeAllLabelBuilder: l,
        xstyle: b,
      });
    }
    function l(a) {
      return h._('__JHASH__LChIaXBIwAT__JHASH__', [
        h._implicitParam(
          '=m1',
          i.jsx('strong', {
            children: h._('__JHASH__BFbyaDXF_eS__JHASH__', [
              h._param('query', a),
            ]),
          }),
        ),
      ]);
    }
    l.displayName = l.name + ' [from ' + f.id + ']';
    g['default'] = a;
  },
  98,
);
__d(
  'withSearchCometGlobalTypeaheadCleanStateOnEntrySelection',
  ['react'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react'),
      i = d('react').useCallback;
    function a(a) {
      return function (b) {
        var c = b.inputRef,
          d = b.onChange,
          e = b.onPressEntry,
          f = b.shouldQueryStringUpdateFromSelectedEntryOnClick;
        f = f === void 0 ? !1 : f;
        b = babelHelpers.objectWithoutPropertiesLoose(b, [
          'inputRef',
          'onChange',
          'onPressEntry',
          'shouldQueryStringUpdateFromSelectedEntryOnClick',
        ]);
        var g = i(
          function (a) {
            var b = a.metaData.markers,
              c = a.subtype;
            c = (c === 'recent' && b.has('entity')) || b.has('direct_nav');
            d(c ? '' : a.label);
            e && e(a);
          },
          [d, e],
        );
        return h.jsx(
          a,
          babelHelpers['extends']({}, b, {
            inputRef: c,
            onChange: d,
            onPressEntry: g,
            shouldQueryStringUpdateFromSelectedEntryOnClick: f,
          }),
        );
      };
    }
    g['default'] = a;
  },
  98,
);
__d(
  'withSearchCometGlobalTypeaheadFocusKeyboardShortcut',
  [
    'cometGetKeyCommandConfig',
    'react',
    'useBaseTypeaheadLayoutContextualStrategyStateContext',
    'useCometTypeaheadInputRefs',
    'useGlobalKeyCommands',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    b = d('react');
    var i = b.useCallback,
      j = b.useMemo;
    function a(a) {
      return function (b) {
        var e = b.inputRef;
        b = babelHelpers.objectWithoutPropertiesLoose(b, ['inputRef']);
        e = c('useCometTypeaheadInputRefs')(e);
        var f = e.composedRef,
          g = e.inputRef;
        e = c('useBaseTypeaheadLayoutContextualStrategyStateContext')();
        var k = e.dispatchIsOpened,
          l = i(
            function () {
              g.current != null && (g.current.focus(), k(!0));
            },
            [g, k],
          );
        e = j(
          function () {
            return [
              d('cometGetKeyCommandConfig').getCometKeyCommandConfig(
                'global',
                'search',
                l,
              ),
            ];
          },
          [l],
        );
        c('useGlobalKeyCommands')(e);
        return h.jsx(a, babelHelpers['extends']({}, b, { inputRef: f }));
      };
    }
    g['default'] = a;
  },
  98,
);
__d(
  'SearchCometGlobalTypeahead.react',
  [
    'fbt',
    'BaseTypeahead.react',
    'CometErrorBoundary.react',
    'CometGlobalPanelGating',
    'CometTypeaheadErrorFallback.react',
    'QPLUserFlow',
    'QPLUtils',
    'Random',
    'SearchCometGlobalTypeaheadInputStrategy.react',
    'SearchCometGlobalTypeaheadLayoutContextualStrategy.react',
    'SearchCometInterestsDeepDiveExperiments',
    'SearchCometInterestsDeepDiveUtil',
    'emptyFunction',
    'qex',
    'qpl',
    'react',
    'searchCometGlobalTypeahead.config',
    'searchCometTypeaheadODSLogFocusEvent',
    'unrecoverableViolation',
    'useCometSearchTypeaheadTraceProvider',
    'useCometTypeaheadNavigate',
    'useCometTypeaheadStateQueryString',
    'useSearchCometGlobalSERPRouteUrlBuilder',
    'useSearchCometGlobalTypeaheadCompositeDataSource',
    'useSearchCometGlobalTypeaheadURLBuilderForKeywordEntry',
    'useSearchCometGlobalTypeaheadViewStrategy',
    'useSearchCometHashtagRouteUrlBuilder',
    'useSearchCometRecentSearchDataSource',
    'useSearchCometTypeaheadBootstrapValidation',
    'useSearchCometTypeaheadLoggingProvider',
    'useSearchCometTypeaheadRecentDataSourceContextDecorator',
    'useStable',
    'withSearchCometGlobalTypeaheadCleanStateOnEntrySelection',
    'withSearchCometGlobalTypeaheadFocusKeyboardShortcut',
    'withSearchCometTypeaheadBaseNavigationDecorator',
    'withSearchCometTypeaheadSERPWarmCallDecorator',
    'withSearchCometTypeaheadTraceEndReasonDecorator',
  ],
  function (a, b, c, d, e, f, g, h) {
    'use strict';
    var i = d('react');
    b = d('react');
    var j = b.useCallback,
      k = b.useEffect,
      l = b.useMemo,
      m = b.useRef;
    function a(a) {
      var b = a.autoOpen;
      b = b === void 0 ? !1 : b;
      var e = a.inputXStyle,
        f = a.onClose,
        g = a.onEscape,
        o = a.onFocus,
        p = a.onHeaderActionPress,
        q = a.onPressEntry,
        r = a.onSelectFreeformQuery,
        s = a.queryString;
      a = babelHelpers.objectWithoutPropertiesLoose(a, [
        'autoOpen',
        'inputXStyle',
        'onClose',
        'onEscape',
        'onFocus',
        'onHeaderActionPress',
        'onPressEntry',
        'onSelectFreeformQuery',
        'queryString',
      ]);
      s = c('useCometTypeaheadStateQueryString')(s);
      var t = s[0];
      s = s[1];
      var u = c('useSearchCometGlobalTypeaheadURLBuilderForKeywordEntry')(),
        v = c('useSearchCometGlobalSERPRouteUrlBuilder')(),
        w = c('useSearchCometHashtagRouteUrlBuilder')(),
        x = c('useCometTypeaheadNavigate')({ tapPoint: 'tap_search_bar' }),
        y = m(!1),
        z = c('useSearchCometRecentSearchDataSource')({
          fetchNullstate: Boolean(c('qex')._('88')),
          fetchSearchBadge: Boolean(c('qex')._('1272')),
          filter: 'all',
        }),
        A = c('useSearchCometGlobalTypeaheadCompositeDataSource')({
          config: c('searchCometGlobalTypeahead.config'),
          recentDataSource: z,
        }),
        B = A.getBootstrapKeywordsDataSource();
      if (B == null)
        throw c('unrecoverableViolation')(
          'Bootstrap datasource is missing',
          'search',
        );
      z = c('useSearchCometTypeaheadBootstrapValidation')({
        bootstrapDatasource: B,
      });
      var C = z.validate;
      z = j(
        function (a) {
          var b = a.reason,
            e = a.sessionID;
          a = a.shownEntries;
          C(a);
          b === 'success'
            ? c('QPLUserFlow').endSuccess(c('qpl')._(195636649, '5429'), {
                instanceKey: d('QPLUtils').deriveInstanceKey(e),
              })
            : b === 'abandon' &&
              c('QPLUserFlow').endCancel(c('qpl')._(195636649, '5429'), {
                instanceKey: d('QPLUtils').deriveInstanceKey(e),
              });
        },
        [C],
      );
      var D = c('useSearchCometTypeaheadLoggingProvider')({
        context: 'search_global',
        onSessionEnd: z,
      });
      z = c('useCometSearchTypeaheadTraceProvider')(D);
      var E = c('useSearchCometTypeaheadRecentDataSourceContextDecorator')(
          A,
          !1,
        ),
        F = l(
          function () {
            return [
              E,
              {
                decorate: c(
                  'withSearchCometGlobalTypeaheadFocusKeyboardShortcut',
                ),
              },
            ].filter(Boolean);
          },
          [E],
        );
      k(
        function () {
          A.bootstrap();
        },
        [A],
      );
      var G = j(
          function () {
            var a;
            a = (a = c('qex')._('869')) != null ? a : !1;
            a && !y.current && B.bootstrap();
            y.current = !0;
            a = 2;
            d('Random').coinflip(a) &&
              c('searchCometTypeaheadODSLogFocusEvent')(
                'comet.ta_global_event_focus',
                a,
              );
            c('QPLUserFlow').start(c('qpl')._(195636649, '5429'), {
              instanceKey: d('QPLUtils').deriveInstanceKey(D.getSessionID()),
            });
            o && o();
          },
          [B, D, o],
        ),
        H = j(
          function (a) {
            var b = a.metaData;
            b = b == null ? void 0 : b.markers;
            var c = b != null && b.has('entity');
            b = b != null && b.has('direct_nav');
            var d = u({
              entry: a,
              queryString: t,
              typeaheadSessionID: D.getSessionID(),
            });
            d = n(a, d, c, b);
            x(d);
            q == null ? void 0 : q(a);
          },
          [D, x, q, t, u],
        ),
        I = j(
          function (a) {
            var b = d('SearchCometInterestsDeepDiveUtil').getHashtagTag(a);
            d(
              'SearchCometInterestsDeepDiveExperiments',
            ).hasTypeaheadRedirection() && b != null
              ? (b = w({
                  entryPointAction: 'SEARCH_BOX',
                  exploreEntryPoint: t === '' ? 3 : 4,
                  hashtag: b,
                  typeaheadSessionID: D.getSessionID(),
                }))
              : (b = v({
                  entryPointAction: 'SEARCH_BOX',
                  query: a,
                  typeaheadSessionID: D.getSessionID(),
                }));
            x(b);
            r == null ? void 0 : r(a);
          },
          [w, D, x, r, t, v],
        ),
        J = j(
          function () {
            A.clearQueryCache(), f && f();
          },
          [A, f],
        ),
        K = c('useStable')(function () {
          var a;
          return (
            (a = c('withSearchCometTypeaheadSERPWarmCallDecorator')) != null
              ? a
              : c('emptyFunction').thatReturnsArgument
          )(c('withSearchCometTypeaheadTraceEndReasonDecorator')(c('withSearchCometGlobalTypeaheadCleanStateOnEntrySelection')(c('withSearchCometTypeaheadBaseNavigationDecorator')(c('BaseTypeahead.react')))));
        }),
        L = h._('__JHASH___9EIWdQL4U5__JHASH__'),
        M = t === '';
      M = M ? 'grid' : 'listbox';
      return i.jsx(c('CometErrorBoundary.react'), {
        fallback: function () {
          return i.jsx(c('CometTypeaheadErrorFallback.react'), {});
        },
        children: i.jsx(
          K,
          babelHelpers['extends']({}, a, {
            autoOpen: b,
            dataSource: A,
            decorators: F,
            inputEndContent: a.inputEndContent,
            inputExtraProps: {
              hideIconOnFocus: !d(
                'CometGlobalPanelGating',
              ).isGlobalPanelVisible(),
              size: 'large',
              xstyle: e,
            },
            inputStartContent: a.inputStartContent,
            inputStrategyRenderer: c(
              'SearchCometGlobalTypeaheadInputStrategy.react',
            ),
            label: h._('__JHASH__oTSOcwn1bTU__JHASH__'),
            layoutStrategyRenderer: c(
              'SearchCometGlobalTypeaheadLayoutContextualStrategy.react',
            ),
            loggingProvider: D,
            onChange: s,
            onClose: J,
            onEscape: g,
            onFocus: G,
            onPressEntry: H,
            onSelectFreeformQuery: I,
            placeholder: L,
            queryString: t,
            testid: void 0,
            traceProvider: z,
            viewRole: M,
            viewStrategyRenderer: c(
              'useSearchCometGlobalTypeaheadViewStrategy',
            )({ onHeaderActionPress: p }),
          }),
        ),
      });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    function n(a, b, c, d) {
      var e = a.rawData,
        f;
      if (e != null && a.subtype === 'recent' && c) {
        f = e == null ? void 0 : (c = e.profile) == null ? void 0 : c.url;
      }
      if (
        e != null &&
        (a.subtype === 'keyword' ||
          a.subtype === 'bootstrap' ||
          a.subtype === 'recent') &&
        d
      ) {
        f =
          e == null
            ? void 0
            : (c = e.structuredInfo) == null
            ? void 0
            : (a = c.direct_nav_result) == null
            ? void 0
            : a.link_url;
      }
      return (d = f) != null ? d : b;
    }
    g['default'] = a;
  },
  98,
);
__d(
  'GlobalVideoPortsManager',
  ['addToMap', 'emptyFunction', 'gkx', 'removeFromMap'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    a = c('emptyFunction');
    function h(a) {
      return a.unlinkedAtTimestampMs !== null;
    }
    var i = 1e4;
    b = (function () {
      function a(a) {
        var b = this;
        this.$1 = function (c) {
          var d = function (a) {
            return c(b.$2(a));
          };
          a(d);
        };
      }
      var b = a.prototype;
      b.addOrUpdatePlace = function (a) {
        var b = this,
          d = a.coreVideoPlayerMetaData,
          e = a.fullscreenController,
          f = a.implementations,
          g = a.injectCoreVideoStatesRef,
          i = a.isFullscreen,
          j = a.portablePlaceContainer,
          k = a.portablePlaceID,
          l = a.portablePlaceMetaData,
          m = a.portableVideoID,
          n = a.renderComponents,
          o = a.renderPlaceholder,
          p = a.trackingDataEncrypted,
          q = a.trackingNodes,
          r = a.viewportMarginsForViewability;
        this.$1(function (a) {
          var s,
            t = b.getPortableVideoState(a, m),
            u = (s = a.places.get(k)) != null ? s : null;
          s =
            u != null && !h(u) ? u.sequenceNumber : a.placesSequenceNumberNext;
          var v =
              s === a.placesSequenceNumberNext
                ? a.placesSequenceNumberNext + 1
                : a.placesSequenceNumberNext,
            w = l || {},
            x = a.places;
          if (m != null) {
            var y = b.getPlacesBorrowingThisVideo(x, m);
            y.forEach(function (a) {
              h(a) &&
                a.portablePlaceID !==
                  (u == null ? void 0 : u.portablePlaceID) &&
                (x = c('removeFromMap')(x, a.portablePlaceID));
            });
          }
          x = c('addToMap')(
            x,
            k,
            babelHelpers['extends']({}, u, {
              coreVideoPlayerMetaData: d,
              currentVideoID: m,
              fullscreenController: e,
              implementations: f,
              injectCoreVideoStatesRef: g,
              isFullscreen: i,
              portablePlaceContainer: j,
              portablePlaceID: k,
              portablePlaceMetaData: w,
              renderComponents: n,
              renderPlaceholder: (y = o) != null ? y : null,
              sequenceNumber: s,
              trackingDataEncrypted: p,
              trackingNodes: q,
              unlinkedAtTimestampMs: null,
              viewportMarginsForViewability: r,
            }),
          );
          w = u !== null && m === null ? u.currentVideoID : null;
          y = a.videos;
          if (w !== null) {
            s = b.getPlacesBorrowingThisVideo(x, w);
            s = 0 === s.length;
            s && (y = c('removeFromMap')(a.videos, w));
          }
          if (m !== null) {
            s = b.updatePreviousPlaceMetaDataInfoForVideo({
              existingVideoState: t,
              places: a.places,
              setPreferredPlaceForVideo: !1,
              updatedPlaces: x,
              videoID: m,
            });
            w = s.nextPreviousPlaceMetaData;
            y = c('addToMap')(
              y,
              m,
              t
                ? babelHelpers['extends']({}, t, {
                    portableVideoID: m,
                    previousPlaceMetaData: w,
                  })
                : {
                    portableVideoID: m,
                    preferredPlaceID: null,
                    previousPlaceMetaData: w,
                  },
            );
          }
          return x === a.places &&
            v === a.placesSequenceNumberNext &&
            y === a.videos
            ? a
            : babelHelpers['extends']({}, a, {
                places: x,
                placesSequenceNumberNext: v,
                videos: y,
              });
        });
      };
      b.removePlace = function (a) {
        var b = this,
          d = a.portablePlaceID,
          e = Date.now();
        this.$1(function (a) {
          var f;
          f = (f = a.places.get(d)) != null ? f : null;
          var g = f !== null ? f.currentVideoID : null;
          if (f === null) return a;
          var h = a.places,
            i =
              g !== null
                ? b
                    .skipUnlinkedPlaces(b.getPlacesBorrowingThisVideo(h, g))
                    .filter(function (a) {
                      return a.portablePlaceID !== d;
                    })
                : [];
          g !== null && i.length === 0
            ? (h = c('addToMap')(
                h,
                d,
                babelHelpers['extends']({}, f, { unlinkedAtTimestampMs: e }),
              ))
            : (h = c('removeFromMap')(h, d));
          i = a.videos;
          if (g !== null) {
            f = b.getPlacesBorrowingThisVideo(h, g);
            f = 0 === f.length;
            if (f) i = c('removeFromMap')(i, g);
            else {
              f = b.getPortableVideoState(a, g);
              var j = b.updatePreviousPlaceMetaDataInfoForVideo({
                  existingVideoState: f,
                  places: a.places,
                  setPreferredPlaceForVideo: !1,
                  updatedPlaces: h,
                  videoID: g,
                }),
                k = j.nextPreviousPlaceMetaData;
              j = j.shouldUpdatePreviousPlaceMetaDataForVideo;
              f != null &&
                j &&
                (i = c('addToMap')(
                  i,
                  g,
                  babelHelpers['extends']({}, f, {
                    portableVideoID: g,
                    previousPlaceMetaData: k,
                  }),
                ));
            }
          }
          return h === a.places && i === a.videos
            ? a
            : babelHelpers['extends']({}, a, { places: h, videos: i });
        });
      };
      b.setPreferredPlaceForVideo = function (a) {
        var b = this,
          d = a.portablePlaceID,
          e = a.portableVideoID;
        this.$1(function (a) {
          var f = b.getPortableVideoState(a, e),
            g = d != null ? a.places.get(d) : null,
            h = b.updatePreviousPlaceMetaDataInfoForVideo({
              existingPlaceStateForSetPreferredPlaceForVideo: g,
              existingVideoState: f,
              places: a.places,
              preferredPlaceID: d,
              setPreferredPlaceForVideo: !0,
              updatedPlaces: a.places,
              videoID: e,
            });
          h = h.nextPreviousPlaceMetaData;
          f =
            f != null
              ? c('addToMap')(
                  a.videos,
                  e,
                  babelHelpers['extends']({}, f, {
                    preferredPlaceID: g != null && d != null ? d : null,
                    previousPlaceMetaData: h,
                  }),
                )
              : a.videos;
          return f === a.videos
            ? a
            : babelHelpers['extends']({}, a, { videos: f });
        });
      };
      b.getPlacesBorrowingThisVideo = function (a, b) {
        var c = [];
        a.forEach(function (a) {
          a.currentVideoID === b && c.push(a);
        });
        return c;
      };
      b.skipUnlinkedPlaces = function (a) {
        return a.filter(function (a) {
          return !h(a);
        });
      };
      b.selectCurrentPlaceFromThesePlaces = function (a, b) {
        var c;
        a = a.slice().sort(function (a, b) {
          return a.sequenceNumber - b.sequenceNumber;
        });
        c =
          (c = a.find(function (a) {
            return a.portablePlaceID === b;
          })) != null
            ? c
            : null;
        a = a.length > 0 ? a[a.length - 1] : null;
        return (c = (c = c) != null ? c : a) != null ? c : null;
      };
      b.getCurrentPlaceStateForVideo = function (a, b) {
        var c = this.getPortableVideoState(a, b);
        if (c != null && b != null) {
          a = this.selectCurrentPlaceFromThesePlaces(
            this.skipUnlinkedPlaces(
              this.getPlacesBorrowingThisVideo(a.places, b),
            ),
            c.preferredPlaceID,
          );
          return (b = a) != null ? b : null;
        } else return null;
      };
      b.getPortableVideoState = function (a, b) {
        if (b != null) {
          a = a.videos.get(b);
          return (b = a) != null ? b : null;
        }
        return null;
      };
      b.updatePreviousPlaceMetaDataInfoForVideo = function (a) {
        var b = this,
          c = a.existingPlaceStateForSetPreferredPlaceForVideo,
          d = a.existingVideoState,
          e = a.places,
          f = a.preferredPlaceID,
          g = a.setPreferredPlaceForVideo,
          h = a.updatedPlaces,
          i = a.videoID;
        a = function (a, c) {
          return b.selectCurrentPlaceFromThesePlaces(
            b.skipUnlinkedPlaces(b.getPlacesBorrowingThisVideo(a, i)),
            (a = c) != null ? a : null,
          );
        };
        var j = a(e, d == null ? void 0 : d.preferredPlaceID);
        g
          ? (g = c != null ? a(e, f) : null)
          : (g = a(h, d == null ? void 0 : d.preferredPlaceID));
        e =
          j != null &&
          (j == null ? void 0 : j.portablePlaceID) !==
            ((c = g) == null ? void 0 : c.portablePlaceID);
        return {
          nextPreviousPlaceMetaData:
            e && j != null
              ? j.portablePlaceMetaData
              : (f = d == null ? void 0 : d.previousPlaceMetaData) != null
              ? f
              : null,
          shouldUpdatePreviousPlaceMetaDataForVideo: e,
        };
      };
      b.collectGarbage = function () {
        this.$1(function (a) {
          return a;
        });
      };
      b.$2 = function (a) {
        var b = Date.now(),
          d = new Set(),
          e = a.places;
        a.places.forEach(function (a) {
          a.unlinkedAtTimestampMs !== null && b - a.unlinkedAtTimestampMs >= i
            ? (e = c('removeFromMap')(e, a.portablePlaceID))
            : a.currentVideoID !== null && d.add(a.currentVideoID);
        });
        var f = a.videos;
        a.videos.forEach(function (a) {
          d.has(a.portableVideoID) ||
            (f = c('removeFromMap')(f, a.portableVideoID));
        });
        return e === a.places && f === a.videos
          ? a
          : babelHelpers['extends']({}, a, { places: e, videos: f });
      };
      return a;
    })();
    g.isUnlinkedGlobalVideoPortsPlace = h;
    g.UNLINKED_PLACE_TIMEOUT_MS = i;
    g.GlobalVideoPortsManager = b;
  },
  98,
);
__d(
  'GlobalVideoPortsPortalerErrorBoundary.react',
  ['react'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    a = d('react');
    b = (function (a) {
      babelHelpers.inheritsLoose(b, a);
      function b() {
        var b, c;
        for (var d = arguments.length, e = new Array(d), f = 0; f < d; f++)
          e[f] = arguments[f];
        return (
          ((b = c = a.call.apply(a, [this].concat(e)) || this),
          (c.state = { errorRaw: null }),
          (c.suppressReactDefaultErrorLogging = !0),
          b) || babelHelpers.assertThisInitialized(c)
        );
      }
      b.getDerivedStateFromError = function (a) {
        return { errorRaw: a };
      };
      var c = b.prototype;
      c.componentDidCatch = function (a, b) {
        b = this.props.onError;
        b != null && b(a);
      };
      c.render = function () {
        var a = this.props,
          b = a.children;
        a = a.fallback;
        var c = this.state.errorRaw;
        return c != null ? (typeof a === 'function' ? a(b) : a) : b;
      };
      return b;
    })(a.PureComponent);
    g['default'] = b;
  },
  98,
);
__d(
  'GlobalVideoPortsPortaler.react',
  [
    'CoreVideoPlayerFitParentContainer.react',
    'GlobalVideoPortsPortalerErrorBoundary.react',
    'GlobalVideoPortsRenderers.react',
    'ReactDOMComet',
    'react',
    'useUnsafeRef_DEPRECATED',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    b = d('react');
    var i = b.useRef,
      j = b.useState;
    function a(a) {
      var b = a.globalVideoPortsManager,
        e = a.globalVideoPortsState,
        f = a.thisVideoID;
      a = j(function () {
        return d(
          'CoreVideoPlayerFitParentContainer.react',
        ).createFitParentContainerDiv({ debugRole: null });
      });
      var g = a[0],
        k = i(null),
        l = c('useUnsafeRef_DEPRECATED')(null),
        m = (a = e.videos.get(f)) != null ? a : null,
        n = b.getPlacesBorrowingThisVideo(e.places, f);
      if (n.length <= 0) return null;
      a = b.selectCurrentPlaceFromThesePlaces(n, m ? m.preferredPlaceID : null);
      var o = b.selectCurrentPlaceFromThesePlaces(
        b.skipUnlinkedPlaces(n),
        m ? m.preferredPlaceID : null,
      );
      e = function (a) {
        (l.current = a),
          n.forEach(function (b) {
            b = b.injectCoreVideoStatesRef.current;
            b && b(k.current, a);
          });
      };
      b = function (a) {
        return null;
      };
      var p = function (a) {
        (k.current = a),
          n.forEach(function (a) {
            a = a.injectCoreVideoStatesRef.current;
            a && a(k.current, l.current);
          });
      };
      return h.jsxs(h.Fragment, {
        children: [
          d('ReactDOMComet').createPortal(
            a
              ? h.jsx(c('GlobalVideoPortsPortalerErrorBoundary.react'), {
                  description: 'GlobalVideoPortsPortaler',
                  fallback: b,
                  onError: p,
                  children: h.jsx(
                    d('GlobalVideoPortsRenderers.react')
                      .GlobalVideoPortsPlayerRenderer,
                    {
                      coreVideoPlayerMetaData: a.coreVideoPlayerMetaData,
                      currentPlaceID: a.portablePlaceID,
                      currentVideoID: f,
                      fullscreenController: a.fullscreenController,
                      implementations: a.implementations,
                      isFullscreen: a.isFullscreen,
                      onCoreVideoStatesChanged: e,
                      previousPlaceMetaData:
                        (b = m == null ? void 0 : m.previousPlaceMetaData) !=
                        null
                          ? b
                          : null,
                      trackingDataEncrypted: a.trackingDataEncrypted,
                      trackingNodes: a.trackingNodes,
                      viewportMarginsForViewability:
                        a.viewportMarginsForViewability,
                    },
                  ),
                })
              : null,
            g,
          ),
          n.map(function (a) {
            var b;
            return d('ReactDOMComet').createPortal(
              a.portablePlaceID === (o == null ? void 0 : o.portablePlaceID)
                ? h.jsx(
                    d('CoreVideoPlayerFitParentContainer.react')
                      .CoreVideoPlayerFitParentDOMContainer,
                    { debugRole: null, domElement: g },
                  )
                : h.jsx(
                    d('GlobalVideoPortsRenderers.react')
                      .GlobalVideoPortsPlaceholderRenderer,
                    {
                      currentPlaceID:
                        (b = o == null ? void 0 : o.portablePlaceID) != null
                          ? b
                          : null,
                      currentVideoID: f,
                      previousPlaceMetaData:
                        (b = m == null ? void 0 : m.previousPlaceMetaData) !=
                        null
                          ? b
                          : null,
                      renderPlaceholder: a.renderPlaceholder,
                      thisPlaceID: a.portablePlaceID,
                      videoPixelsAspectRatio:
                        (b =
                          a.coreVideoPlayerMetaData.videoPixelsAspectRatio) !=
                        null
                          ? b
                          : null,
                    },
                  ),
              a.portablePlaceContainer,
            );
          }),
        ],
      });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    g['default'] = a;
  },
  98,
);
__d(
  'GlobalVideoPortsImpl.react',
  [
    'CometErrorBoundary.react',
    'GlobalVideoPortsContexts',
    'GlobalVideoPortsManager',
    'GlobalVideoPortsPortaler.react',
    'react',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react'),
      i = d('react').useEffect;
    function a(a) {
      var b = a.setGlobalVideoPortsManager;
      i(
        function () {
          var a = function (a) {
            return new (d('GlobalVideoPortsManager').GlobalVideoPortsManager)(
              a,
            );
          };
          b(a);
        },
        [b],
      );
      var e = [],
        f = d('GlobalVideoPortsContexts').useGlobalVideoPortsManager(),
        g = d('GlobalVideoPortsContexts').useGlobalVideoPortsState();
      f &&
        g &&
        g.videos.forEach(function (a, b) {
          e.push(
            h.jsx(
              c('CometErrorBoundary.react'),
              {
                children: h.jsx(c('GlobalVideoPortsPortaler.react'), {
                  globalVideoPortsManager: f,
                  globalVideoPortsState: g,
                  thisVideoID: b,
                }),
              },
              b,
            ),
          );
        });
      return h.jsx(h.Fragment, { children: e });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    g['default'] = a;
  },
  98,
);
__d(
  'maybeRemoveElement',
  ['gkx', 'queueRemovableDOMElements'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function h(a) {
      c('gkx')('3538') && a.remove();
    }
    function a(a) {
      if (a != null) {
        var b = document.querySelectorAll(
          'link[rel="preload"][as="script"][href="' + a.src + '"]',
        );
        b.forEach(h);
        h(a);
      }
    }
    function b(a) {
      h(a);
    }
    function e() {
      var a = [].concat(d('queueRemovableDOMElements').getCurrentQueue());
      d('queueRemovableDOMElements').clearQueue();
      a.forEach(h);
    }
    g.maybeRemoveScriptLoadingElement = a;
    g.maybeRemoveServerJSScriptElement = b;
    g.maybeRemoveElementInit = e;
  },
  98,
); /*FB_PKG_DELIM*/
__d(
  'CometTwoButtonDialogImpl.react',
  [
    'fbt',
    'CometDialog.react',
    'CometDialogConfirmationFooter.react',
    'CometDialogHeader.react',
    'CometTrackingNodeProvider.react',
    'TetraText.react',
    'react',
  ],
  function (a, b, c, d, e, f, g, h) {
    'use strict';
    var i = d('react'),
      j = {
        dialog: 'comet-two-button-dialog',
        primary: 'comet-two-button-dialog-primary',
        secondary: 'comet-two-button-dialog-secondary',
      };
    function a(a) {
      var b = a.body,
        d = a.disabled;
      d = d === void 0 ? !1 : d;
      var e = a.onClose,
        f = a.primary,
        g = a.secondary,
        k = a.testids;
      k = k === void 0 ? j : k;
      a = a.title;
      return i.jsx(c('CometTrackingNodeProvider.react'), {
        trackingNode: 163,
        children: i.jsx(c('CometDialog.react'), {
          footer: i.jsx(c('CometDialogConfirmationFooter.react'), {
            primary: {
              disabled: d,
              label: (f = f) != null ? f : h._('__JHASH__dV9Vz_8TRow__JHASH__'),
              onPress: function () {
                return e('PRIMARY');
              },
              testid: k.primary,
            },
            secondary: {
              disabled: d,
              label: (f = g) != null ? f : h._('__JHASH__vfZ0qXC5Zmr__JHASH__'),
              onPress: function () {
                return e('SECONDARY');
              },
              testid: k.secondary,
            },
          }),
          header: i.jsx(c('CometDialogHeader.react'), {
            onClose: function () {
              return e('EXIT');
            },
            text: a,
            withCloseButton: !0,
          }),
          label: a,
          onClose: function () {
            return e('EXIT');
          },
          testid: void 0,
          children: i.jsx('div', {
            className: 'xz9dl7a x1pi30zi xsag5q8 x1swvt13 x1n2onr6',
            children: i.jsx(c('TetraText.react'), {
              type: 'body3',
              children: b,
            }),
          }),
        }),
      });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    g['default'] = a;
  },
  98,
);
__d(
  'CometConfirmationDialogImpl.react',
  ['CometTwoButtonDialogImpl.react', 'react'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    function a(a) {
      var b = a.body,
        d = a.cancel,
        e = a.confirm,
        f = a.disabled;
      f = f === void 0 ? !1 : f;
      var g = a.onClose;
      a = a.title;
      return h.jsx(c('CometTwoButtonDialogImpl.react'), {
        body: b,
        disabled: f,
        onClose: function (a) {
          return g(a === 'PRIMARY');
        },
        primary: e,
        secondary: d,
        testids: {
          dialog: 'CometConfirmationDialogImpl',
          primary: 'CometConfirmationDialogConfirmButton',
          secondary: 'CometConfirmationDialogCancelButton',
        },
        title: a,
      });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    g['default'] = a;
  },
  98,
);
__d(
  'CometToast.react',
  [
    'fbt',
    'ix',
    'CometCircleButton.react',
    'CometPressable.react',
    'CometRow.react',
    'CometRowItem.react',
    'CometTheme.react',
    'TetraText.react',
    'fbicon',
    'react',
  ],
  function (a, b, c, d, e, f, g, h, i) {
    'use strict';
    var j = d('react'),
      k = d('react').useMemo,
      l = {
        icon: { minWidth: 'xnei2rj', $$css: !0 },
        pressable: { display: 'x1lliihq', $$css: !0 },
        root: {
          backgroundColor: 'x1jx94hy',
          borderTopStartRadius: 'x1lq5wgf',
          borderTopEndRadius: 'xgqcy7u',
          borderBottomEndRadius: 'x30kzoy',
          borderBottomStartRadius: 'x9jhf4c',
          boxShadow: 'xdy0x9s',
          maxWidth: 'x193iq5w',
          minWidth: 'xp33xtk',
          $$css: !0,
        },
      };
    function a(a) {
      var b = a.action,
        e = a.href,
        f = a.icon,
        g = a.impressionLoggingRef,
        m = a.message,
        n = a.onDismiss,
        o = a.supressCloseButton;
      o = o === void 0 ? !1 : o;
      var p = a.target,
        q = a.testid;
      q = a.truncateText;
      q = q === void 0 ? !0 : q;
      a = babelHelpers.objectWithoutPropertiesLoose(a, [
        'action',
        'href',
        'icon',
        'impressionLoggingRef',
        'message',
        'onDismiss',
        'supressCloseButton',
        'target',
        'testid',
        'truncateText',
      ]);
      var r = k(
        function () {
          return e != null ? { target: p, url: e } : void 0;
        },
        [e, p],
      );
      g = j.jsxs(c('CometRow.react'), {
        paddingHorizontal: 16,
        paddingVertical: 16,
        ref: g,
        spacing: 12,
        testid: void 0,
        verticalAlign: 'center',
        children: [
          f != null
            ? j.jsx(c('CometRowItem.react'), { xstyle: l.icon, children: f })
            : null,
          j.jsx(c('CometRowItem.react'), {
            'aria-atomic': !0,
            expanding: !0,
            role: 'alert',
            children: j.jsx(c('TetraText.react'), {
              color: 'primary',
              numberOfLines: q ? 4 : void 0,
              type: 'body3',
              children: m,
            }),
          }),
          b != null
            ? j.jsx(c('CometRowItem.react'), {
                children: j.jsx(c('CometPressable.react'), {
                  onPress: function (a) {
                    n(), b.onPress(a);
                  },
                  testid: void 0,
                  children: j.jsx(c('TetraText.react'), {
                    color: 'blueLink',
                    numberOfLines: 1,
                    type: 'body3',
                    children: b.label,
                  }),
                }),
              })
            : null,
          o !== !0 &&
            j.jsx(c('CometRowItem.react'), {
              children: j.jsx(c('CometCircleButton.react'), {
                icon: d('fbicon')._(i('478231'), 12),
                label: h._('__JHASH__cCrSTii9yXy__JHASH__'),
                onPress: n,
                size: 24,
              }),
            }),
        ],
      });
      (a.onPress != null || r != null) &&
        (g = j.jsx(
          c('CometPressable.react'),
          babelHelpers['extends']({}, a, {
            expanding: !0,
            linkProps: r,
            xstyle: l.pressable,
            children: g,
          }),
        ));
      return j.jsx(c('CometTheme.react'), {
        testid: void 0,
        theme: 'invert',
        xstyle: l.root,
        children: g,
      });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    g['default'] = a;
  },
  98,
);
__d(
  'CometFeedUnitLoadingIndicatorMask.react',
  ['CometProgressIndicator.react', 'react'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    function a() {
      return h.jsx('div', {
        className:
          'x6s0dn4 x1h0vfkc x1ey2m1c x78zum5 xds687c xdt5ytf xl56j7k x10l6tqk x17qophe x13vifvy x1vjfegm',
        children: h.jsx(c('CometProgressIndicator.react'), {}),
      });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    g['default'] = a;
  },
  98,
);
__d(
  'EventListenerImplForCacheStorage',
  ['cr:1351741'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    g['default'] = b('cr:1351741');
  },
  98,
);
__d(
  'ThriftTypes',
  [],
  function (a, b, c, d, e, f) {
    a = Object.freeze({
      STOP: 0,
      VOID: 1,
      BOOL: 2,
      BYTE: 3,
      I08: 3,
      DOUBLE: 4,
      I16: 6,
      I32: 8,
      I64: 10,
      STRING: 11,
      STRUCT: 12,
      MAP: 13,
      SET: 14,
      LIST: 15,
      FLOAT: 19,
    });
    b = a;
    f['default'] = b;
  },
  66,
);
__d(
  'TWriteBuffer',
  [],
  function (a, b, c, d, e, f) {
    a = (function () {
      function a(b) {
        b === void 0 && (b = a.DEFAULT_BYTE_BUFFER_SIZE),
          (this.$1 = new DataView(new ArrayBuffer(b))),
          (this.$2 = 0);
      }
      var b = a.prototype;
      b.write = function (a) {
        this.$2 + a.length > this.$1.byteLength && this.$3(this.$2 + a.length);
        for (var b = 0; b < a.length; b++) this.$1.setUint8(this.$2 + b, a[b]);
        this.$2 += a.length;
        return a.length;
      };
      b.writeByte = function (a) {
        this.$2 + 1 > this.$1.byteLength && this.$3(this.$2 + 1);
        this.$1.setUint8(this.$2, a);
        this.$2++;
        return 1;
      };
      b.writeFloatBE = function (a) {
        this.$2 + Float32Array.BYTES_PER_ELEMENT > this.$1.byteLength &&
          this.$3(this.$2 + Float32Array.BYTES_PER_ELEMENT);
        this.$1.setFloat32(this.$2, a);
        this.$2 += Float32Array.BYTES_PER_ELEMENT;
        return Float32Array.BYTES_PER_ELEMENT;
      };
      b.writeDoubleBE = function (a) {
        this.$2 + Float64Array.BYTES_PER_ELEMENT > this.$1.byteLength &&
          this.$3(this.$2 + Float64Array.BYTES_PER_ELEMENT);
        this.$1.setFloat64(this.$2, a);
        this.$2 += Float64Array.BYTES_PER_ELEMENT;
        return Float64Array.BYTES_PER_ELEMENT;
      };
      b.toByteArray = function () {
        var a = new Uint8Array(this.$1.buffer, 0, this.$2);
        return a;
      };
      b.currentSize = function () {
        return this.$2;
      };
      b.getUnderlyingDataView = function () {
        return this.$1;
      };
      b.$3 = function (a) {
        a = a * 2;
        if (!Number.isSafeInteger(a)) throw new Error('unable to resize');
        a = new DataView(new ArrayBuffer(a));
        for (var b = 0; b < this.$2; b++) a.setUint8(b, this.$1.getUint8(b));
        this.$1 = a;
      };
      b.readByte = function () {
        throw new Error('operation not supported');
      };
      b.readBytes = function (a) {
        throw new Error('operation not supported');
      };
      b.readFloatBE = function () {
        throw new Error('operation not supported');
      };
      b.readDoubleBE = function () {
        throw new Error('operation not supported');
      };
      return a;
    })();
    a.DEFAULT_BYTE_BUFFER_SIZE = 16;
    f['default'] = a;
  },
  66,
);
__d(
  'StringToUtf8',
  ['TWriteBuffer'],
  function (a, b, c, d, e, f, g) {
    a = function (a) {
      var b = new (c('TWriteBuffer'))(a.length),
        d;
      for (var e = 0; e < a.length; e++) {
        d = a.charCodeAt(e);
        if (d < 128) b.writeByte(d);
        else if (d < 2048)
          b.writeByte((d >> 6) | 192), b.writeByte((d & 63) | 128);
        else if ((d & 64512) == 55296) {
          if (e + 1 >= a.length)
            throw new Error(
              'UTF-16 string is truncated: [' + d.toString(16) + ']',
            );
          if ((a.charCodeAt(e + 1) & 64512) !== 56320)
            throw new Error(
              'Invalid UTF-16 string: [' +
                d.toString(16) +
                ', ' +
                a.charCodeAt(e + 1).toString(16) +
                ']',
            );
          d = 65536 + ((d & 1023) << 10) + (a.charCodeAt(++e) & 1023);
          b.writeByte((d >> 18) | 240);
          b.writeByte(((d >> 12) & 63) | 128);
          b.writeByte(((d >> 6) & 63) | 128);
          b.writeByte((d & 63) | 128);
        } else
          b.writeByte((d >> 12) | 224),
            b.writeByte(((d >> 6) & 63) | 128),
            b.writeByte((d & 63) | 128);
      }
      return b.toByteArray();
    };
    g.StringToUtf8 = a;
  },
  98,
);
__d(
  'Utf8ToString',
  [],
  function (a, b, c, d, e, f) {
    var g = function (a, b) {
        throw new Error(
          a +
            ': [' +
            b
              .map(function (a) {
                return a.toString(16);
              })
              .toString() +
            ']',
        );
      },
      h = function (a) {
        g('Invalid UTF-8 sequence', a);
      },
      i = function (a, b) {
        g('Not enough bytes for ' + a + '-byte sequence', b);
      };
    a = function (a) {
      var b = 0,
        c = [];
      while (b < a.length) {
        var d = a[b++];
        if (d < 128) c.push(String.fromCharCode(d));
        else if (d >= 128 && d < 194) h([d]);
        else if (d >= 194 && d < 224) {
          b >= a.length && i(2, [d]);
          var e = a[b++];
          (e & 192) !== 128 && h([d, e]);
          c.push(String.fromCharCode(((d & 31) << 6) | (e & 63)));
        } else if (d >= 240 && d < 245) {
          b + 2 >= a.length && i(4, [d]);
          e = a[b++];
          var f = a[b++],
            g = a[b++];
          ((d == 240 &&
            (!(e >= 144 && e < 192) ||
              (f & 192) !== 128 ||
              (g & 192) !== 128)) ||
            (d >= 241 &&
              d < 244 &&
              ((e & 192) !== 128 || (f & 192) !== 128 || (g & 192) !== 128)) ||
            (d == 244 &&
              (!(e >= 128 && e < 144) ||
                (f & 192) !== 128 ||
                (g & 192) !== 128))) &&
            h([d, e, f, g]);
          e =
            (((d & 7) << 18) | ((e & 63) << 12) | ((f & 63) << 6) | (g & 63)) -
            65536;
          c.push(String.fromCharCode(55296 + (e >> 10)));
          c.push(String.fromCharCode(56320 + (e & 1023)));
        } else if (d >= 245) h([d]);
        else {
          b + 1 >= a.length && i(3, [d]);
          f = a[b++];
          g = a[b++];
          d == 224
            ? (f >= 160 && f < 192) || h([d, f, g])
            : d >= 225 && d < 237
            ? (f >= 128 && f < 192) || h([d, f, g])
            : d == 237
            ? (f >= 128 && f < 160) || h([d, f, g])
            : d >= 238 && d < 240 && ((f >= 128 && f < 192) || h([d, f, g]));
          (g >= 128 && g < 192) || h([d, f, g]);
          c.push(
            String.fromCharCode(((d & 15) << 12) | ((f & 63) << 6) | (g & 63)),
          );
        }
      }
      return c.join('');
    };
    f.Utf8ToString = a;
  },
  66,
);
__d(
  'TNoOpWriteBuffer',
  [],
  function (a, b, c, d, e, f) {
    a = (function () {
      function a() {
        this.$1 = 0;
      }
      var b = a.prototype;
      b.write = function (a) {
        this.$1 += a.length;
        return a.length;
      };
      b.writeByte = function (a) {
        this.$1++;
        return 1;
      };
      b.writeFloatBE = function (a) {
        this.$1 += Float32Array.BYTES_PER_ELEMENT;
        return Float32Array.BYTES_PER_ELEMENT;
      };
      b.writeDoubleBE = function (a) {
        this.$1 += Float64Array.BYTES_PER_ELEMENT;
        return Float64Array.BYTES_PER_ELEMENT;
      };
      b.toByteArray = function () {
        throw new Error('operation not supported');
      };
      b.currentSize = function () {
        return this.$1;
      };
      b.readByte = function () {
        throw new Error('operation not supported');
      };
      b.readBytes = function (a) {
        throw new Error('operation not supported');
      };
      b.readFloatBE = function () {
        throw new Error('operation not supported');
      };
      b.readDoubleBE = function () {
        throw new Error('operation not supported');
      };
      return a;
    })();
    f['default'] = a;
  },
  66,
);
__d(
  'TReadBuffer',
  [],
  function (a, b, c, d, e, f) {
    a = (function () {
      function a(a) {
        (this.$1 = a), (this.$2 = 0);
      }
      var b = a.prototype;
      b.readByte = function () {
        if (this.$2 < this.$1.length) return this.$1[this.$2++];
        throw new Error('no available byte to read');
      };
      b.readBytes = function (a) {
        if (a < 0) throw new Error('cannot readBytes of negative length: ' + a);
        if (a + this.$2 > this.$1.length)
          throw new Error('not enough bytes to read');
        var b = new Uint8Array(this.$1.buffer, this.$3(), a);
        this.$2 += a;
        return b;
      };
      b.readFloatBE = function () {
        if (Float32Array.BYTES_PER_ELEMENT + this.$2 > this.$1.length)
          throw new Error('not enough bytes to read');
        var a = new DataView(this.$1.buffer).getFloat32(this.$3());
        this.$2 += Float32Array.BYTES_PER_ELEMENT;
        return a;
      };
      b.readDoubleBE = function () {
        if (Float64Array.BYTES_PER_ELEMENT + this.$2 > this.$1.length)
          throw new Error('not enough bytes to read');
        var a = new DataView(this.$1.buffer).getFloat64(this.$3());
        this.$2 += Float64Array.BYTES_PER_ELEMENT;
        return a;
      };
      b.$3 = function () {
        return this.$2 + this.$1.byteOffset;
      };
      b.getCurrentCursor = function () {
        return this.$2;
      };
      b.writeByte = function (a) {
        throw new Error('operation not supported');
      };
      b.write = function (a) {
        throw new Error('operation not supported');
      };
      b.toByteArray = function () {
        throw new Error('operation not supported');
      };
      b.writeFloatBE = function (a) {
        throw new Error('operation not supported');
      };
      b.writeDoubleBE = function (a) {
        throw new Error('operation not supported');
      };
      return a;
    })();
    f['default'] = a;
  },
  66,
);
__d(
  'CacheStorage',
  [
    'ErrorGuard',
    'EventListenerImplForCacheStorage',
    'ExecutionEnvironment',
    'FBJSON',
    'WebStorage',
    'emptyFunction',
    'err',
    'killswitch',
  ],
  function (a, b, c, d, e, f, g) {
    var h = '_@_',
      i = '3b',
      j = 'CacheStorageVersion',
      k = {
        length: 0,
        getItem: c('emptyFunction'),
        setItem: c('emptyFunction'),
        clear: c('emptyFunction'),
        removeItem: c('emptyFunction'),
        key: c('emptyFunction'),
      };
    a = (function () {
      function a(a) {
        this._store = a;
      }
      var b = a.prototype;
      b.getStore = function () {
        return this._store;
      };
      b.keys = function () {
        var a = [];
        for (var b = 0; b < this._store.length; b++) {
          var c = this._store.key(b);
          c != null && a.push(c);
        }
        return a;
      };
      b.get = function (a) {
        return this._store.getItem(a);
      };
      b.set = function (a, b) {
        this._store.setItem(a, b);
      };
      b.remove = function (a) {
        this._store.removeItem(a);
      };
      b.clear = function () {
        this._store.clear();
      };
      b.clearWithPrefix = function (a) {
        a = a || '';
        var b = this.keys();
        for (var c = 0; c < b.length; c++) {
          var d = b[c];
          d != null && d.startsWith(a) && this.remove(d);
        }
      };
      return a;
    })();
    b = (function (a) {
      babelHelpers.inheritsLoose(b, a);
      function b() {
        var b;
        return (
          a.call(
            this,
            (b = c('WebStorage').getLocalStorage()) != null ? b : k,
          ) || this
        );
      }
      b.available = function () {
        return !!c('WebStorage').getLocalStorage();
      };
      return b;
    })(a);
    e = (function (a) {
      babelHelpers.inheritsLoose(b, a);
      function b() {
        var b;
        return (
          a.call(
            this,
            (b = c('WebStorage').getSessionStorage()) != null ? b : k,
          ) || this
        );
      }
      b.available = function () {
        return !!c('WebStorage').getSessionStorage();
      };
      return b;
    })(a);
    var l = (function () {
        function a() {
          this._store = {};
        }
        var b = a.prototype;
        b.getStore = function () {
          return this._store;
        };
        b.keys = function () {
          return Object.keys(this._store);
        };
        b.get = function (a) {
          return this._store[a] === void 0 ? null : this._store[a];
        };
        b.set = function (a, b) {
          this._store[a] = b;
        };
        b.remove = function (a) {
          a in this._store && delete this._store[a];
        };
        b.clear = function () {
          this._store = {};
        };
        b.clearWithPrefix = function (a) {
          a = a || '';
          var b = this.keys();
          for (var c = 0; c < b.length; c++) {
            var d = b[c];
            d.startsWith(a) && this.remove(d);
          }
        };
        a.available = function () {
          return !0;
        };
        return a;
      })(),
      m = { memory: l, localstorage: b, sessionstorage: e };
    g = (function () {
      function a(a, b) {
        this._changeCallbacks = [];
        this._key_prefix = '_cs_';
        this._exception = null;
        b && (this._key_prefix = b);
        a === 'AUTO' || !a ? (b = 'memory') : (b = a);
        b &&
          (!m[b] || !m[b].available()
            ? (c('ExecutionEnvironment').canUseDOM, (this._backend = new l()))
            : (this._backend = new m[b]()));
        a = this.useBrowserStorage();
        a &&
          c('EventListenerImplForCacheStorage').listen(
            window,
            'storage',
            this._onBrowserValueChanged.bind(this),
          );
        b = a
          ? this._backend.getStore().getItem(j)
          : this._backend.getStore()[j];
        b !== i &&
          (c('killswitch')('CACHE_STORAGE_MODULE_CLEAR_OWN_KEYS')
            ? this.clear()
            : this.clearOwnKeys());
      }
      var b = a.prototype;
      b.useBrowserStorage = function () {
        return (
          this._backend.getStore() === c('WebStorage').getLocalStorage() ||
          this._backend.getStore() === c('WebStorage').getSessionStorage()
        );
      };
      b.addValueChangeCallback = function (a) {
        var b = this;
        this._changeCallbacks.push(a);
        return {
          remove: function () {
            b._changeCallbacks.slice(b._changeCallbacks.indexOf(a), 1);
          },
        };
      };
      b._onBrowserValueChanged = function (a) {
        this._changeCallbacks &&
          String(a.key).startsWith(this._key_prefix) &&
          this._changeCallbacks.forEach(function (b) {
            b(a.key, a.oldValue, a.newValue);
          });
      };
      b.keys = function () {
        var a = this,
          b = [];
        c('ErrorGuard').guard(
          function () {
            if (a._backend) {
              var c = a._backend.keys(),
                d = a._key_prefix.length;
              for (var e = 0; e < c.length; e++)
                c[e].substr(0, d) == a._key_prefix && b.push(c[e].substr(d));
            }
          },
          { name: 'CacheStorage' },
        )();
        return b;
      };
      b.set = function (b, e, f) {
        if (this._backend) {
          if (this.useBrowserStorage() && a._persistentWritesDisabled) {
            this._exception = c('err')('writes disabled');
            return !1;
          }
          var g;
          typeof e === 'string'
            ? (g = h + e)
            : !f
            ? ((g = { __t: Date.now(), __v: e }),
              (g = d('FBJSON').stringify(g)))
            : (g = d('FBJSON').stringify(e));
          f = this._backend;
          e = this._key_prefix + b;
          b = !0;
          var i = null;
          while (b)
            try {
              (i = null), f.set(e, g), (b = !1);
            } catch (a) {
              i = a;
              var j = f.keys().length;
              this._evictCacheEntries();
              b = f.keys().length < j;
            }
          if (i !== null) {
            this._exception = i;
            return !1;
          } else {
            this._exception = null;
            return !0;
          }
        }
        this._exception = c('err')('no back end');
        return !1;
      };
      b.getLastSetExceptionMessage = function () {
        return this._exception ? this._exception.message : null;
      };
      b.getLastSetException = function () {
        return this._exception;
      };
      b.getStorageKeyCount = function () {
        var a = this._backend;
        return a ? a.keys().length : 0;
      };
      b._evictCacheEntries = function () {
        var b = [],
          c = this._backend;
        c.keys().forEach(function (e) {
          if (e === j) return;
          var g = c.get(e);
          if (g === void 0) {
            c.remove(e);
            return;
          }
          if (a._hasMagicPrefix(g)) return;
          try {
            g = d('FBJSON').parse(g, f.id);
          } catch (a) {
            c.remove(e);
            return;
          }
          g && g.__t !== void 0 && g.__v !== void 0 && b.push([e, g.__t]);
        });
        b.sort(function (a, b) {
          return a[1] - b[1];
        });
        for (var e = 0; e < Math.ceil(b.length / 2); e++) c.remove(b[e][0]);
      };
      b.get = function (b, e) {
        var g;
        if (this._backend) {
          c('ErrorGuard').applyWithGuard(
            function () {
              g = this._backend.get(this._key_prefix + b);
            },
            this,
            [],
            {
              onError: function () {
                g = null;
              },
              name: 'CacheStorage:get',
            },
          );
          if (g != null)
            if (a._hasMagicPrefix(g)) g = g.substr(h.length);
            else
              try {
                (g = d('FBJSON').parse(g, f.id)),
                  g && g.__t !== void 0 && g.__v !== void 0 && (g = g.__v);
              } catch (a) {
                g = void 0;
              }
          else g = void 0;
        }
        g === void 0 && e !== void 0 && ((g = e), this.set(b, g));
        return g;
      };
      b.remove = function (a) {
        this._backend &&
          c('ErrorGuard').applyWithGuard(
            this._backend.remove,
            this._backend,
            [this._key_prefix + a],
            { name: 'CacheStorage:remove' },
          );
      };
      b._setVersion = function () {
        var a = this;
        c('ErrorGuard').applyWithGuard(
          function () {
            a.useBrowserStorage()
              ? a._backend.getStore().setItem(j, i)
              : (a._backend.getStore()[j] = i);
          },
          this,
          [],
          { name: 'CacheStorage:setVersion' },
        );
      };
      b.clear = function () {
        this._backend &&
          (c('ErrorGuard').applyWithGuard(
            this._backend.clear,
            this._backend,
            [],
            { name: 'CacheStorage:clear' },
          ),
          this._setVersion());
      };
      b.clearOwnKeys = function () {
        this._backend &&
          (c('ErrorGuard').applyWithGuard(
            this._backend.clearWithPrefix,
            this._backend,
            [this._key_prefix],
            { name: 'CacheStorage:clearOwnKeys' },
          ),
          this._setVersion());
      };
      a.getAllStorageTypes = function () {
        return Object.keys(m);
      };
      a._hasMagicPrefix = function (a) {
        return a.substr(0, h.length) === h;
      };
      a.disablePersistentWrites = function () {
        a._persistentWritesDisabled = !0;
      };
      return a;
    })();
    g._persistentWritesDisabled = !1;
    f.exports = g;
  },
  34,
);
__d(
  'CrossWindowEventEmitter',
  ['CacheStorage', 'EventEmitter', 'FBJSON'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    a = (function (a) {
      babelHelpers.inheritsLoose(b, a);
      function b(b) {
        var e;
        e = a.call(this) || this;
        e.$CrossWindowEventEmitter2 = b;
        e.$CrossWindowEventEmitter1 = new (c('CacheStorage'))(
          'localstorage',
          b + ':',
        );
        e.$CrossWindowEventEmitter1.addValueChangeCallback(function (b, c, f) {
          c = b.split(':')[1];
          try {
            b = d('FBJSON').parse(f);
          } catch (a) {
            b = void 0;
          }
          if (b && b.__v) {
            (f = a.prototype.emit).call.apply(
              f,
              [babelHelpers.assertThisInitialized(e), c].concat(b.__v),
            );
          }
        });
        return e;
      }
      var e = b.prototype;
      e.emit = function (b) {
        var c;
        for (
          var d = arguments.length, e = new Array(d > 1 ? d - 1 : 0), f = 1;
          f < d;
          f++
        )
          e[f - 1] = arguments[f];
        this.emitRemote.apply(this, [b].concat(e));
        (c = a.prototype.emit).call.apply(c, [this, b].concat(e));
      };
      e.emitRemote = function (a) {
        for (
          var b = arguments.length, c = new Array(b > 1 ? b - 1 : 0), d = 1;
          d < b;
          d++
        )
          c[d - 1] = arguments[d];
        this.$CrossWindowEventEmitter1.set(a, c);
      };
      return b;
    })(c('EventEmitter'));
    g['default'] = a;
  },
  98,
);
__d(
  'isFastRefreshEnabledForCurrentDomain',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    function a() {
      return !1;
    }
    f['default'] = a;
  },
  66,
);
__d(
  'MqttUnifiedClientConnectFalcoEvent',
  ['FalcoLoggerInternal', 'getFalcoLogPolicy_DO_NOT_USE'],
  function (a, b, c, d, e, f) {
    'use strict';
    a = b('getFalcoLogPolicy_DO_NOT_USE')('1744057');
    c = b('FalcoLoggerInternal').create('mqtt_unified_client_connect', a);
    e.exports = c;
  },
  null,
);
__d(
  'MqttUnifiedClientDisconnectFalcoEvent',
  ['FalcoLoggerInternal', 'getFalcoLogPolicy_DO_NOT_USE'],
  function (a, b, c, d, e, f) {
    'use strict';
    a = b('getFalcoLogPolicy_DO_NOT_USE')('1744058');
    c = b('FalcoLoggerInternal').create('mqtt_unified_client_disconnect', a);
    e.exports = c;
  },
  null,
);
__d(
  'MqttUnifiedClientIncomingPublishFalcoEvent',
  ['FalcoLoggerInternal', 'getFalcoLogPolicy_DO_NOT_USE'],
  function (a, b, c, d, e, f) {
    'use strict';
    a = b('getFalcoLogPolicy_DO_NOT_USE')('1744059');
    c = b('FalcoLoggerInternal').create(
      'mqtt_unified_client_incoming_publish',
      a,
    );
    e.exports = c;
  },
  null,
);
__d(
  'MqttUnifiedClientOutgoingPublishFalcoEvent',
  ['FalcoLoggerInternal', 'getFalcoLogPolicy_DO_NOT_USE'],
  function (a, b, c, d, e, f) {
    'use strict';
    a = b('getFalcoLogPolicy_DO_NOT_USE')('1744060');
    c = b('FalcoLoggerInternal').create(
      'mqtt_unified_client_outgoing_publish',
      a,
    );
    e.exports = c;
  },
  null,
);
__d(
  'CometFeedStoriesStrategyErrorsTypedLoggerLite',
  ['generateLiteTypedLogger'],
  function (a, b, c, d, e, f) {
    'use strict';
    e.exports = b('generateLiteTypedLogger')(
      'logger:CometFeedStoriesStrategyErrorsLoggerConfig',
    );
  },
  null,
);
__d(
  'MqttWsClientTypedLoggerLite',
  ['generateLiteTypedLogger'],
  function (a, b, c, d, e, f) {
    'use strict';
    e.exports = b('generateLiteTypedLogger')('logger:MqttWsClientLoggerConfig');
  },
  null,
);
__d(
  'MarauderLogger',
  ['Banzai', 'CacheStorage', 'MarauderConfig'],
  function (a, b, c, d, e, f) {
    var g = 'client_event',
      h = 'navigation',
      i = 18e4,
      j = 'marauder',
      k = 'marauder_last_event_time',
      l = 'marauder_last_session_id',
      m = {},
      n = [],
      o = !1,
      p = null,
      q = null,
      r = null,
      s = 0,
      t,
      u,
      v = !1,
      w = null;
    function a() {
      F().set(k, x());
    }
    b('Banzai').subscribe(b('Banzai').SHUTDOWN, a);
    function x() {
      t = t || F().get(k) || 0;
      return t;
    }
    function y() {
      v || ((u = F().get(l)), (v = !0));
      var a = Date.now();
      (!u || a - i > x()) &&
        ((u =
          a.toString(16) + '-' + (~~(Math.random() * 16777215)).toString(16)),
        F().set(l, u));
      return u;
    }
    function z() {
      return {
        user_agent: window.navigator.userAgent,
        screen_height: window.screen.availHeight,
        screen_width: window.screen.availWidth,
        density: window.screen.devicePixelRatio || null,
        platform: window.navigator.platform || null,
        locale: window.navigator.language || null,
      };
    }
    function A() {
      return { locale: navigator.language };
    }
    function B(a, b, c, d, e, f, g) {
      var h = g != null && g != 0 ? g : Date.now();
      t = g != null && g != 0 ? Date.now() : h;
      g = b != null && b != '' ? b : p;
      return {
        name: a,
        time: h / 1e3,
        module: g,
        obj_type: d,
        obj_id: e,
        uuid: f,
        extra: c,
      };
    }
    function C(a, b, c) {
      return B('content', null, { flags: b }, null, null, a, c);
    }
    function D(a) {
      var b = window.__mrdr;
      if (b)
        for (var c in b) {
          var d = b[c];
          if (d[3] !== 0) {
            delete b[c];
            if (c === '1')
              if (r !== null) c = r;
              else continue;
            a.push(C(c, 1, d[1]));
            a.push(C(c, 2, d[2]));
            a.push(C(c, 3, d[3]));
          }
        }
    }
    function E(a, c) {
      D(a);
      if (a.length === 0) return;
      o && a.push(B('counters', null, m));
      var d = b('Banzai').BASIC;
      c === 'vital' && (d = b('Banzai').VITAL);
      var e = b('MarauderConfig').gk_enabled;
      s === 0 &&
        e &&
        (a.push(B('device_status', null, A())), (d = { delay: 5e3 }));
      c === 'signal' && (d = { signal: !0 });
      e && Math.random() < 0.01 && a.push(B('device_info', null, z()));
      if (r !== null)
        for (c = 0; c < a.length; c++) {
          e = a[c];
          (e.uuid === null || e.uuid === void 0) && (e.uuid = r);
        }
      e = {
        app_ver: b('MarauderConfig').app_version,
        data: a,
        device_id: void 0,
        log_type: g,
        seq: s++,
        session_id: y(),
      };
      c = F().get('device_id');
      c && (e.device_id = c);
      m = {};
      o = !1;
      b('Banzai').post(j, e, d);
    }
    function F() {
      w || (w = new (b('CacheStorage'))('localstorage', ''));
      return w;
    }
    function c(a) {
      m[a] || (m[a] = 0), m[a]++, (o = !0);
    }
    function G(b, a, c, d, f, g, h, i) {
      E([B(b, a, c, d, f, g, h)], i);
    }
    function H(a, b) {
      p !== b &&
        (n.push(B(h, p, { dest_module: b, source_url: q, destination_url: a })),
        (p = b),
        (q = a));
    }
    function d(a, b) {
      p !== b && ((r = null), H(a, b));
    }
    function f(a, b, c) {
      G(b ? 'show_module' : 'hide_module', a, c);
    }
    function I(a) {
      p = a;
    }
    function J() {
      return p;
    }
    function K(a) {
      r === null && ((r = a), a !== null && (E(n), (n = [])));
    }
    e.exports = {
      count: c,
      log: G,
      navigateTo: d,
      navigateWithinSession: H,
      toggleModule: f,
      setUUID: K,
      setNavigationModule: I,
      getNavigationModule: J,
    };
  },
  null,
);
__d(
  'MqttEnv',
  ['killswitch'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    b = Object.freeze({
      mqtt_waterfall_log_client_sampling: 1,
      mqtt_ws_polling_enabled: 3,
      mqtt_lp_use_fetch: 9,
      mqtt_fast_lp: 11,
      mqtt_lp_no_delay: 12,
      mqtt_enable_publish_over_polling: 13,
      mqttweb_global_connection_counter: 15,
    });
    d = (function () {
      var a = b.prototype;
      a.random = function () {
        return this.$1 != null ? this.$1() : Math.random();
      };
      a.isUserLoggedInNow = function () {
        return this.$2 != null ? this.$2() : !0;
      };
      a.setIsUserLoggedInNow = function (a) {
        this.$2 = a;
      };
      a.clearTimeout = function (a) {
        if (this.$3 != null) {
          this.$3(a);
          return;
        }
        window.clearTimeout(a);
      };
      a.setTimeout = function (a, b) {
        for (
          var c = arguments.length, d = new Array(c > 2 ? c - 2 : 0), e = 2;
          e < c;
          e++
        )
          d[e - 2] = arguments[e];
        return this.$4 != null
          ? this.$4.apply(null, arguments)
          : window.setTimeout.apply(null, arguments);
      };
      a.getLoggerInstance = function () {
        return this.$5 != null ? this.$5() : h.getInstance();
      };
      a.genGk = function (a) {
        return this.$6 != null ? this.$6(a) : !1;
      };
      a.killswitch = function (a) {
        return this.$7 != null ? this.$7(a) : c('killswitch')(a);
      };
      a.createSocket = function (a, b) {
        return this.$8 != null ? this.$8(a, b) : new WebSocket(a);
      };
      a.scheduleCallback = function (a) {
        return this.$9 != null ? this.$9(a) : a();
      };
      a.scheduleLoggingCallback = function (a) {
        return this.$10 != null ? this.$10(a) : a();
      };
      a.configRead = function (a, b) {
        return this.$11 != null ? this.$11(a, b) : b;
      };
      a.configWrite = function (a, b) {
        this.$12 != null && this.$12(a, b);
      };
      function b() {
        (this.$1 = null),
          (this.$2 = null),
          (this.$3 = null),
          (this.$4 = null),
          (this.$5 = null),
          (this.$6 = null),
          (this.$7 = null),
          (this.$8 = null),
          (this.$9 = null),
          (this.$10 = null),
          (this.$11 = null),
          (this.$12 = null);
      }
      a.initialize = function (a, b, c, d, e, f, g, h, i, j, k, l) {
        (this.$1 = a),
          (this.$2 = b),
          (this.$3 = c),
          (this.$4 = d),
          (this.$5 = e),
          (this.$6 = f),
          (this.$7 = l),
          (this.$8 = g),
          (this.$9 = h),
          (this.$10 = i),
          (this.$11 = j),
          (this.$12 = k);
      };
      return b;
    })();
    var h = (function () {
        function a() {}
        a.getInstance = function () {
          return new a();
        };
        var b = a.prototype;
        b.setAppId = function (a) {};
        b.eventLogConnect = function (a) {};
        b.eventLogPull = function (a) {};
        b.eventLogPullFinish = function (a) {};
        b.eventLogDisconnect = function (a) {};
        b.eventLogOutgoingPublish = function (a) {};
        b.eventLogIncomingPublish = function (a) {};
        b.eventLogPublishTimeout = function (a) {};
        b.eventLogMiscellaneousError = function (a) {};
        b.logIfLoggedOut = function () {};
        b.logError = function (a) {};
        b.logErrorWarn = function (a) {};
        b.logWarn = function (a) {};
        b.debugTrace = function (a) {};
        b.bumpCounter = function (a) {};
        b.getBrowserConnectivity = function () {
          return !0;
        };
        return a;
      })(),
      i = new d();
    function a(a) {
      i.setIsUserLoggedInNow(a);
    }
    g.MqttGkNames = b;
    g.Env = i;
    g.setIsUserLoggedInNow = a;
  },
  98,
);
__d(
  'IrisSubscribeChecker',
  ['MqttEnv'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    a = (function () {
      function a(a) {
        this.$1 = d('MqttEnv').Env.getLoggerInstance();
        this.$2 = null;
        this.$3 = !1;
        this.$4 = !1;
        this.$5 = !1;
        this.$6 = !0;
        this.$7 = 0;
        this.$8 = a;
        if (typeof window !== 'undefined') {
          a = window.location.hostname;
          (a === 'm.facebook.com' ||
            a === 'mobile.facebook.com' ||
            a === 'mtouch.facebook.com') &&
            (this.$6 = !1);
        }
      }
      var b = a.prototype;
      b.start = function () {
        this.$6 = !0;
      };
      b.stop = function () {
        (this.$6 = !1), this.$9();
      };
      b.onConnectAttempt = function () {};
      b.onConnectFailure = function () {
        this.$9();
      };
      b.onConnected = function () {
        var a = this;
        this.$7++;
        this.$9();
        this.$3 = !1;
        this.$4 = !1;
        this.$5 = !1;
        this.$6 &&
          (this.$2 = d('MqttEnv').Env.setTimeout(function () {
            a.$10();
          }, 8e3));
      };
      b.onConnectSuccess = function () {};
      b.onConnectionLost = function () {
        this.$9();
      };
      b.onConnectionDisconnect = function () {};
      b.onSubscribe = function (a) {
        a === '/t_ms' && (this.$3 = !0);
      };
      b.onUnsubscribe = function (a) {};
      b.onPublish = function (a) {
        (a === '/messenger_sync_get_diffs' ||
          a === '/messenger_sync_create_queue') &&
          ((this.$4 = !0), this.$3 && ((this.$5 = !0), this.$9()));
      };
      b.onMessage = function (a) {};
      b.onWSFatal = function () {};
      b.$9 = function () {
        this.$2 && (d('MqttEnv').Env.clearTimeout(this.$2), (this.$2 = null));
      };
      b.$10 = function () {
        if (this.$4 === !1) {
          var a =
            this.$7 == 1 ? 'no_iris_session_initialConnect' : 'no_iris_session';
          this.$1.bumpCounter(a);
          this.$8()
            ? this.$1.bumpCounter(a + '.withProvider')
            : this.$1.bumpCounter(a + '.withoutProvider');
          this.$3 === !0
            ? this.$1.bumpCounter(a + '.withTopicSubscribe')
            : this.$1.bumpCounter(a + '.withoutTopicSubscribe');
        }
        this.$3 === !1 && this.$1.bumpCounter('no_iris_topic_subscribe');
        this.$3 === !0 &&
          this.$4 === !0 &&
          this.$5 === !1 &&
          this.$1.bumpCounter('session_before_topic_subscribe');
      };
      return a;
    })();
    f.exports = a;
  },
  34,
);
__d(
  'MqttConnectionHookCollection',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    a = (function () {
      function a() {
        this.$1 = new Set();
      }
      var b = a.prototype;
      b.addHook = function (a) {
        this.$1.add(a);
      };
      b.removeHook = function (a) {
        this.$1['delete'](a);
      };
      b.onConnectAttempt = function () {
        this.$1.forEach(function (a) {
          a.onConnectAttempt();
        });
      };
      b.onConnectFailure = function () {
        this.$1.forEach(function (a) {
          a.onConnectFailure();
        });
      };
      b.onConnected = function () {
        this.$1.forEach(function (a) {
          a.onConnected();
        });
      };
      b.onConnectSuccess = function () {
        this.$1.forEach(function (a) {
          a.onConnectSuccess();
        });
      };
      b.onConnectionLost = function () {
        this.$1.forEach(function (a) {
          a.onConnectionLost();
        });
      };
      b.onConnectionDisconnect = function () {
        this.$1.forEach(function (a) {
          a.onConnectionDisconnect();
        });
      };
      b.onSubscribe = function (a) {
        this.$1.forEach(function (b) {
          b.onSubscribe(a);
        });
      };
      b.onUnsubscribe = function (a) {
        this.$1.forEach(function (b) {
          b.onUnsubscribe(a);
        });
      };
      b.onPublish = function (a) {
        this.$1.forEach(function (b) {
          b.onPublish(a);
        });
      };
      b.onMessage = function (a) {
        this.$1.forEach(function (b) {
          b.onMessage(a);
        });
      };
      b.onWSFatal = function () {
        this.$1.forEach(function (a) {
          a.onWSFatal();
        });
      };
      return a;
    })();
    f['default'] = a;
  },
  66,
);
__d(
  'MqttGlobalStreamCounter',
  ['CrossWindowEventEmitter', 'MqttEnv', 'uuid'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    a = (function () {
      function a() {
        var a = this;
        this.isTabClosed = !1;
        this.otherTabs = new Map();
        this.thisTab = { totalConnectionStreams: 0 };
        this.broadcastChannel = new (c('CrossWindowEventEmitter'))(
          'MqttGlobalStreamCounter',
        );
        this.broadcastChannel.addListener('count-updated', function (b) {
          b = JSON.parse(String(b));
          var c = !1;
          a.otherTabs.has(b.key) || (c = !0);
          b.event === 'DELETE'
            ? a.otherTabs['delete'](b.key)
            : b.event === 'UPDATE' &&
              b.value != null &&
              (a.otherTabs.set(b.key, b.value), c && a.$1());
        });
        this.tabID = c('uuid')();
      }
      var b = a.prototype;
      b.streamRequested = function () {
        this.thisTab.totalConnectionStreams++, this.$1();
      };
      b.streamClosed = function () {
        this.thisTab.totalConnectionStreams > 0 &&
          (this.thisTab.totalConnectionStreams--, this.$1());
      };
      b.tabClosed = function () {
        if (this.isTabClosed) return;
        this.isTabClosed = !0;
        var a = { key: this.tabID, event: 'DELETE' };
        this.broadcastChannel.emitRemote('count-updated', JSON.stringify(a));
      };
      b.getGlobalState = function () {
        var a = { totalConnectionStreams: this.thisTab.totalConnectionStreams };
        this.otherTabs.forEach(function (b) {
          a.totalConnectionStreams += b.totalConnectionStreams;
        });
        return a;
      };
      b.$1 = function () {
        var a = { key: this.tabID, event: 'UPDATE', value: this.thisTab };
        this.broadcastChannel.emitRemote('count-updated', JSON.stringify(a));
      };
      b.isEnabled = function () {
        return !0;
      };
      return a;
    })();
    var h = d('MqttEnv').Env.genGk(
      d('MqttEnv').MqttGkNames.mqttweb_global_connection_counter,
    )
      ? new a()
      : {
          streamRequested: function () {},
          streamClosed: function () {},
          tabClosed: function () {},
          getGlobalState: function () {
            return { totalConnectionStreams: -1 };
          },
          isEnabled: function () {
            return !1;
          },
        };
    b = function () {
      return h;
    };
    g.getInstance = b;
  },
  98,
);
__d(
  'MqttAnalyticsHook',
  ['MqttEnv', 'MqttGlobalStreamCounter'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    a = (function () {
      function a() {
        (this.$1 = d('MqttEnv').Env.getLoggerInstance()),
          (this.$2 = d('MqttGlobalStreamCounter').getInstance()),
          (this.$3 = 0),
          (this.$4 = 0),
          (this.$5 = 0),
          (this.$6 = 0),
          this.$1.bumpCounter('session_start'),
          d('MqttEnv').Env.isUserLoggedInNow() ||
            this.$1.bumpCounter('session_start.logout');
      }
      var b = a.prototype;
      b.onConnectAttempt = function () {
        this.$1.bumpCounter('ws_connect_attempt'), this.$2.streamRequested();
      };
      b.onConnectFailure = function () {
        this.$4++,
          this.$1.bumpCounter('ws_connect_failure'),
          this.$1.debugTrace(
            'connect',
            'Connect failed existing streams count ' +
              this.$2.getGlobalState().totalConnectionStreams,
          ),
          this.$2.streamClosed();
      };
      b.onConnected = function () {
        this.$1.bumpCounter('ws_connect_connected');
      };
      b.onConnectSuccess = function () {
        this.$3 === 0 && this.$1.bumpCounter('ws_connect_first_success'),
          this.$3++,
          this.$1.bumpCounter('ws_connect_success');
      };
      b.onConnectionLost = function () {
        this.$1.bumpCounter('ws_disconnect');
      };
      b.onConnectionDisconnect = function () {
        this.$2.streamClosed();
      };
      b.onSubscribe = function (a) {};
      b.onUnsubscribe = function (a) {};
      b.onPublish = function (a) {
        this.$1.bumpCounter('ws_publish.' + a);
      };
      b.onMessage = function (a) {
        this.$1.bumpCounter('message_arrived.' + a);
      };
      b.onWSFatal = function () {
        this.$1.bumpCounter('ws_fatal');
      };
      b.onPollRequestSent = function () {
        this.$1.bumpCounter('polling_request_send'), this.$2.streamRequested();
      };
      b.onPollRequestSuccess = function () {
        this.$1.bumpCounter('polling_request_succeed'),
          this.$5 === 0 && this.$1.bumpCounter('polling_first_success'),
          this.$5++;
      };
      b.onPollResponse = function (a) {
        this.$1.bumpCounter('lp.message_arrived.' + a);
      };
      b.onPollFinish = function () {
        this.$1.bumpCounter('polling_request_finish'),
          this.$2.streamRequested();
      };
      b.onPollRequestFailed = function (a) {
        this.$1.bumpCounter('polling_request_failed'),
          this.$1.bumpCounter('polling_request_failed_' + a),
          this.$6++,
          this.$1.debugTrace(
            'PollRequest',
            'Request failed existing streams count ' +
              this.$2.getGlobalState().totalConnectionStreams,
          ),
          this.$2.streamClosed();
      };
      b.onPollShutdownAbort = function () {
        this.$2.streamClosed();
      };
      b.onTabClose = function () {
        this.$2.tabClosed();
      };
      return a;
    })();
    g['default'] = a;
  },
  98,
);
__d(
  'MqttProtocolUtils',
  ['MqttEnv'],
  function (a, b, c, d, e, f, g) {
    function a(a, b) {
      if (a == null) return b;
      var c = new Uint8Array(a.length + b.length);
      c.set(a);
      c.set(b, a.length);
      return c;
    }
    function b(a, b) {
      b = b;
      var c = 0,
        d = 1,
        e;
      do {
        if (b === a.length) return null;
        e = a[b++];
        c += (e & 127) * d;
        d *= 128;
      } while ((e & 128) !== 0);
      return { value: c, offset: b };
    }
    function c(a) {
      a = a;
      var b = new Array(1);
      for (var c = 0; c < 4; c++) {
        var d = a % 128;
        a >>= 7;
        if (a > 0) b[c] = d | 128;
        else {
          b[c] = d;
          break;
        }
      }
      return b;
    }
    function h(a, b, c) {
      c = c;
      b[c++] = a >> 8;
      b[c++] = a % 256;
      return c;
    }
    function e(a, b) {
      return 256 * a[b] + a[b + 1];
    }
    function f(a) {
      var b = 0;
      for (var c = 0, d = a.length; c < d; c++) {
        var e = a.charCodeAt(c);
        e < 128
          ? (b += 1)
          : e < 2048
          ? (b += 2)
          : e >= 55296 && e <= 56319
          ? ((b += 4), c++)
          : (b += 3);
      }
      return b;
    }
    function i(a, b, c, d) {
      d = h(b, c, d);
      j(a, c, d);
      return d + b;
    }
    function j(a, b, c) {
      c = c;
      for (var d = 0, e = a.length; d < e; d++) {
        var f = a.charCodeAt(d);
        f < 128
          ? (b[c++] = f)
          : f < 2048
          ? ((b[c++] = 192 | (f >> 6)), (b[c++] = 128 | (f & 63)))
          : f < 55296 || f >= 57344
          ? ((b[c++] = 224 | (f >> 12)),
            (b[c++] = 128 | ((f >> 6) & 63)),
            (b[c++] = 128 | (f & 63)))
          : ((f = 65536 + (((f & 1023) << 10) | (a.charCodeAt(++d) & 1023))),
            (b[c++] = 240 | (f >> 18)),
            (b[c++] = 128 | ((f >> 12) & 63)),
            (b[c++] = 128 | ((f >> 6) & 63)),
            (b[c++] = 128 | (f & 63)));
      }
    }
    function k(a, b, c) {
      var d = [],
        e = b,
        f = 0;
      while (e < b + c) {
        var g = a[e++];
        if (g < 128) d[f++] = String.fromCharCode(g);
        else if (g > 191 && g < 224) {
          var h = a[e++];
          d[f++] = String.fromCharCode(((g & 31) << 6) | (h & 63));
        } else if (g > 239 && g < 365) {
          h = a[e++];
          var i = a[e++],
            j = a[e++];
          h =
            (((g & 7) << 18) | ((h & 63) << 12) | ((i & 63) << 6) | (j & 63)) -
            65536;
          d[f++] = String.fromCharCode(55296 + (h >> 10));
          d[f++] = String.fromCharCode(56320 + (h & 1023));
        } else {
          i = a[e++];
          j = a[e++];
          d[f++] = String.fromCharCode(
            ((g & 15) << 12) | ((i & 63) << 6) | (j & 63),
          );
        }
      }
      return d.join('');
    }
    var l = (function () {
      function a(a, b, c, d) {
        (this.$1 = a),
          (this.$2 = b),
          (this.$5 = c),
          (this.$6 = d),
          (this.$4 = !1);
      }
      var b = a.prototype;
      b.$7 = function () {
        var a = this;
        this.$4
          ? ((this.$4 = !1),
            this.$5(),
            (this.$3 = d('MqttEnv').Env.setTimeout(function () {
              a.$7();
            }, this.$2() * 1e3)))
          : this.$6();
      };
      b.reset = function () {
        var a = this;
        this.$4 = !0;
        this.$3 && (d('MqttEnv').Env.clearTimeout(this.$3), (this.$3 = null));
        var b = this.$1() * 1e3;
        b > 0 &&
          (this.$3 = d('MqttEnv').Env.setTimeout(function () {
            a.$7();
          }, b));
      };
      b.cancel = function () {
        this.$3 && (d('MqttEnv').Env.clearTimeout(this.$3), (this.$3 = null));
      };
      return a;
    })();
    g.UTF8Length = f;
    g.convertStringToUTF8 = j;
    g.concatBuffers = a;
    g.decodeMultiByteInt = b;
    g.convertUTF8ToString = k;
    g.encodeMultiByteInt = c;
    g.writeUInt16BE = h;
    g.readUInt16BE = e;
    g.writeString = i;
    g.Pinger = l;
  },
  98,
);
__d(
  'MqttUtils',
  ['MqttEnv'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = {
      endpointWithSessionId: function (a, b) {
        return h.endpointWithExtraParameter(a, 'sid', b.toString());
      },
      endpointWithExtraParameters: function (a, b) {
        var c = a;
        b.forEach(function (a, b, d) {
          c = h.endpointWithExtraParameter(c, b, a);
        });
        return c;
      },
      endpointWithExtraParameter: function (a, b, c) {
        if (a.indexOf('?') > 0) return a + '&' + b + '=' + c;
        else return a + '?' + b + '=' + c;
      },
      generateSessionId: function () {
        return Math.floor(d('MqttEnv').Env.random() * Number.MAX_SAFE_INTEGER);
      },
      promiseDone: function (a, b, c) {
        var e = arguments.length > 1 ? a.then(b, c) : a;
        e.then(null, function (a) {
          d('MqttEnv').Env.setTimeout(function () {
            if (a instanceof Error) throw a;
            else throw new Error('promiseDone');
          }, 0);
        });
      },
      promiseDoneWithTimeout: function (a, b, c, e) {
        var f = !1;
        d('MqttEnv').Env.setTimeout(function () {
          f || ((f = !0), c(new Error('promise timeout')));
        }, e);
        h.promiseDone(
          a,
          function (a) {
            f || ((f = !0), b(a));
          },
          function (a) {
            f || ((f = !0), c(a));
          },
        );
      },
      sprintf: function (a) {
        for (
          var b = arguments.length, c = new Array(b > 1 ? b - 1 : 0), d = 1;
          d < b;
          d++
        )
          c[d - 1] = arguments[d];
        var e = 0;
        return a.replace(/%s/g, function () {
          return String(c[e++]);
        });
      },
      hasWSSupport: function () {
        return (
          'WebSocket' in a &&
          a.WebSocket != null &&
          'CLOSING' in a.WebSocket.prototype
        );
      },
      getWSAvailability: function () {
        var b = '';
        if ('WebSocket' in a && a.WebSocket !== null) b += 'W';
        else return 'none';
        'CLOSING' in a.WebSocket.prototype && (b += 'C');
        return b;
      },
    };
    f.exports = h;
  },
  34,
);
__d(
  'MqttProtocolCodec',
  ['MqttProtocolUtils', 'MqttUtils', 'err'],
  function (a, b, c, d, e, f, g) {
    var h = Object.freeze({
        CONNECT: 1,
        CONNACK: 2,
        PUBLISH: 3,
        PUBACK: 4,
        SUBSCRIBE: 8,
        SUBACK: 9,
        UNSUBSCRIBE: 10,
        UNSUBACK: 11,
        PINGREQ: 12,
        PINGRESP: 13,
        DISCONNECT: 14,
      }),
      i = [0, 6, 77, 81, 73, 115, 100, 112, 3];
    function j(a, b) {
      b = b;
      var e = b,
        f = a[b],
        g = f >> 4;
      b += 1;
      var i = d('MqttProtocolUtils').decodeMultiByteInt(a, b);
      if (i == null) return { wireMessage: null, position: e };
      b = i.offset;
      i = b + i.value;
      if (i > a.length) return { wireMessage: null, position: e };
      var j;
      switch (g) {
        case h.CONNACK:
          e = a[b++];
          e = !!(e & 1);
          var o = a[b++];
          j = new m(e, o);
          break;
        case h.PUBLISH:
          e = f & 15;
          o = (e >> 1) & 3;
          f = d('MqttProtocolUtils').readUInt16BE(a, b);
          b += 2;
          var r = d('MqttProtocolUtils').convertUTF8ToString(a, b, f);
          b += f;
          f = null;
          o === 1 &&
            ((f = d('MqttProtocolUtils').readUInt16BE(a, b)), (b += 2));
          var s = p.createWithBytes(a.subarray(b, i)),
            t = (e & 1) === 1;
          e = (e & 8) === 8;
          j = new q(r, s, o, f, t, e);
          break;
        case h.PINGREQ:
          j = new k('PINGREQ');
          break;
        case h.PINGRESP:
          j = new k('PINGRESP');
          break;
        case h.PUBACK:
        case h.UNSUBACK:
          r = d('MqttProtocolUtils').readUInt16BE(a, b);
          j = new n(g === h.PUBACK ? 'PUBACK' : 'UNSUBACK', r);
          break;
        case h.SUBACK:
          s = d('MqttProtocolUtils').readUInt16BE(a, b);
          b += 2;
          o = a.subarray(b, i);
          j = new l(s, o);
          break;
        default:
          throw c('err')(
            d('MqttUtils').sprintf('Invalid MQTT message type %s.', g),
          );
      }
      return { wireMessage: j, position: i };
    }
    function a(a) {
      var b = [],
        c = 0;
      while (c < a.length) {
        var d = j(a, c),
          e = d.wireMessage;
        c = d.position;
        if (e) b.push(e);
        else break;
      }
      d = null;
      c < a.length && (d = a.subarray(c));
      return { messages: b, remaining: d };
    }
    b = (function () {
      function a(a) {
        this.messageType = h[a];
      }
      var b = a.prototype;
      b.encode = function () {
        throw new TypeError('Cannot abstract class WireMessage');
      };
      return a;
    })();
    var k = (function (b) {
      babelHelpers.inheritsLoose(a, b);
      function a(a) {
        return b.call(this, a) || this;
      }
      var c = a.prototype;
      c.encode = function () {
        var a = new ArrayBuffer(2),
          b = new Uint8Array(a);
        b[0] = (this.messageType & 15) << 4;
        return a;
      };
      return a;
    })(b);
    e = (function (a) {
      babelHelpers.inheritsLoose(b, a);
      function b() {
        return a.call(this, 'DISCONNECT') || this;
      }
      var c = b.prototype;
      c.encode = function () {
        var a = (this.messageType & 15) << 4,
          b = new ArrayBuffer(2),
          c = new Uint8Array(b);
        c[0] = a;
        c.set(d('MqttProtocolUtils').encodeMultiByteInt(0), 1);
        return b;
      };
      return b;
    })(b);
    var l = (function (b) {
        babelHelpers.inheritsLoose(a, b);
        function a(a, c) {
          var d;
          d = b.call(this, 'SUBACK') || this;
          d.messageIdentifier = a;
          d.returnCode = c;
          return d;
        }
        return a;
      })(b),
      m = (function (b) {
        babelHelpers.inheritsLoose(a, b);
        function a(a, c) {
          var d;
          d = b.call(this, 'CONNACK') || this;
          d.sessionPresent = a;
          d.returnCode = c;
          return d;
        }
        return a;
      })(b),
      n = (function (b) {
        babelHelpers.inheritsLoose(a, b);
        function a(a, c) {
          a = b.call(this, a) || this;
          a.messageIdentifier = c;
          return a;
        }
        var c = a.prototype;
        c.encode = function () {
          var a = (this.messageType & 15) << 4,
            b = 2,
            c = d('MqttProtocolUtils').encodeMultiByteInt(b),
            e = c.length + 1;
          b = new ArrayBuffer(b + e);
          var f = new Uint8Array(b);
          f[0] = a;
          f.set(c, 1);
          e = d('MqttProtocolUtils').writeUInt16BE(
            this.messageIdentifier,
            f,
            e,
          );
          return b;
        };
        return a;
      })(b);
    f = (function (a) {
      babelHelpers.inheritsLoose(b, a);
      function b(b, c) {
        var d;
        d = a.call(this, 'CONNECT') || this;
        d.clientId = b;
        d.connectOptions = c;
        return d;
      }
      var c = b.prototype;
      c.encode = function () {
        var a = (this.messageType & 15) << 4,
          b = i.length + 3;
        b += d('MqttProtocolUtils').UTF8Length(this.clientId) + 2;
        b +=
          d('MqttProtocolUtils').UTF8Length(this.connectOptions.userName) + 2;
        var c = d('MqttProtocolUtils').encodeMultiByteInt(b);
        b = new ArrayBuffer(1 + c.length + b);
        var e = new Uint8Array(b);
        e[0] = a;
        a = 1;
        e.set(c, 1);
        a += c.length;
        e.set(i, a);
        a += i.length;
        c = 2 | 128;
        e[a++] = c;
        a = d('MqttProtocolUtils').writeUInt16BE(
          this.connectOptions.getKeepAliveIntervalSeconds(),
          e,
          a,
        );
        a = d('MqttProtocolUtils').writeString(
          this.clientId,
          d('MqttProtocolUtils').UTF8Length(this.clientId),
          e,
          a,
        );
        a = d('MqttProtocolUtils').writeString(
          this.connectOptions.userName,
          d('MqttProtocolUtils').UTF8Length(this.connectOptions.userName),
          e,
          a,
        );
        return b;
      };
      return b;
    })(b);
    var o = (function (b) {
        babelHelpers.inheritsLoose(a, b);
        function a(a, c, e, f) {
          var g;
          g = b.call(this, a) || this;
          g.topic = c;
          if ((e < 0 && e > 1) || (e === 1 && f == null))
            throw new TypeError(
              d('MqttUtils').sprintf(
                'Argument Invalid. qos: %s messageType: %s.',
                e,
                a,
              ),
            );
          g.qos = e;
          g.messageIdentifier = f;
          return g;
        }
        var c = a.prototype;
        c.encode = function () {
          var a = (this.messageType & 15) << 4;
          a |= 2;
          var b = d('MqttProtocolUtils').UTF8Length(this.topic),
            c = 2 + b + 2;
          this.messageType === h.SUBSCRIBE && (c += 1);
          var e = d('MqttProtocolUtils').encodeMultiByteInt(c);
          c = new ArrayBuffer(1 + e.length + c);
          var f = new Uint8Array(c);
          f[0] = a;
          a = 1;
          f.set(e, 1);
          a += e.length;
          this.messageIdentifier != null &&
            (a = d('MqttProtocolUtils').writeUInt16BE(
              this.messageIdentifier,
              f,
              a,
            ));
          a = d('MqttProtocolUtils').writeString(this.topic, b, f, a);
          this.messageType === h.SUBSCRIBE &&
            this.qos != null &&
            (f[a++] = this.qos);
          return c;
        };
        return a;
      })(b),
      p = (function () {
        function a(a, b) {
          (this.payloadString = a), (this.payloadBytes = b);
        }
        a.createWithString = function (b) {
          var c = new Uint8Array(
            new ArrayBuffer(d('MqttProtocolUtils').UTF8Length(b)),
          );
          d('MqttProtocolUtils').convertStringToUTF8(b, c, 0);
          return new a(b, c);
        };
        a.createWithBytes = function (b) {
          var c = d('MqttProtocolUtils').convertUTF8ToString(b, 0, b.length);
          return new a(c, b);
        };
        var b = a.prototype;
        b.string = function () {
          return this.payloadString;
        };
        b.bytes = function () {
          return this.payloadBytes;
        };
        return a;
      })(),
      q = (function (b) {
        babelHelpers.inheritsLoose(a, b);
        function a(a, c, d, e, f, g) {
          var h;
          h = b.call(this, 'PUBLISH') || this;
          h.topic = a;
          h.payloadMessage = c;
          h.qos = d;
          h.messageIdentifier = e;
          h.retained = f != null ? f : !1;
          h.duplicate = g != null ? g : !1;
          if (h.qos === 1 && h.messageIdentifier == null)
            throw new TypeError(
              'Argument Invalid. messageIdentifier: null and qos: 1',
            );
          return h;
        }
        var c = a.prototype;
        c.encode = function () {
          var a = (this.messageType & 15) << 4;
          this.duplicate && (a |= 8);
          a = a |= this.qos << 1;
          this.retained && a != 1;
          var b = d('MqttProtocolUtils').UTF8Length(this.topic),
            c = b + 2,
            e = this.qos === 0 ? 0 : 2;
          c += e;
          e = this.payloadMessage.bytes();
          c += e.byteLength;
          var f = d('MqttProtocolUtils').encodeMultiByteInt(c);
          c = new ArrayBuffer(1 + f.length + c);
          var g = new Uint8Array(c);
          g[0] = a;
          g.set(f, 1);
          a = 1 + f.length;
          a = d('MqttProtocolUtils').writeString(this.topic, b, g, a);
          this.qos !== 0 &&
            this.messageIdentifier != null &&
            (a = d('MqttProtocolUtils').writeUInt16BE(
              this.messageIdentifier,
              g,
              a,
            ));
          g.set(e, a);
          return c;
        };
        return a;
      })(b),
      r = p.createWithString;
    b = {
      Base: b,
      PubAckUnsubAck: n,
      Ping: k,
      ConnAck: m,
      Connect: f,
      Disconnect: e,
      Subscription: o,
      Publish: q,
    };
    g.MESSAGE_TYPE = h;
    g.decodeMessage = j;
    g.decodeByteMessages = a;
    g.Message = p;
    g.createMessageWithString = r;
    g.WireMessage = b;
  },
  98,
);
__d(
  'MqttTypes',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    a = function (a, b, c) {
      (this.errorCode = a), (this.errorName = b), (this.errorMessage = c);
    };
    b = Object.freeze({
      SOCKET_ERROR: new a(1, 'SOCKET_ERROR', 'Socket error'),
      SOCKET_MESSAGE: new a(
        2,
        'SOCKET_MESSAGE',
        'Unable to parse invalid socket message',
      ),
      INVALID_DATA_TYPE: new a(
        3,
        'INVALID_DATA_TYPE',
        'Received non-arraybuffer from socket.',
      ),
      CONNECT_TIMEOUT: new a(4, 'CONNECT_TIMEOUT', 'Connect timed out'),
      CONNACK_FAILURE: new a(
        5,
        'CONNACK_FAILURE',
        'Connection failure due to connack',
      ),
      PING_TIMEOUT: new a(6, 'PING_TIMEOUT', 'Ping timeout'),
      APP_DISCONNECT: new a(7, 'APP_DISCONNECT', 'Disconnect initiated by app'),
      SERVER_DISCONNECT: new a(
        8,
        'SERVER_DISCONNECT',
        'Disconnect message sent my server',
      ),
      SOCKET_CLOSE: new a(9, 'SOCKET_CLOSE', 'Socket connection closed'),
      RECONNECT: new a(10, 'RECONNECT', 'Reconnecting'),
      BROWSER_CLOSE: new a(11, 'BROWSER_CLOSE', 'Browser closed'),
    });
    c = function (a, b) {
      (this.mqttError = a), (this.connAck = b);
    };
    d = (function (a) {
      babelHelpers.inheritsLoose(b, a);
      function b(b, c, d) {
        d === void 0 && (d = null);
        c = a.call(this, c) || this;
        c.isRecoverable = b;
        c.originalError = d;
        return c;
      }
      return b;
    })(babelHelpers.wrapNativeSuper(Error));
    f.MqttError = a;
    f.MqttErrors = b;
    f.ConnectFailure = c;
    f.MqttChannelError = d;
  },
  66,
);
__d(
  'MqttProtocolClient',
  [
    'MqttEnv',
    'MqttProtocolCodec',
    'MqttProtocolUtils',
    'MqttTypes',
    'err',
    'qex',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = 30,
      i = 6e4;
    a = (function () {
      function a(a) {
        var b = this;
        this.$12 = function (a, c, e) {
          c === void 0 && (c = null);
          b.$9.bumpCounter('protocol.debug.disconnect.internal.' + a.errorName);
          b.$9.bumpCounter('protocol.debug.disconnect.internal');
          var f = b.$5,
            g = b.$2,
            h = g.onConnectionLost,
            i = g.onConnectFailure;
          b.setConnected(!1);
          b.$14();
          f
            ? d('MqttEnv').Env.scheduleCallback(function () {
                h(a, c);
              })
            : d('MqttEnv').Env.scheduleCallback(function () {
                i(
                  b.$11,
                  new (d('MqttTypes').ConnectFailure)(a, e != null ? e : -1),
                  c,
                );
              });
        };
        this.$13 = function (a) {
          var c = b.$6;
          if (c == null) {
            b.$9.bumpCounter(
              'protocol.socket_send.failed.socket_null.<message type>',
            );
            return 0;
          }
          if (c.readyState !== c.OPEN) {
            b.$9.bumpCounter(
              'protocol.socket_send.failed.socket_not_open.<message type>',
            );
            return 0;
          }
          a = a.encode();
          var d = a.byteLength;
          c.send(a);
          return d;
        };
        this.$3 = a;
        this.$2 = {
          userName: '',
          mqttVersion: 3,
          getKeepAliveIntervalSeconds: function () {
            return 10;
          },
          getKeepAliveTimeoutSeconds: function () {
            return 10;
          },
          ignoreSubProtocol: !1,
          onConnectSuccess: function (a) {},
          onConnectFailure: function (a, b, c) {},
          onConnection: function () {},
          onConnectionLost: function (a, b) {},
          onMessageArrived: function (a, b, c) {},
          onMessageDelivered: function (a, b) {},
        };
        this.$1 = 'mqttwsclient';
        this.$4 = 0;
        this.$5 = !1;
        this.$9 = d('MqttEnv').Env.getLoggerInstance();
        this.$11 = 0;
      }
      var b = a.prototype;
      b.connect = function (a) {
        var b,
          e = this;
        if (this.$5)
          throw c('err')('Invalid state: connect - already connected');
        this.$2 = a;
        this.setConnected(!1);
        this.$7 != null &&
          (d('MqttEnv').Env.clearTimeout(this.$7), (this.$7 = null));
        b = (b = c('qex')._('660')) != null ? b : h;
        this.$7 = d('MqttEnv').Env.setTimeout(function () {
          e.$9.bumpCounter('protocol.error.connect.timeout'),
            e.$12(d('MqttTypes').MqttErrors.CONNECT_TIMEOUT);
        }, b * 1e3);
        this.$6 = d('MqttEnv').Env.createSocket(this.$3);
        this.$6.binaryType = 'arraybuffer';
        this.$6.onopen = function () {
          e.setConnected(!0),
            e.$9.debugTrace('Socket-Open', 'MQTTProtocolClient Socket Open'),
            (e.$11 = e.$13(
              new (d('MqttProtocolCodec').WireMessage.Connect)(e.$1, a),
            )),
            a.onConnection();
        };
        this.$6.onmessage = function (a) {
          a = a.data;
          if (!(a instanceof ArrayBuffer)) {
            e.$9.bumpCounter('protocol.error.onmessage.type');
            e.$12(d('MqttTypes').MqttErrors.INVALID_DATA_TYPE);
            return;
          }
          try {
            a = new Uint8Array(a);
            e.$10 != null &&
              ((a = d('MqttProtocolUtils').concatBuffers(e.$10, a)),
              e.$9.bumpCounter('protocol.debug.usingMessagesBuffer'),
              delete e.$10,
              (e.$10 = null));
            a = d('MqttProtocolCodec').decodeByteMessages(a);
            var b = a.messages;
            e.$10 = a.remaining;
            for (a = 0; a < b.length; a++) e.handleMessage(b[a]);
          } catch (a) {
            (e.$10 = null),
              e.$9.logError(
                a,
                d('MqttTypes').MqttErrors.SOCKET_MESSAGE.errorMessage,
              ),
              e.$9.bumpCounter('protocol.error.onmessage.parse'),
              e.$12(d('MqttTypes').MqttErrors.SOCKET_MESSAGE, a.message);
          }
        };
        this.$6.onerror = function (a) {
          e.$9.bumpCounter('protocol.error.socket'),
            e.$9.debugTrace('Socket-Error', 'MQTTProtocolClient Socket Error'),
            e.$12(d('MqttTypes').MqttErrors.SOCKET_ERROR);
        };
        this.$6.onclose = function (a) {
          e.$9.bumpCounter('protocol.socket.close'),
            a.wasClean ||
              e.$9.debugTrace(
                'Socket-Unclean-Close',
                'MQTTProtocolClient error code: ' +
                  a.code +
                  ' reason: ' +
                  a.reason,
              ),
            e.$12(
              d('MqttTypes').MqttErrors.SOCKET_CLOSE,
              a.code + ' : ' + a.reason,
            );
        };
        this.$8 != null && this.$8.cancel();
        this.$8 = new (d('MqttProtocolUtils').Pinger)(
          a.getKeepAliveIntervalSeconds,
          a.getKeepAliveTimeoutSeconds,
          this.$13.bind(
            this,
            new (d('MqttProtocolCodec').WireMessage.Ping)('PINGREQ'),
          ),
          function (a, b) {
            return e.$12(d('MqttTypes').MqttErrors.PING_TIMEOUT, a, b);
          },
        );
      };
      b.$14 = function () {
        var a = this;
        this.setConnected(!1);
        this.$8 != null && this.$8.cancel();
        this.$7 != null &&
          (d('MqttEnv').Env.clearTimeout(this.$7), (this.$7 = null));
        this.$6 != null &&
          ((this.$6.onopen = function (b) {
            a.$9.debugTrace(
              'Socket Open After Teardown',
              'Socket opening after teardown',
            );
          }),
          (this.$6.onmessage = function (a) {}),
          (this.$6.onerror = function (a) {}),
          (this.$6.onclose = function (b) {
            a.$9.debugTrace(
              'Socket Close After Teardown',
              'code: ' + b.code + ', reason: ' + b.reason,
            );
          }),
          this.$6.close(),
          (this.$6 = null));
        this.$2.onConnectSuccess = function (a) {};
        this.$2.onConnectFailure = function (a, b) {};
        this.$2.onConnection = function () {};
        this.$2.onConnectionLost = function (a) {};
        this.$2.onMessageArrived = function (a, b, c) {};
        this.$2.onMessageDelivered = function (a, b) {};
      };
      b.disconnect = function (a) {
        if (
          this.$6 == null ||
          this.$6.readyState !== this.$6.OPEN ||
          !this.$5
        ) {
          this.$14();
          return;
        }
        this.$13(new (d('MqttProtocolCodec').WireMessage.Disconnect)());
        this.$9.bumpCounter('protocol.debug.disconnect');
        this.$12(a);
      };
      b.isConnected = function () {
        return this.$5;
      };
      b.setConnected = function (a) {
        this.$5 = a;
      };
      b.subscribe = function (a) {
        if (!this.$5) {
          this.$9.bumpCounter('protocol.error.subscribe.notconnected');
          throw c('err')('Invalid state: subscribe - not connected');
        }
        this.$9.bumpCounter('protocol.subscribe.' + a);
        a = new (d('MqttProtocolCodec').WireMessage.Subscription)(
          'SUBSCRIBE',
          a,
          0,
          this.$15(),
        );
        this.$13(a);
      };
      b.unsubscribe = function (a) {
        if (!this.$5) {
          this.$9.bumpCounter('protocol.error.unsubscribe.notconnected');
          throw c('err')('Invalid state: unsubscribe - not connected');
        }
        this.$9.bumpCounter('protocol.unsubscribe.' + a);
        a = new (d('MqttProtocolCodec').WireMessage.Subscription)(
          'UNSUBSCRIBE',
          a,
          0,
          this.$15(),
        );
        this.$13(a);
      };
      b.publish = function (a, b, c) {
        this.$5 || this.$9.bumpCounter('protocol.error.publish.notconnected');
        this.$9.bumpCounter('protocol.publish.' + a);
        var e = this.$15();
        a = new (d('MqttProtocolCodec').WireMessage.Publish)(
          a,
          d('MqttProtocolCodec').createMessageWithString(b),
          c,
          e,
        );
        this.$13(a);
        return e;
      };
      b.$15 = function () {
        ++this.$4 === i && (this.$4 = 1);
        return this.$4;
      };
      b.handleMessage = function (a) {
        var b = this;
        switch (a.messageType) {
          case d('MqttProtocolCodec').MESSAGE_TYPE.CONNACK:
            this.$7 != null &&
              (d('MqttEnv').Env.clearTimeout(this.$7), (this.$7 = null));
            if (a instanceof d('MqttProtocolCodec').WireMessage.ConnAck) {
              var e = a;
              if (e.returnCode !== 0) {
                this.$9.bumpCounter('protocol.error.connack.invalidreturncode');
                this.setConnected(!1);
                this.$12(
                  d('MqttTypes').MqttErrors.CONNACK_FAILURE,
                  'connack code=' + e.returnCode,
                  e.returnCode,
                );
                return;
              }
              d('MqttEnv').Env.scheduleCallback(function () {
                b.$2.onConnectSuccess(b.$11);
              });
              this.$8 != null && this.$8.reset();
            }
            break;
          case d('MqttProtocolCodec').MESSAGE_TYPE.PUBLISH:
            if (a instanceof d('MqttProtocolCodec').WireMessage.Publish) {
              var f = a;
              d('MqttEnv').Env.scheduleCallback(function () {
                b.$2.onMessageArrived(f.topic, f.payloadMessage, f.qos);
              });
              e = f.messageIdentifier;
              this.$9.bumpCounter('protocol.publish.received');
              if (f.qos === 1 && e != null) {
                e = new (d('MqttProtocolCodec').WireMessage.PubAckUnsubAck)(
                  'PUBACK',
                  e,
                );
                this.$13(e);
              }
            }
            break;
          case d('MqttProtocolCodec').MESSAGE_TYPE.PUBACK:
            if (
              a instanceof d('MqttProtocolCodec').WireMessage.PubAckUnsubAck
            ) {
              e = a;
              var g = e.messageIdentifier;
              this.$9.bumpCounter('protocol.puback.received');
              d('MqttEnv').Env.scheduleCallback(function () {
                b.$2.onMessageDelivered('', g);
              });
            }
            break;
          case d('MqttProtocolCodec').MESSAGE_TYPE.PINGRESP:
            this.$8 != null && this.$8.reset();
            break;
          case d('MqttProtocolCodec').MESSAGE_TYPE.DISCONNECT:
            this.$12(d('MqttTypes').MqttErrors.SERVER_DISCONNECT);
            break;
          case d('MqttProtocolCodec').MESSAGE_TYPE.SUBACK:
            this.$9.bumpCounter('protocol.suback.received');
            break;
          case d('MqttProtocolCodec').MESSAGE_TYPE.UNSUBACK:
            this.$9.bumpCounter('protocol.unsuback.received');
            break;
          default:
            this.$9.logError(
              c('err')(
                'MqttProtocolClient: Received unhandled message type: ' +
                  a.messageType,
              ),
              'Received unhandled message type',
            );
            this.$9.bumpCounter('protocol.error.handlemessage.unsupportedtype');
            break;
        }
      };
      return a;
    })();
    g['default'] = a;
  },
  98,
);
__d(
  'MqttPublishListener',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    a = Object.freeze({
      NOT_CONNECTED: 'NOT_CONNECTED',
      PUBLISH_ERROR: 'PUBLISH_ERROR',
      QUEUED: 'QUEUED',
      SENT: 'SENT',
      ACKED: 'ACKED',
      NOT_ACKED: 'NOT_ACKED',
    });
    f.MqttPublishEvent = a;
  },
  66,
);
__d(
  'MqttUserName',
  ['gkx'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    a = (function () {
      function a(a, b, d, e, f, g, h, i, j, k) {
        h === void 0 && (h = null),
          i === void 0 && (i = ''),
          j === void 0 && (j = 'websocket'),
          k === void 0 && (k = null),
          (this.$1 = a),
          (this.$2 = b),
          (this.$3 = d),
          (this.$4 = e),
          (this.$5 = f),
          (this.$6 = g),
          (this.$7 = c('gkx')('1166607')
            ? !1
            : typeof document === 'object' &&
              document &&
              document.hasFocus &&
              document.hasFocus()),
          (this.$8 = h),
          (this.$9 = i),
          (this.$10 = j),
          (this.$11 = k);
      }
      var b = a.prototype;
      b.gen = function (a, b, d, e) {
        e === void 0 && (e = []);
        var f = c('gkx')('1166607') ? !1 : this.$7;
        a = {
          u: this.$1,
          s: a,
          cp: this.$3,
          ecp: this.$2,
          chat_on: this.$6,
          fg: f,
          d: this.$4,
          ct: this.$10,
          mqtt_sid: '',
          aid: this.$5,
          st: b,
          pm: d,
          dc: '',
          no_auto_fg: !0,
          gas: this.$8,
          pack: e,
          php_override: this.$9,
          p: this.$11,
          a: navigator.userAgent,
        };
        return JSON.stringify(a);
      };
      b.setForegroundState = function (a) {
        this.$7 = a;
      };
      b.setChatVisibility = function (a) {
        this.$6 = a;
      };
      b.getEndpointCapabilities = function () {
        return this.$2;
      };
      b.getDeviceId = function () {
        return this.$4;
      };
      b.setEndpointCapabilities = function (a) {
        this.$2 = a;
      };
      b.getIsGuestAuthStringPresent = function () {
        return this.$8 !== null;
      };
      return a;
    })();
    g['default'] = a;
  },
  98,
);
__d(
  'MqttConnection',
  [
    'MqttConnectionHookCollection',
    'MqttEnv',
    'MqttProtocolClient',
    'MqttPublishListener',
    'MqttTypes',
    'MqttUserName',
    'MqttUtils',
    'Promise',
    'err',
    'qex',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = 10,
      i = 1,
      j = 1,
      k = 64,
      l = 'publish',
      m = 'subscribe',
      n = 'unsubscribe',
      o = function (a) {},
      p = 18e4,
      q = 5 * 1e3,
      r = 15,
      s = 21;
    a = (function () {
      function a() {
        var a = this;
        this.$37 = function () {
          return a.$20;
        };
        this.$38 = function () {
          return a.$21;
        };
        this.$8 = !1;
        this.$10 = d('MqttEnv').Env.getLoggerInstance();
        this.$11 = 'Disconnected';
        this.$17 = new Set();
        this.$24 = new Map();
        this.$12 = 0;
        this.$13 = 0;
        this.$14 = 0;
        this.$15 = 0;
        this.$16 = 0;
        this.$8 = !1;
        this.$5 = '';
        this.$6 = new (c('MqttUserName'))('', 0, 1, '', 0, !0);
        this.$9 = 0;
        this.$18 = 0;
        this.$19 = !1;
        this.$7 = null;
        var b = function () {};
        this.$1 = b;
        this.$2 = b;
        this.$3 = b;
        this.$25 = !1;
        this.$26 = !1;
        this.$27 = new (c('MqttConnectionHookCollection'))();
        this.$4 = function () {
          return [];
        };
        this.$20 = h;
        this.$21 = h;
        this.$22 = null;
        this.$23 = 0;
      }
      var e = a.prototype;
      e.run = function (a) {
        var b = this,
          d = a.onStateChange,
          e = a.onJSError,
          f = a.onMessageReceived,
          g = a.endpoint,
          i = a.mqttUserName,
          j = a.subscribedTopics;
        a = a.extraConnectMessageProvider;
        if (this.$8) {
          this.$10.debugTrace('run', 'Run called while in running state.');
          return;
        }
        this.$1 = d;
        this.$3 = f;
        this.$5 = g;
        this.$6 = i;
        this.$8 = !0;
        this.$18 = Date.now();
        this.$12 = 0;
        this.$13 = 0;
        this.$2 = e || o;
        j &&
          j.forEach(function (a) {
            return b.$17.add(a);
          });
        this.$4 = a;
        this.$20 = (d = c('qex')._('656')) != null ? d : h;
        this.$21 = (f = c('qex')._('657')) != null ? f : h;
        this.$28();
      };
      e.shutdown = function (a) {
        this.$29(a),
          this.$30('shutdown'),
          (this.$8 = !1),
          this.$10.debugTrace('shutdown', 'Shutdown');
      };
      e.subscribe = function (a) {
        this.$17.add(a);
        this.ensureConnected(m) && this.$31(a);
        return !0;
      };
      e.publish = function (a, e, f, g) {
        var h = { resolve: function () {}, reject: function (a) {} };
        g != null && (h.listener = g);
        var i = new (b('Promise'))(function (a, b) {
            (h.resolve = a), (h.reject = b);
          }),
          j = this.ensureConnected(l);
        !j
          ? (g == null
              ? void 0
              : g.onEvent(
                  d('MqttPublishListener').MqttPublishEvent.NOT_CONNECTED,
                ),
            h.reject(c('err')('Client disconnected')))
          : this.$32(a, e, f, h);
        return i;
      };
      e.unsubscribe = function (a) {
        this.$17['delete'](a);
        this.ensureConnected(n) && this.$33(a);
        return !0;
      };
      e.addHook = function (a) {
        this.$27.addHook(a);
      };
      e.removeHook = function (a) {
        this.$27.removeHook(a);
      };
      e.isRunning = function () {
        return this.$8;
      };
      e.getSessionId = function () {
        return this.$9;
      };
      e.hasFatal = function () {
        return this.$25;
      };
      e.hasConnectSuccess = function () {
        return this.$26;
      };
      e.canPublish = function () {
        return this.ensureConnected('canPublish');
      };
      e.ensureConnected = function (a) {
        return !this.$8 || this.$7 == null || !this.$7.isConnected() ? !1 : !0;
      };
      e.connectionState = function () {
        return this.$11;
      };
      e.mqttStateFromConnectionState = function (a) {
        switch (a) {
          case 'Connecting':
          case 'TransportConnected':
            return 'Connecting';
          case 'Connected':
            return 'Connected';
          case 'Disconnected':
            return 'Disconnected';
        }
        throw c('err')('Unknown state ' + a);
      };
      e.testOnlyGetSubscribedTopics = function () {
        return this.$17;
      };
      e.onWindowUnload = function () {
        var a = this;
        this.publish('/browser_close', '{}', 0)['catch'](function () {
          a.$10.bumpCounter('on_window_unload.browser_close_publish_failed');
        });
      };
      e.getDisconnectCount = function () {
        return this.$23;
      };
      e.$29 = function (a) {
        this.$8 &&
          this.$7 != null &&
          (this.$34('Disconnected'),
          this.$7 != null &&
            (this.$7.disconnect(a), this.$27.onConnectionDisconnect()),
          (this.$7 = null));
      };
      e.$35 = function (a) {
        if (
          this.$11 === 'Connected' &&
          a === 'Disconnected' &&
          this.$18 === 0
        ) {
          this.$18 = Date.now();
          return;
        }
        if (a === 'Connecting' && this.$18 !== 0 && !this.$19) {
          this.$10.bumpCounter('protocol.reconnectstarted');
          this.$19 = !0;
          return;
        }
        if (a === 'Connected' && this.$18 !== 0) {
          a = Date.now() - this.$18;
          switch (Math.floor(a / 3e4)) {
            case 0:
              this.$10.bumpCounter('protocol.reconnectedwithin30s');
              break;
            case 1:
              this.$10.bumpCounter('protocol.reconnectedwithin60s');
              break;
            case 2:
              this.$10.bumpCounter('protocol.reconnectedwithin90s');
              break;
            case 3:
              this.$10.bumpCounter('protocol.reconnectedwithin120s');
              break;
            default:
              this.$10.bumpCounter('protocol.reconnectedmorethan120s');
              break;
          }
          this.$18 = 0;
          this.$19 = !1;
          return;
        }
      };
      e.$34 = function (a) {
        a !== this.$11 &&
          (this.$10.debugTrace(
            'MQTTConnection-updateState',
            'State changed to: ' + a,
          ),
          this.$35(a),
          (this.$11 = a),
          this.$1(a));
      };
      e.$28 = function () {
        var a = this;
        if (!this.$8) return;
        this.$11 !== 'Disconnected' &&
          this.$10.debugTrace(
            'Reconnect',
            'Current State not disconnected: ' + this.$11,
          );
        this.$34('Connecting');
        var b = Date.now(),
          e = this.$10.getBrowserConnectivity();
        this.$9 = c('MqttUtils').generateSessionId();
        var f = Array.from(this.$17),
          g = c('MqttUtils').endpointWithSessionId(this.$5, this.$9);
        g = c('MqttUtils').endpointWithExtraParameter(
          g,
          'cid',
          this.$6.getDeviceId(),
        );
        try {
          this.$7 = new (c('MqttProtocolClient'))(g);
          var h = this.$36(),
            i = h.map(function (a) {
              return a.topic;
            });
          g = this.$6.gen(this.$9, f, h);
          this.$7 != null &&
            ((this.$13 += 1),
            this.$7.connect({
              userName: g,
              mqttVersion: 3,
              getKeepAliveIntervalSeconds: this.$37,
              getKeepAliveTimeoutSeconds: this.$38,
              ignoreSubProtocol: !0,
              onConnectFailure: function (c, d, g) {
                return a.$39(d, b, a.$18, f, i, e, c, g);
              },
              onConnectSuccess: function (c) {
                return a.$40(b, a.$18, f, i, e, c);
              },
              onConnection: function () {
                return a.$41(h, f);
              },
              onConnectionLost: function (b, c) {
                return a.$42(b, c);
              },
              onMessageArrived: function (b, c, d) {
                return a.$43(b, c, d);
              },
              onMessageDelivered: function (b, c) {
                return a.$44(b, c);
              },
            }),
            this.$10.bumpCounter('protocol.connectattempt'),
            this.$6.getIsGuestAuthStringPresent() &&
              this.$10.bumpCounter('guestAuthentication.connectattempt'),
            this.$27.onConnectAttempt());
        } catch (a) {
          this.$10.bumpCounter('js_error_in_init_exception'),
            this.$34('Disconnected'),
            this.$45(
              !1,
              !1,
              b,
              this.$18,
              f,
              [],
              e,
              null,
              14,
              'init error - ' + a.message,
            ),
            a && this.$10.logErrorWarn(a, 'ws_js_error'),
            this.$27.onWSFatal(),
            this.$46(
              new (d('MqttTypes').MqttChannelError)(!1, 'ws_js_error', a),
              'client_init',
            );
        }
      };
      e.$36 = function () {
        var a = this.$4(),
          b = 65536;
        return a.map(function (a) {
          a.messageId = b--;
          return a;
        });
      };
      e.$31 = function (a) {
        try {
          if (this.$7 != null) {
            this.$7.subscribe(a);
            this.$10.debugTrace('_doSubscribe', 'Subscribing to ' + a);
            this.$27.onSubscribe(a);
            this.$10.bumpCounter('protocol.subscribe');
            return !0;
          }
        } catch (b) {
          this.$10.logError(b, 'Exception subscribing'),
            this.$10.bumpCounter('subscribe_exception.' + a),
            this.$10.bumpCounter('protocol.subscribe.error');
        }
        return !1;
      };
      e.$33 = function (a) {
        try {
          if (this.$7 != null) {
            this.$7.unsubscribe(a);
            this.$10.debugTrace('_doUnsubscribe', 'Unsubscribing to ' + a);
            this.$27.onUnsubscribe(a);
            this.$10.bumpCounter('protocol.unsubscribe');
            return !0;
          }
        } catch (b) {
          this.$10.logError(b, 'Exception unsubscribing'),
            this.$10.bumpCounter('unsubscribe_exception.' + a),
            this.$10.bumpCounter('protocol.unsubscribe.error');
        }
        return !1;
      };
      e.$32 = function (a, b, c, e) {
        if (this.$7 != null)
          try {
            b = this.$7.publish(a, b, c);
            this.$10.bumpCounter('protocol.publish');
            var f = b != null ? b : 'null';
            this.$10.debugTrace(
              '_doPublish',
              'publish ' + a + ' with messageId:' + f + ' qos:' + c,
            );
            this.$27.onPublish(a);
            (f = e.listener) == null
              ? void 0
              : f.onEvent(d('MqttPublishListener').MqttPublishEvent.SENT);
            b != null
              ? (this.$10.bumpCounter('publish.ack_expected'),
                this.$24.set(b, e))
              : e.resolve();
            return !0;
          } catch (b) {
            this.$10.logError(b, 'Exception publishing');
            this.$10.bumpCounter('publish_exception.' + a);
            e.reject(b);
            this.$10.bumpCounter('protocol.publish.error');
            return !1;
          }
        else return !1;
      };
      e.$47 = function (a) {
        var b = this;
        a === void 0 && (a = null);
        if (!this.$8) return;
        this.$29(d('MqttTypes').MqttErrors.RECONNECT);
        this.$30('reconnect');
        this.$48();
        this.$9 = -1;
        this.$16 = 0;
        a = a;
        if (a == null) {
          var e;
          e = (e = c('qex')._('130')) != null ? e : i;
          a = e * Math.pow(2, this.$12);
        }
        a = Math.max(a, j);
        e = (e = c('qex')._('131')) != null ? e : k;
        a = Math.min(a, e);
        e = a * (1e3 + d('MqttEnv').Env.random() * 200);
        this.$10.debugTrace('_scheduleReconnect', 'Reconnect in ' + e + ' ms');
        this.$22 = d('MqttEnv').Env.setTimeout(function () {
          b.$28();
        }, e);
        this.$12 += 1;
      };
      e.$48 = function () {
        var a = Date.now() - this.$16,
          b = this.$16 !== 0 && a > q,
          c = this.$12 > r;
        (b || c) && (this.$12 = 0);
        this.$16 !== 0 && a <= q && this.$10.bumpCounter('short_lived_session');
        c && this.$10.bumpCounter('connection_attempt_limit');
      };
      e.$45 = function (a, b, c, d, e, f, g, h, i, j) {
        a ? this.$14++ : this.$15++;
        var k = Date.now();
        this.$10.eventLogConnect({
          sessionID: this.$9,
          connectionStatus: a,
          connectionState: this.mqttStateFromConnectionState(this.$11),
          ackReceived: b,
          duration: k - c,
          total_duration: k - d,
          hostname: this.$5,
          attemptNumber: this.$13,
          successTotal: this.$14,
          failTotal: this.$15,
          subscribedTopics: e,
          publishes: f,
          errorCode: i,
          errorMessage: j,
          osConnectivity: g,
          messageSizeBytes: h,
          disconnectCount: this.$23,
        });
        a && (this.$13 = 0);
      };
      e.$39 = function (a, b, c, d, e, f, g, h) {
        var i = a.mqttError;
        h = h != null ? i.errorMessage + ' - ' + h : i.errorMessage;
        this.$10.debugTrace('connect', 'Connect failed ' + h);
        this.$10.bumpCounter('protocol.onconnectfailure');
        this.$6.getIsGuestAuthStringPresent() &&
          this.$10.bumpCounter('guestAuthentication.onconnectfailure');
        this.$27.onConnectFailure();
        this.$45(!1, a.connAck !== -1, b, c, d, e, f, g, i.errorCode, h);
        if (a.connAck != null) {
          this.$10.bumpCounter('protocol.connect_failure.' + a.connAck);
          if (a.connAck === s) {
            this.$47(p);
            return;
          }
        }
        this.$47();
      };
      e.$41 = function (a, b) {
        var c = this;
        this.$10.bumpCounter('protocol.onconnection');
        this.$10.debugTrace('Connect', 'Socket established');
        this.$27.onConnected();
        this.$6.getIsGuestAuthStringPresent() &&
          this.$10.bumpCounter('guestAuthentication.onconnection');
        b.forEach(function (a) {
          c.$27.onSubscribe(a);
        });
        a.forEach(function (a) {
          c.$27.onPublish(a.topic);
        });
        this.$34('TransportConnected');
      };
      e.$40 = function (a, b, c, d, e, f) {
        this.$10.bumpCounter('protocol.onconnectsuccess'),
          this.$10.debugTrace('connect', 'Connect success'),
          this.$6.getIsGuestAuthStringPresent() &&
            this.$10.bumpCounter('guestAuthentication.onconnectsucess'),
          this.$27.onConnectSuccess(),
          (this.$26 = !0),
          this.$34('Connected'),
          this.$45(!0, !0, a, b, c, d, e, f),
          this.$49(c),
          (this.$16 = Date.now());
      };
      e.$42 = function (a, b) {
        this.$10.bumpCounter('protocol.onconnectionlost');
        this.$23++;
        if (a.errorCode) {
          b = b != null ? a.errorMessage + ' - ' + b : a.errorMessage;
          this.$10.eventLogDisconnect({
            sessionID: this.$9,
            errorCode: a.errorCode,
            errorMessage: b,
            duration: Date.now() - this.$16,
            disconnectCount: this.$23,
          });
        }
        this.$10.debugTrace('connect', 'connection lost');
        this.$27.onConnectionLost();
        this.$6.getIsGuestAuthStringPresent() &&
          this.$10.bumpCounter('guestAuthentication.onconnectionlost');
        this.$47();
      };
      e.$43 = function (a, b, c) {
        this.$10.bumpCounter('protocol.onmessagearrived');
        this.$6.getIsGuestAuthStringPresent() &&
          this.$10.bumpCounter('guestAuthentication.onmessagearrived');
        this.$10.debugTrace('onMessageArrived', 'Message received on ' + a);
        this.$27.onMessage(a);
        try {
          this.$3(a, b, c);
        } catch (b) {
          this.$10.logError(b, 'Listener threw error'),
            this.$10.bumpCounter('listener_error.' + a);
        }
      };
      e.$44 = function (a, b) {
        this.$10.bumpCounter('protocol.onmessagedelivered');
        a = b != null ? b : 'null';
        this.$10.debugTrace(
          'onMessageDelivered',
          'Delivered Message {ID: ' + a + '}',
        );
        if (b == null) return;
        a = this.$24.get(b);
        if (a == null) {
          this.$10.bumpCounter('protocol.message_with_unknown_id');
          return;
        }
        this.$24['delete'](b);
        (b = a.listener) == null
          ? void 0
          : b.onEvent(d('MqttPublishListener').MqttPublishEvent.ACKED);
        a.resolve();
        this.$10.bumpCounter('publish.ack_received');
      };
      e.$30 = function (a) {
        this.$10.bumpCounter('protocol.fail_all_unacked_publishes.' + a),
          this.$24.forEach(function (b, e, f) {
            (e = b.listener) == null
              ? void 0
              : e.onEvent(d('MqttPublishListener').MqttPublishEvent.NOT_ACKED);
            b.reject(c('err')(a));
          }),
          this.$24.clear();
      };
      e.$49 = function (a) {
        var b = this,
          c = new Set(a);
        c.forEach(function (a) {
          b.$17.has(a) || b.unsubscribe(a);
        });
        a = new Set(this.$17);
        a.forEach(function (a) {
          c.has(a) || b.subscribe(a);
        });
      };
      e.$46 = function (a, b) {
        try {
          this.$10.bumpCounter('js_error_in_init');
          this.$10.bumpCounter(b + '.error');
          this.$25 = !0;
          var c = a ? a.message : 'error';
          this.$10.debugTrace('onError', b + ': ' + c);
          this.$2(a);
        } catch (a) {
          this.$10.bumpCounter('js_error_in_error_logging'),
            this.$10.logError(a, 'JS error while trying to log previous error');
        }
      };
      return a;
    })();
    g['default'] = a;
  },
  98,
);
__d(
  'MqttChannel',
  [
    'ChannelClientID',
    'IrisSubscribeChecker',
    'MqttAnalyticsHook',
    'MqttConnection',
    'MqttEnv',
    'MqttPublishListener',
    'MqttPublishTimeoutConfig',
    'MqttTypes',
    'MqttUserName',
    'MqttUtils',
    'Promise',
    'Run',
    'err',
    'isFastRefreshEnabledForCurrentDomain',
    'promiseDone',
    'qex',
    'requireDeferred',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = c('MqttPublishTimeoutConfig').mqttPublishTimeoutMs || 60 * 1e3;
    a = (function () {
      function a(a) {
        var b = this,
          e = a.endpoint,
          f = a.pollingEndpoint,
          g = a.userFbid,
          h = a.appId,
          i = a.initialSubscribedTopics,
          j = a.capabilities,
          k = a.clientCapabilities,
          l = a.chatVisibility;
        l = l === void 0 ? !0 : l;
        var m = a.guestAuthString;
        m = m === void 0 ? null : m;
        var n = a.phpOverride;
        n = n === void 0 ? '' : n;
        var o = a.clientType;
        o = o === void 0 ? 'websocket' : o;
        var p = a.deviceId;
        p = p === void 0 ? c('ChannelClientID').getID() : p;
        a = a.pageId;
        a = a === void 0 ? null : a;
        this.$11 = d('MqttEnv').Env.getLoggerInstance();
        this.$11.setAppId(h);
        this.$12 = new (c('MqttUserName'))(g, j, k, p, h, l, m, n, o, a);
        this.$1 = e;
        this.$2 = f;
        this.$5 = 'Disconnected';
        this.$7 = 'LPInactive';
        this.$6 = 'Disconnected';
        this.$3 = [];
        this.$4 = new Set();
        this.$8 = new Map();
        this.$9 = new Map();
        this.$10 = new (c('MqttConnection'))();
        this.$13 = null;
        this.$16 = new (c('MqttAnalyticsHook'))();
        this.$15 = new Map();
        this.$14 = [];
        if (
          !d('MqttEnv').Env.isUserLoggedInNow() &&
          !c('isFastRefreshEnabledForCurrentDomain')() &&
          (m == null || m == '')
        ) {
          this.$11.bumpCounter('logged_out_init');
          return;
        }
        this.$10.addHook(this.$16);
        this.$10.addHook(
          new (c('IrisSubscribeChecker'))(function () {
            return b.$4.size > 0;
          }),
        );
        this.$17(i);
        this.$18();
      }
      var e = a.prototype;
      e.$17 = function (a) {
        var b = this;
        if (this.$10.isRunning()) {
          this.$19('run', 'Connection started calling run again');
          return;
        }
        if (
          d('MqttEnv').Env.genGk(
            d('MqttEnv').MqttGkNames.mqtt_ws_polling_enabled,
          )
        ) {
          var e = d('MqttEnv').Env.killswitch('MQTT_WS_FORCE_LONG_POLLING');
          if (e) {
            this.$19(
              'MqttChannel',
              'Websocket disabled, will do long polling only',
            );
            return;
          } else if (!c('MqttUtils').hasWSSupport()) {
            this.$19(
              'MqttChannel',
              'Websocket Unavailable, will do long polling only',
            );
            this.$11.bumpCounter('ws_unavailable_polling');
            return;
          }
        }
        this.$10.run({
          onStateChange: function (a) {
            b.$20(a);
          },
          onJSError: function (a) {
            b.$21(a);
          },
          onMessageReceived: function (a, c, d) {
            b.$22(a, c, d);
          },
          endpoint: this.$1,
          mqttUserName: this.$12,
          subscribedTopics: a,
          extraConnectMessageProvider: function () {
            return b.$23();
          },
        });
        this.$24();
      };
      e.$24 = function () {
        var a = this;
        d('Run').onUnload(function () {
          a.$10.onWindowUnload(),
            a.$25(d('MqttTypes').MqttErrors.BROWSER_CLOSE);
        });
      };
      e.shutdown = function () {
        this.$25(d('MqttTypes').MqttErrors.APP_DISCONNECT);
      };
      e.$25 = function (a) {
        this.$10 && this.$10.shutdown(a),
          this.$13 && this.$13.shutdown(),
          this.$16.onTabClose();
      };
      e.publish = function (a, b, e) {
        e === void 0 && (e = { qos: 1, skipBuffer: !1 });
        var f;
        e.qos === 0
          ? (f = this.$26(a, b, e.listener))
          : (f = this.$27(a, b, e));
        c('MqttUtils').promiseDone(
          f,
          function () {},
          function (a) {
            (a = e.listener) == null
              ? void 0
              : a.onEvent(
                  d('MqttPublishListener').MqttPublishEvent.PUBLISH_ERROR,
                );
          },
        );
        return f;
      };
      e.$26 = function (a, b, c) {
        return this.$28(a, b, 0, c, 1, null);
      };
      e.$27 = function (a, c, e) {
        var f = { resolve: function () {}, reject: function (a) {} },
          g = new (b('Promise'))(function (a, b) {
            (f.resolve = a), (f.reject = b);
          }),
          h = d('MqttEnv').Env.random();
        a = {
          topic: a,
          payload: c,
          options: e,
          ack: f,
          publishToken: h,
          timeoutId: null,
          attempt: 0,
          startTime: Date.now(),
        };
        if (e.skipBuffer)
          if (this.$10.connectionState() === 'Connecting') {
            this.$14.push(a);
            (c = e.listener) == null
              ? void 0
              : c.onEvent(d('MqttPublishListener').MqttPublishEvent.QUEUED);
          } else this.$29(a);
        else {
          a.timeoutId = this.$30(h);
          this.$15.set(h, a);
          (c = e.listener) == null
            ? void 0
            : c.onEvent(d('MqttPublishListener').MqttPublishEvent.QUEUED);
          this.$31(a);
        }
        return g;
      };
      e.$29 = function (a) {
        (a.attempt += 1),
          c('MqttUtils').promiseDone(
            this.$28(
              a.topic,
              a.payload,
              a.options.qos,
              a.options.listener,
              a.attempt,
              a.startTime,
            ),
            function () {
              a.ack.resolve();
            },
            function (b) {
              a.ack.reject(b);
            },
          );
      };
      e.$31 = function (a) {
        var b = this;
        a.attempt += 1;
        c('MqttUtils').promiseDone(
          this.$28(
            a.topic,
            a.payload,
            a.options.qos,
            a.options.listener,
            a.attempt,
            a.startTime,
          ),
          function () {
            return b.$32(a);
          },
          function (a) {},
        );
      };
      e.$28 = function (a, b, e, f, g, h) {
        var i = this,
          j,
          k,
          l = this.getConnectionState(),
          m = Date.now();
        !this.$10.canPublish() && this.$13 && this.$13.canPublish()
          ? ((j = this.$13.publish(a, b, e)),
            (k = 'lp'),
            f != null &&
              (j = j.then(function () {
                return f.onEvent(
                  d('MqttPublishListener').MqttPublishEvent.SENT,
                );
              })),
            this.$11.bumpCounter('try_publish_lp'))
          : ((j = this.$10.publish(a, b, e, f)),
            (k = 'ws'),
            this.$11.bumpCounter('try_publish_ws'));
        c('promiseDone')(
          j,
          function () {
            i.$11.eventLogOutgoingPublish({
              sessionID: i.$10.getSessionId(),
              topic: a,
              qos: e,
              payloadSizeBytes: b.length * 2,
              success: !0,
              protocol: k,
              errorMessage: null,
              connectionState: l,
              thisAttemptStartTime: m,
              firstAttemptStartTime: h,
              attempt: g,
              disconnectCount: i.$10.getDisconnectCount(),
            });
          },
          function (c) {
            i.$11.eventLogOutgoingPublish({
              sessionID: i.$10.getSessionId(),
              topic: a,
              qos: e,
              payloadSizeBytes: b.length * 2,
              success: !1,
              protocol: k,
              errorMessage: c != null ? c.toString() : null,
              connectionState: l,
              thisAttemptStartTime: m,
              firstAttemptStartTime: h,
              attempt: g,
              disconnectCount: i.$10.getDisconnectCount(),
            });
          },
        );
        return j;
      };
      e.subscribe = function (a, b) {
        var c = this;
        this.$10.subscribe(a);
        var d = this.$8.get(a);
        !d ? ((d = [b]), this.$8.set(a, d)) : d.push(b);
        return function () {
          var d = c.$8.get(a) || [];
          d = d.filter(function (a) {
            return a !== b;
          });
          c.$8.set(a, d);
          d.length === 0 && c.unsubscribeAll(a);
        };
      };
      e.subscribeBinary = function (a, b) {
        var c = this;
        this.$10.subscribe(a);
        var d = this.$9.get(a);
        !d ? ((d = [b]), this.$9.set(a, d)) : d.push(b);
        return function () {
          var d = c.$9.get(a) || [];
          d = d.filter(function (a) {
            return a !== b;
          });
          c.$9.set(a, d);
          d.length === 0 && c.unsubscribeAll(a);
        };
      };
      e.subscribeChannelEvents = function (a) {
        this.$3.push(a);
      };
      e.unsubscribeChannelEvents = function (a) {
        a = this.$3.indexOf(a);
        a > -1 && this.$3.splice(a, 1);
      };
      e.registerExtraConnectPayloadProvider = function (a) {
        var b = this;
        this.$19('MqttChannel', 'registerExtraConnectPayloadProvider called');
        this.$4.add(a);
        if (this.$10.isRunning()) {
          a = a.getPublishMessages();
          a.forEach(function (a) {
            b.publish(a.topic, a.payload, { qos: a.qos, skipBuffer: !0 });
          });
        }
      };
      e.unregisterExtraConnectPayloadProvider = function (a) {
        this.$4['delete'](a);
      };
      e.unsubscribeAll = function (a) {
        this.$10.unsubscribe(a), this.$8['delete'](a), this.$9['delete'](a);
      };
      e.getConnectionState = function () {
        return this.$5;
      };
      e.getLongPollingStatus = function () {
        return this.$7;
      };
      e.getEndpoint = function () {
        return this.$1;
      };
      e.addHook = function (a) {
        this.$10.addHook(a);
      };
      e.removeHook = function (a) {
        this.$10.removeHook(a);
      };
      e.testOnlyMessageReceived = function (a, b) {
        this.$22(a, b, -1);
      };
      e.$33 = function (a) {
        var b = this.$15.get(a);
        b != null &&
          b.timeoutId != null &&
          d('MqttEnv').Env.clearTimeout(b.timeoutId);
        this.$15['delete'](a);
      };
      e.$30 = function (a) {
        var b,
          e = this;
        b = (b = c('qex')._('37')) != null ? b : h;
        return d('MqttEnv').Env.setTimeout(
          function (a) {
            var b = e.$15.get(a);
            if (!b) return;
            var d = b.topic;
            e.$11.bumpCounter('publish_timeout.' + d);
            e.$11.debugTrace(
              'publish_timeout',
              'Timeout publishing topic: ' + d + ' publishToken: ' + a,
            );
            e.$33(a);
            b.ack.reject(c('err')('Publish Timed Out'));
          },
          b,
          a,
        );
      };
      e.$32 = function (a) {
        var b = a.publishToken,
          c = this.$15.get(b);
        if (!c) return;
        this.$33(b);
        a.ack.resolve();
        this.$11.debugTrace(
          'publish_success',
          'Topic: ' + a.topic + ' publishToken: ' + a.publishToken,
        );
        this.$11.bumpCounter('publish_success.' + a.topic);
      };
      e.$22 = function (a, b, c) {
        var d = this.$8.get(a);
        this.$11.eventLogIncomingPublish({
          sessionID: this.$10.getSessionId(),
          topic: a,
          connectionState: this.getConnectionState(),
          qos: c,
          payloadSizeBytes: b.payloadString.length * 2,
          disconnectCount: this.$10.getDisconnectCount(),
        });
        if (!d)
          this.$11.debugTrace(
            '_onMessageReceived',
            a + ' being dropped, no listeners',
          );
        else
          for (
            var d = d,
              e = Array.isArray(d),
              f = 0,
              d = e
                ? d
                : d[
                    typeof Symbol === 'function'
                      ? Symbol.iterator
                      : '@@iterator'
                  ]();
            ;

          ) {
            var g;
            if (e) {
              if (f >= d.length) break;
              g = d[f++];
            } else {
              f = d.next();
              if (f.done) break;
              g = f.value;
            }
            g = g;
            try {
              g(b.payloadString);
            } catch (a) {
              this.$11.logError(a, 'Listener exception'),
                this.$11.bumpCounter('listener_error');
            }
          }
        g = this.$9.get(a);
        this.$11.eventLogIncomingPublish({
          sessionID: this.$10.getSessionId(),
          topic: a,
          connectionState: this.getConnectionState(),
          qos: c,
          payloadSizeBytes: b.payloadBytes.length,
          disconnectCount: this.$10.getDisconnectCount(),
        });
        if (!g)
          this.$11.debugTrace(
            '_onMessageReceived',
            a + ' being dropped, no binary listeners',
          );
        else
          for (
            f = g,
              e = Array.isArray(f),
              d = 0,
              f = e
                ? f
                : f[
                    typeof Symbol === 'function'
                      ? Symbol.iterator
                      : '@@iterator'
                  ]();
            ;

          ) {
            if (e) {
              if (d >= f.length) break;
              c = f[d++];
            } else {
              d = f.next();
              if (d.done) break;
              c = d.value;
            }
            a = c;
            try {
              a(b.payloadBytes);
            } catch (a) {
              this.$11.logError(a, 'Binary Listener exception'),
                this.$11.bumpCounter('listener_error');
            }
          }
      };
      e.$21 = function (a) {
        if (
          d('MqttEnv').Env.genGk(
            d('MqttEnv').MqttGkNames.mqtt_ws_polling_enabled,
          )
        ) {
          a.isRecoverable
            ? this.$11.bumpCounter('recoverable_error_skipped')
            : this.$11.bumpCounter('unrecoverable_error_skipped');
          return;
        }
        a.isRecoverable
          ? this.$11.bumpCounter('recoverable_error_not_skipped')
          : this.$11.bumpCounter('unrecoverable_error_not_skipped');
        this.$34(a);
      };
      e.$35 = function (a) {
        this.$34(a);
      };
      e.$34 = function (a) {
        for (
          var b = this.$3,
            c = Array.isArray(b),
            d = 0,
            b = c
              ? b
              : b[
                  typeof Symbol === 'function' ? Symbol.iterator : '@@iterator'
                ]();
          ;

        ) {
          var e;
          if (c) {
            if (d >= b.length) break;
            e = b[d++];
          } else {
            d = b.next();
            if (d.done) break;
            e = d.value;
          }
          e = e;
          e.onJSError && e.onJSError(a);
        }
      };
      e.$36 = function () {
        var a = this;
        this.$14.forEach(function (b) {
          a.$29(b), a.$11.bumpCounter('publish_from_temp_buffer.' + b.topic);
        });
        this.$14 = [];
        this.$15.forEach(function (b, c, d) {
          a.$31(b), a.$11.bumpCounter('publish_from_buffer.' + b.topic);
        });
      };
      e.$20 = function (a) {
        a === 'Connecting'
          ? (this.$14.forEach(function (a) {
              a.ack.reject(c('err')('Client Reconnecting - ' + a.topic));
            }),
            (this.$14 = []))
          : a === 'TransportConnected' && this.$36(),
          this.$19('_changeState', 'Connection state = ' + a),
          this.$37(a, this.$7);
      };
      e.$38 = function (a, b) {
        this.$13 && this.$13.canPublish() && this.$36(),
          this.$19(
            '_changeLPStatus',
            'LP status = ' + a + ', LP Request status = ' + b,
          ),
          this.$37(this.$6, a);
      };
      e.$37 = function (a, b) {
        var c = this.$10.mqttStateFromConnectionState(a);
        this.$13 && this.$13.canPublish() && (c = 'Connected');
        this.$6 = a;
        (c !== this.$5 || b != this.$7) &&
          ((this.$5 = c), (this.$7 = b), this.$39(c));
      };
      e.$39 = function (a) {
        for (
          var b = this.$3,
            c = Array.isArray(b),
            d = 0,
            b = c
              ? b
              : b[
                  typeof Symbol === 'function' ? Symbol.iterator : '@@iterator'
                ]();
          ;

        ) {
          var e;
          if (c) {
            if (d >= b.length) break;
            e = b[d++];
          } else {
            d = b.next();
            if (d.done) break;
            e = d.value;
          }
          e = e;
          e.onMQTTStateChanged(a);
        }
      };
      e.$23 = function () {
        var a = this,
          b = [];
        this.$4.forEach(function (c) {
          try {
            c = c.getPublishMessages();
            Array.prototype.push.apply(b, c);
          } catch (b) {
            a.$11.logError(b, 'ConnectPayload provider exception'),
              a.$11.bumpCounter('connectPayloadProvider_error');
          }
        });
        return b;
      };
      e.$18 = function () {
        var a = this;
        d('MqttEnv').Env.genGk(
          d('MqttEnv').MqttGkNames.mqtt_ws_polling_enabled,
        ) &&
          this.$2 &&
          this.$2 != '' &&
          c('requireDeferred')('MqttLongPollingRunner')
            .__setRef('MqttChannel')
            .onReady(function (b) {
              b = new b(
                a.$2,
                a.$12,
                a.$10.hasFatal(),
                a.$10.hasConnectSuccess(),
                function (b, c, d) {
                  return a.$22(b, c, d);
                },
                function () {
                  var b = Array.from(a.$8.keys()),
                    c = Array.from(a.$9.keys());
                  return Array.from(new Set(b.concat(c)));
                },
                function () {
                  return a.$23();
                },
                function (b) {
                  a.$35(b);
                },
                function (b, c) {
                  a.$38(b, c);
                },
              );
              b.start();
              a.$10.addHook(b);
              b.addHook(a.$16);
              a.$13 = b;
              a.$11.debugTrace('MqttChannel', 'longPollingRunner loaded');
            });
      };
      e.$19 = function (a, b) {
        this.$11.debugTrace(a, 'Mqtt channel: ' + b);
      };
      e.setForegroundState = function (a) {
        this.$12 && this.$12.setForegroundState(a);
      };
      e.setChatVisibility = function (a) {
        this.$12 && this.$12.setChatVisibility(a);
      };
      e.getEndpointCapabilities = function () {
        return this.$12.getEndpointCapabilities();
      };
      e.setEndpointCapabilities = function (a) {
        this.$12.setEndpointCapabilities(a);
      };
      return a;
    })();
    f.exports = a;
  },
  34,
);
__d(
  'MqttLogger',
  [
    'ChannelClientID',
    'FBLogger',
    'Log',
    'LogHistory',
    'MqttEnv',
    'MqttGlobalStreamCounter',
    'MqttUnifiedClientConnectFalcoEvent',
    'MqttUnifiedClientDisconnectFalcoEvent',
    'MqttUnifiedClientIncomingPublishFalcoEvent',
    'MqttUnifiedClientOutgoingPublishFalcoEvent',
    'MqttWsClientTypedLoggerLite',
    'NetworkStatus',
    'ODS',
    'Random',
    'gkx',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = 'mqtt_client',
      i = 100,
      j = 'WEBSOCKET',
      k = null,
      l = {
        CONNECT: 'mqtt_client_connect',
        DISCONNECT: 'mqtt_client_disconnect',
        PUBLISH: 'mqtt_client_publish',
        CLIENT_ERROR: 'mqtt_client_error',
        PUBLISH_TIMEOUT: 'mqtt_qos1_publish_timeout',
        SOCKET_DISCONNECT: 'mqtt_protocol_error',
      },
      m = {
        CONNECT: 'connect',
        DISCONNECT: 'disconnect',
        OUTGOING_PUBLISH: 'outgoing_publish',
        INCOMING_PUBLISH: 'incoming_publish',
      };
    a = (function () {
      a.getInstance = function () {
        k || (k = new a());
        return k;
      };
      function a() {
        (this.$1 = d('LogHistory').getInstance(h)),
          (this.$2 = 0),
          (this.$3 = c('gkx')('778292')),
          (this.$4 = Date.now()),
          (this.$5 = c('ChannelClientID').getID()),
          this.$7(),
          (this.$6 = d('MqttGlobalStreamCounter').getInstance()),
          this.$6.isEnabled() || (this.$6 = null);
      }
      var b = a.prototype;
      b.setAppId = function (a) {
        this.$2 === 0 && (this.$2 = a);
      };
      b.eventLogConnect = function (a) {
        var b = a.sessionID,
          d = a.connectionStatus,
          e = a.connectionState,
          f = a.ackReceived,
          g = a.duration,
          h = a.total_duration,
          i = a.hostname,
          k = a.attemptNumber,
          n = a.successTotal,
          o = a.failTotal;
        a.subscribedTopics;
        a.publishes;
        var p = a.osConnectivity;
        a.errorCode;
        var q = a.errorMessage,
          r = a.messageSizeBytes;
        a = a.disconnectCount;
        d = d ? 'success' : 'failed';
        this.bumpCounter(l.CONNECT + '.' + d);
        d = n / (n + o);
        n = p && this.getBrowserConnectivity();
        var s = {
          event_type: m.CONNECT,
          acked: f,
          attempt_number: k.toString(),
          connection_state: e,
          client_type: j,
          duration: g.toString(),
          total_duration: h.toString(),
          error: q,
          session_id: b.toString(),
          os_connectivity: n,
          payload_size: r == null ? void 0 : r.toString(),
          extra_data: {
            device_id: this.$5,
            connect_success_rate: d.toString(),
            hostname: i,
          },
          ws_count:
            (o = this.$6) == null
              ? void 0
              : o.getGlobalState().totalConnectionStreams.toString(),
          disconnect_count: a.toString(),
        };
        this.$8(function () {
          c('MqttUnifiedClientConnectFalcoEvent').log(function () {
            return s;
          });
        });
      };
      b.eventLogPull = function (a) {
        var b = a.pullEventName,
          c = a.sessionID,
          e = a.status,
          f = a.duration,
          g = a.hostname;
        a = a.errorMessage;
        c = {
          device_id: this.$5,
          session_id: c,
          logged_in: d('MqttEnv').Env.isUserLoggedInNow(),
          href: window.location.hostname,
          connection_status: e,
          duration: f,
          hostname: g,
          error_message: a,
        };
        this.$9(b, c);
      };
      b.eventLogPullFinish = function (a) {
        var b = a.pullEventName,
          c = a.sessionID,
          e = a.duration,
          f = a.errorMessage,
          g = a.publishReceived;
        a = a.publishSent;
        c = {
          device_id: this.$5,
          session_id: c,
          logged_in: d('MqttEnv').Env.isUserLoggedInNow(),
          href: window.location.hostname,
          duration: e,
          error_message: f,
          publish_received: g,
          publish_sent: a,
        };
        this.$9(b, c);
      };
      b.eventLogDisconnect = function (a) {
        var b = a.sessionID;
        a.errorCode;
        var d = a.errorMessage,
          e = a.duration;
        a = a.disconnectCount;
        this.bumpCounter(l.DISCONNECT);
        var f = {
          event_type: m.DISCONNECT,
          connection_state: 'Disconnected',
          client_type: j,
          duration: e.toString(),
          error: d,
          session_id: b.toString(),
          os_connectivity: this.getBrowserConnectivity(),
          extra_data: { device_id: this.$5 },
          ws_count:
            (e = this.$6) == null
              ? void 0
              : e.getGlobalState().totalConnectionStreams.toString(),
          disconnect_count: a.toString(),
        };
        this.$8(function () {
          c('MqttUnifiedClientDisconnectFalcoEvent').log(function () {
            return f;
          });
        });
      };
      b.eventLogOutgoingPublish = function (a) {
        var b = a.sessionID,
          d = a.topic,
          e = a.qos,
          f = a.payloadSizeBytes,
          g = a.success,
          h = a.protocol,
          i = a.errorMessage,
          k = a.connectionState,
          n = a.thisAttemptStartTime,
          o = a.firstAttemptStartTime,
          p = a.attempt;
        a = a.disconnectCount;
        this.bumpCounter(l.PUBLISH + '.' + d);
        var q = Date.now(),
          r = {
            event_type: m.OUTGOING_PUBLISH,
            session_id: b.toString(),
            topic: d,
            client_type: j,
            connection_state: k,
            qos: e.toString(),
            acked: e === 1 ? g : null,
            duration: (q - n).toString(),
            total_duration: o != null ? (q - o).toString() : null,
            error: i,
            payload_size: f.toString(),
            attempt_number: p.toString(),
            os_connectivity: this.getBrowserConnectivity(),
            extra_data: { device_id: this.$5, protocol: h },
            disconnect_count: a.toString(),
          };
        this.$8(function () {
          c('MqttUnifiedClientOutgoingPublishFalcoEvent').log(function () {
            return r;
          });
        });
      };
      b.eventLogIncomingPublish = function (a) {
        var b = a.sessionID,
          d = a.topic,
          e = a.connectionState,
          f = a.qos,
          g = a.payloadSizeBytes;
        a = a.disconnectCount;
        var h = {
          event_type: m.INCOMING_PUBLISH,
          session_id: b.toString(),
          topic: d,
          client_type: j,
          connection_state: e,
          qos: f.toString(),
          payload_size: g.toString(),
          os_connectivity: this.getBrowserConnectivity(),
          extra_data: { device_id: this.$5 },
          disconnect_count: a.toString(),
        };
        b = d == '/webrtc' || d == '/rtc_multi';
        this.$10(
          function () {
            c('MqttUnifiedClientIncomingPublishFalcoEvent').log(function () {
              return h;
            });
          },
          50,
          b,
        );
      };
      b.logError = function (a, b) {
        var e = this;
        d('MqttEnv').Env.scheduleLoggingCallback(function () {
          try {
            c('FBLogger')(h).catching(a).mustfix(b);
          } catch (a) {}
        });
      };
      b.logErrorWarn = function (a, b) {
        var e = this;
        d('MqttEnv').Env.scheduleLoggingCallback(function () {
          try {
            c('FBLogger')(h).catching(a).warn(b);
          } catch (a) {}
        });
      };
      b.logWarn = function (a, b) {
        var c = this;
        d('MqttEnv').Env.scheduleLoggingCallback(function () {
          try {
            c.$1.warn(a, b);
          } catch (a) {}
        });
      };
      b.debugTrace = function (a, b) {
        var c = this;
        d('MqttEnv').Env.scheduleLoggingCallback(function () {
          try {
            c.$1.debug(a, b);
          } catch (a) {}
        });
      };
      b.bumpCounter = function (a) {
        var b = this;
        if (!d('Random').coinflip(i)) return;
        d('MqttEnv').Env.scheduleLoggingCallback(function () {
          b.$2 !== 0 &&
            d('ODS').bumpEntityKey(2966, 'mqtt_ws_client', b.$2 + '.' + a, i),
            d('ODS').bumpEntityKey(2966, 'mqtt_ws_client', a, i);
        });
      };
      b.$9 = function (a, b, e) {
        var f = this;
        d('MqttEnv').Env.scheduleLoggingCallback(function () {
          b.event_type = a;
          b.app_id = f.$2;
          b.online = f.$11();
          var d = JSON.stringify(b);
          f.$1.log(a, d, { weight: e });
          a !== l.DISCONNECT && c('MqttWsClientTypedLoggerLite').log(b);
        });
      };
      b.$10 = function (a, b, e) {
        c('gkx')('762') && b !== 0
          ? (e = e || d('Random').coinflip(b))
          : (e = !0);
        e && d('MqttEnv').Env.scheduleCallback(a);
      };
      b.$8 = function (a) {
        this.$10(a, 0, !1);
      };
      b.$11 = function () {
        return window.navigator && window.navigator.onLine !== void 0
          ? window.navigator.onLine
          : !1;
      };
      b.getBrowserConnectivity = function () {
        return c('NetworkStatus').isOnline();
      };
      b.$7 = function () {
        var a = this;
        if (window.navigator && window.navigator.onLine !== void 0) {
          var b = function (b) {
            b = b.online;
            b || a.bumpCounter('browser_disconnect');
          };
          c('NetworkStatus').onChange(b);
        }
      };
      return a;
    })();
    g['default'] = a;
  },
  98,
);
__d(
  'MqttEnvInitializer',
  [
    'CurrentUser',
    'MqttEnv',
    'MqttLogger',
    'Random',
    'WebStorage',
    'clearTimeout',
    'gkx',
    'setTimeoutAcrossTransitions',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = 'mqtt:',
      i = {
        genGk: function (a) {
          switch (a) {
            case d('MqttEnv').MqttGkNames.mqtt_waterfall_log_client_sampling:
              return c('gkx')('832242');
            case d('MqttEnv').MqttGkNames.mqtt_ws_polling_enabled:
              return !0;
            case d('MqttEnv').MqttGkNames.mqtt_lp_use_fetch:
              return c('gkx')('945829');
            case d('MqttEnv').MqttGkNames.mqtt_fast_lp:
              return c('gkx')('1001007');
            case d('MqttEnv').MqttGkNames.mqtt_lp_no_delay:
              return c('gkx')('1066746');
            case d('MqttEnv').MqttGkNames.mqtt_enable_publish_over_polling:
              return c('gkx')('968609');
            case d('MqttEnv').MqttGkNames.mqttweb_global_connection_counter:
              return c('gkx')('2795');
            default:
              c('MqttLogger')
                .getInstance()
                .logError(new Error('unknown gk'), 'Unknown GK value ' + a);
              return !1;
          }
        },
        initialize: function () {
          d('MqttEnv').Env.initialize(
            c('Random').random,
            c('CurrentUser').isLoggedInNow,
            c('clearTimeout'),
            c('setTimeoutAcrossTransitions'),
            function () {
              return c('MqttLogger').getInstance();
            },
            i.genGk,
            null,
            null,
            null,
            function (a, b) {
              var d = c('WebStorage').getLocalStorage();
              if (d) {
                d = d.getItem(h + a);
                if (d != null) return d;
              }
              return b;
            },
            function (a, b) {
              var d = c('WebStorage').getLocalStorage();
              d &&
                (b == null
                  ? d.removeItem(h + a)
                  : c('WebStorage').setItemGuarded(d, h + a, b));
            },
          );
        },
      };
    f.exports = i;
  },
  34,
);
__d(
  'FBMqttChannel',
  ['MqttChannel', 'MqttEnvInitializer', 'MqttWebConfig'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    c('MqttEnvInitializer').initialize();
    a = new (c('MqttChannel'))({
      endpoint: c('MqttWebConfig').endpoint,
      pollingEndpoint: c('MqttWebConfig').pollingEndpoint,
      userFbid: c('MqttWebConfig').fbid,
      appId: c('MqttWebConfig').appID,
      initialSubscribedTopics: c('MqttWebConfig').subscribedTopics,
      capabilities: c('MqttWebConfig').capabilities,
      clientCapabilities: c('MqttWebConfig').clientCapabilities,
      chatVisibility: !1,
      phpOverride: c('MqttWebConfig').hostNameOverride,
    });
    g['default'] = a;
  },
  98,
); /*FB_PKG_DELIM*/
__d('LSClientDependencies', [], function (a, b, c, d, e, f) {}, null);
__d(
  'LSLocalizedStrings',
  ['fbt'],
  function (a, b, c, d, e, f, g) {
    a = function (a, b) {
      switch (a) {
        default:
          return '';
      }
    };
    e.exports = a;
  },
  null,
);
__d(
  'LSLocalizedStringsV2',
  ['fbt', 'bs_caml_int64'],
  function (a, b, c, d, e, f, g) {
    a = function (a, c) {
      switch (a) {
        case '2285622730':
          return g._('__JHASH__bHf-pjjpSrh__JHASH__');
        case '1919524925':
          return g._('__JHASH__g2TuGL7kp7W__JHASH__');
        case '14617150':
          return g._('__JHASH__KN5FuK9HL68__JHASH__');
        case '460740012':
          return g._('__JHASH__PmrYWcLl7s-__JHASH__');
        case '2353844300':
          return g._('__JHASH__U3_S6m-Asci__JHASH__');
        case '2421884758':
          return g._('__JHASH__6vTlb2bku1-__JHASH__');
        case '2676961947':
          return g._('__JHASH__TK1WqTTq979__JHASH__', [
            g._param('participant_name', c(0)),
          ]);
        case '2352696798':
          return g._('__JHASH__4w1HQhVySfH__JHASH__');
        case '3298086032':
          return g._('__JHASH__AI6Z85qZOTl__JHASH__', [
            g._param('sender_name', c(0)),
          ]);
        case '3873263038':
          return g._('__JHASH__1Mq5qyIkjxC__JHASH__', [
            g._param('sender_name', c(0)),
          ]);
        case '2616853333':
          return g._('__JHASH__Jm7dkp7Q46M__JHASH__', [
            g._param('sender_name', c(0)),
            g._param('reply_source_sender_name', c(1)),
          ]);
        case '4002265907':
          return g._('__JHASH__YfSaJhpdv0H__JHASH__');
        case '2663996736':
          return g._('__JHASH__rouMYaFboPj__JHASH__', [
            g._param('participant_name', c(0)),
          ]);
        case '2868699317':
          return g._('__JHASH__gln0mR6BSos__JHASH__', [
            g._param('sender_name', c(0)),
          ]);
        case '2688620547':
          return g._('__JHASH__xBthZSMLrSR__JHASH__', [
            g._param('sender_name', c(0)),
          ]);
        case '3544071775':
          return g._('__JHASH__Bfn4BTqFbTw__JHASH__', [
            g._param('sender_name', c(0)),
            g._param('reply_source_sender_name', c(1)),
          ]);
        case '2375715979':
          return g._('__JHASH__wwqS06IKURT__JHASH__');
        case '3810165735':
          return g._('__JHASH___xK_oqrbVu3__JHASH__', [
            g._param('user_name', c(0)),
          ]);
        case '1890485478':
          return g._('__JHASH__r5f8SC2OUWe__JHASH__');
        case '1299547062':
          return g._('__JHASH__UxIyHnrkGvQ__JHASH__');
        case '3621454483':
          return g._('__JHASH__6CXDyy4pKod__JHASH__', [
            g._param('user_name', c(0)),
          ]);
        case '3948960063':
          return g._('__JHASH__4jXDffqGKxc__JHASH__');
        case '1249692047':
          return g._('__JHASH__XuMb0GRtMp2__JHASH__', [
            g._param('user_name', c(0)),
          ]);
        case '2106510577':
          return g._('__JHASH__adFbSa44M9G__JHASH__');
        case '3960370133':
          return g._('__JHASH__WRQpot61Zha__JHASH__', [
            g._param('user_name', c(0)),
          ]);
        case '3798396796':
          return g._('__JHASH__AKC6gu2oXen__JHASH__', [
            g._param('app_name', c(0)),
          ]);
        case '3388601579':
          return g._('__JHASH__LLEsQ4Y9-C7__JHASH__', [
            g._param('user_name', c(0)),
            g._param('app_name', c(1)),
          ]);
        case '1556712457':
          return g._('__JHASH__pQsKY3JdghI__JHASH__');
        case '3601791933':
          return g._('__JHASH__VzXmY6Nofoo__JHASH__', [
            g._param('user_name', c(0)),
          ]);
        case '3759817031':
          return g._('__JHASH__C6rFQy3ZqgT__JHASH__');
        case '2934729541':
          return g._('__JHASH__5sq-yY8-PHO__JHASH__', [
            g._param('user_name', c(0)),
          ]);
        case '392493418':
          return g._('__JHASH__Y9RNnaq--9C__JHASH__');
        case '4085467454':
          return g._('__JHASH__Tf8KEtj2NUW__JHASH__', [
            g._param('user_name', c(0)),
          ]);
        case '2738683656':
          return g._('__JHASH__VTdyPQ7H4GZ__JHASH__');
        case '2996525642':
          return g._('__JHASH__YPG0HYdjvfW__JHASH__', [
            g._param('user_name', c(0)),
          ]);
        case '2326868239':
          return g._('__JHASH__j-o8KFpMPxd__JHASH__');
        case '1001986796':
          return g._('__JHASH__zsY9ES-V3Ko__JHASH__', [
            g._param('user_name', c(0)),
          ]);
        case '2285746939':
          return g._('__JHASH__8PT2JtdeJx9__JHASH__');
        case '3759448420':
          return g._('__JHASH__H7eOZ8S6YOP__JHASH__', [
            g._param('user_name', c(0)),
          ]);
        case '3719716921':
          return g._('__JHASH__qiicOieyAHd__JHASH__');
        case '284944921':
          return g._('__JHASH__TkSIon2AHjf__JHASH__', [
            g._param('user_name', c(0)),
          ]);
        case '3322002377':
          return g._('__JHASH__hs-XIkGvPGM__JHASH__', [
            g._param('user_name', c(0)),
          ]);
        case '2486550278':
          return g._('__JHASH__78NZ4EbNix1__JHASH__');
        case '3557790945':
          return g._('__JHASH__9P29njYEtVJ__JHASH__');
        case '3756846086':
          return g._('__JHASH__HqUxJ78yQEs__JHASH__', [
            g._param('user_name', c(0)),
          ]);
        case '780378803':
          return g._('__JHASH__4RDpwDU2bxj__JHASH__');
        case '3918212613':
          return g._('__JHASH__sfM4caXMU8x__JHASH__', [
            g._param('user_name', c(0)),
          ]);
        case '3161890215':
          return g._('__JHASH__rMpUt8zHstd__JHASH__');
        case '863428456':
          return g._('__JHASH__ZqoJBBTdmfd__JHASH__', [
            g._param('user_name', c(0)),
          ]);
        case '2716405471':
          return g._('__JHASH__3bEfkOlWqZQ__JHASH__');
        case '3909474073':
          return g._('__JHASH__0LAhbzE2305__JHASH__', [
            g._param('user_name', c(0)),
          ]);
        case '1522141193':
          return g._('__JHASH__Xv5h5VWZ1z-__JHASH__');
        case '2804766375':
          return g._('__JHASH__iwXmJRLI5oQ__JHASH__', [
            g._param('user_name', c(0)),
          ]);
        case '772459202':
          return g._('__JHASH__da1hGBDyrc0__JHASH__');
        case '3546068912':
          return g._('__JHASH__eB3RT9ZRPNU__JHASH__', [
            g._param('user_name', c(0)),
          ]);
        case '2459540079':
          return g._('__JHASH__uVYFUqdjsDk__JHASH__');
        case '1596311291':
          return g._('__JHASH__JNmnqH9YpVN__JHASH__', [
            g._param('user_name', c(0)),
          ]);
        case '2253698324':
          return g._('__JHASH__cjVmAaYlDK5__JHASH__');
        case '4269602817':
          return g._('__JHASH__tgAN3WazCx7__JHASH__', [
            g._param('user_name', c(0)),
          ]);
        case '1739999037':
          return g._('__JHASH__LG-CVe6YeL2__JHASH__');
        case '3373597599':
          return g._('__JHASH__XSfhGJMwPL8__JHASH__');
        case '259473449':
          return g._('__JHASH__qL_GOsBRgrZ__JHASH__', [
            g._param('user_name', c(0)),
          ]);
        case '1338912959':
          return g._('__JHASH__LrXrY17Mwwh__JHASH__', [
            g._param('user_name', c(0)),
          ]);
        case '812940701':
          return g._('__JHASH__NEO9buPurkr__JHASH__', [
            g._param('user_name', c(0)),
          ]);
        case '1099878966':
          return g._('__JHASH__Qho_g3FF8mq__JHASH__', [
            g._param('user_name', c(0)),
          ]);
        case '3443782102':
          return g._('__JHASH__Xxt66o3iPYX__JHASH__');
        case '1196128688':
          return g._('__JHASH__z8eeQq9oV5-__JHASH__');
        case '2135145355':
          return g._('__JHASH__woc-8KLy7zj__JHASH__');
        case '3603511704':
          return g._('__JHASH__--XUHiOY0Z1__JHASH__', [
            g._param('user_name', c(0)),
          ]);
        case '705614308':
          return g._('__JHASH__vsnRcMCSSFJ__JHASH__', [
            g._plural(b('bs_caml_int64').to_float(c(0)), 'number'),
          ]);
        case '313217698':
          return g._('__JHASH__rG1E-FG-TxB__JHASH__', [
            g._plural(b('bs_caml_int64').to_float(c(1)), 'number'),
            g._param('user_name', c(0)),
          ]);
        case '3558654267':
          return g._('__JHASH___H0KEIF4aGq__JHASH__');
        case '3422266740':
          return g._('__JHASH__F5OxWfUB9Dy__JHASH__', [
            g._param('user_name', c(0)),
          ]);
        default:
          return '';
      }
    };
    e.exports = a;
  },
  null,
);
__d(
  'LSSetThreadImageURL',
  [],
  function (a, b, c, d, e, f) {
    function a() {
      var a = arguments,
        b = a[a.length - 1];
      b.n;
      var c = [],
        d;
      return b.seq([
        function (c) {
          return b.fe(b.db.table(9).fetch([[[a[0]]]]), function (b) {
            var c = b.update;
            b.item;
            return c({
              threadPictureUrl: a[1] === '' ? d : a[1],
              threadPictureUrlFallback: a[2],
              threadPictureUrlExpirationTimestampMs: a[3],
              isCustomThreadPicture: a[4],
              shouldRoundThreadPicture: a[5],
            });
          });
        },
        function (a) {
          return b.resolve(c);
        },
      ]);
    }
    e.exports = a;
  },
  null,
);
__d(
  'LSDeleteThenInsertContact',
  ['LSSetThreadImageURL'],
  function (a, b, c, d, e, f) {
    function a() {
      var a = arguments,
        c = a[a.length - 1];
      c.n;
      var d = [],
        e = [],
        f;
      return c.seq([
        function (e) {
          return c.seq([
            function (b) {
              return (
                c.i64.eq(a[23], [0, 39423])
                  ? (d[0] = [0, 1])
                  : (c.i64.eq(a[23], [0, 14342874])
                      ? (d[1] = [0, 2])
                      : (d[1] = f),
                    (d[0] = d[1])),
                c
                  .ftr(c.db.table(7).fetch([[[a[0]]]]), function (b) {
                    return (
                      c.i64.eq(b.id, a[0]) &&
                      c.i64.eq([0, 1], [0, 1]) &&
                      c.i64.gt(b.authorityLevel, a[21])
                    );
                  })
                  .next()
                  .then(function (b) {
                    var e = b.done;
                    b.value;
                    return e
                      ? c.db
                          .table(7)
                          .put({
                            id: a[0],
                            profilePictureUrl: a[2],
                            profilePictureFallbackUrl: a[3],
                            profilePictureUrlExpirationTimestampMs: a[4],
                            profilePictureLargeUrl: a[5],
                            profilePictureLargeFallbackUrl: a[6],
                            profilePictureLargeUrlExpirationTimestampMs: a[7],
                            name: a[9],
                            secondaryName: a[41],
                            normalizedNameForSearch: a[10],
                            normalizedSearchTerms: a[33],
                            isMessengerUser: a[11],
                            isMemorialized: a[12],
                            isManagedByViewer: a[35],
                            blockedByViewerStatus: a[14],
                            rank: a[17],
                            firstName: a[18],
                            contactType: a[19],
                            contactTypeExact: a[20],
                            authorityLevel: a[21],
                            messengerCallLogThirdPartyId: a[22],
                            profileRingColor: a[23],
                            requiresMultiway: a[24],
                            blockedSinceTimestampMs: a[25],
                            fbUnblockedSinceTimestampMs: a[46],
                            canViewerMessage: a[26],
                            profileRingColorExpirationTimestampMs: a[27],
                            phoneNumber: a[28],
                            emailAddress: a[29],
                            workCompanyId: a[30],
                            workCompanyName: a[31],
                            workJobTitle: a[32],
                            deviceContactId: a[34],
                            workForeignEntityType: a[36],
                            capabilities: a[37],
                            capabilities2: a[38],
                            profileRingState: d[0],
                            contactViewerRelationship: a[39],
                            gender: a[40],
                            contactReachabilityStatusType: a[43],
                            restrictionType: a[44],
                            waConnectStatus: a[45],
                          })
                      : 0;
                  })
              );
            },
            function (d) {
              return c.sp(
                b('LSSetThreadImageURL'),
                a[0],
                a[2],
                a[3],
                a[4],
                !1,
                !0,
              );
            },
          ]);
        },
        function (a) {
          return c.resolve(e);
        },
      ]);
    }
    e.exports = a;
  },
  null,
);
__d(
  'LSIssueNewTask',
  [],
  function (a, b, c, d, e, f) {
    function a() {
      var a = arguments,
        b = a[a.length - 1];
      b.n;
      var c = [],
        d = [];
      return b.seq([
        function (d) {
          return b.seq([
            function (c) {
              return b.db
                .table(2)
                .add({
                  taskId: void 0,
                  queueName: a[0],
                  context: b.i64.to_string(a[1]),
                  taskValue: a[2],
                  enqueueTimestampMs: b.i64.of_float(Date.now()),
                  httpUrlOverride: a[3],
                  timeoutTimestampMs: a[4],
                  pluginType: a[5],
                  priority: a[6],
                  syncGroupId: a[7],
                  minTimeToSyncTimestampMs: a[9],
                });
            },
            function (d) {
              return b
                .ftr(
                  b.db.table(2).fetchDesc([[[a[0]]], 'queueNameTaskId']),
                  function (c) {
                    return (
                      c.queueName === a[0] &&
                      c.context === b.i64.to_string(a[1]) &&
                      c.taskValue === a[2]
                    );
                  },
                )
                .next()
                .then(function (a, b) {
                  var d = a.done;
                  a = a.value;
                  return d
                    ? (c[0] = [-1, 4294967295])
                    : ((b = a.item), (c[0] = b.taskId));
                });
            },
            function (a) {
              return (function (a) {
                b.logger(a).info(a);
              })(['NewTask', ' ', b.i64.to_string(c[0])].join(''));
            },
          ]);
        },
        function (a) {
          return b.resolve(d);
        },
      ]);
    }
    e.exports = a;
  },
  null,
);
__d(
  'LSVerifyContactRowExists',
  ['LSIssueNewTask'],
  function (a, b, c, d, e, f) {
    function a() {
      var a = arguments,
        c = a[a.length - 1];
      c.n;
      var d = [],
        e = [],
        f;
      return c.seq([
        function (e) {
          return c
            .ftr(c.db.table(7).fetch([[[a[0]]]]), function (b) {
              return c.i64.eq(b.id, a[0]) && c.i64.eq([0, 1], [0, 1]);
            })
            .next()
            .then(function (e) {
              var g = e.done;
              e.value;
              return g
                ? c.seq([
                    function (b) {
                      return (
                        (d[0] = a[3] == null ? '' : a[3]),
                        c.fe(
                          c.ftr(c.db.table(7).fetch([[[a[0]]]]), function (b) {
                            return (
                              c.i64.eq(b.id, a[0]) &&
                              c.i64.eq([0, 1], [0, 1]) &&
                              c.i64.lt(b.authorityLevel, a[14])
                            );
                          }),
                          function (a) {
                            return a['delete']();
                          },
                        )
                      );
                    },
                    function (b) {
                      return c.db
                        .table(7)
                        .add({
                          id: a[0],
                          profilePictureUrl: a[2] == null ? '' : a[2],
                          profilePictureFallbackUrl: a[5],
                          name: d[0],
                          secondaryName: a[20],
                          normalizedNameForSearch: d[0],
                          isMemorialized: a[9],
                          blockedByViewerStatus: a[11],
                          canViewerMessage: a[12],
                          profilePictureLargeUrl: '',
                          isMessengerUser: !0,
                          rank: 0,
                          contactType: a[4],
                          contactTypeExact: [0, 0],
                          requiresMultiway: !1,
                          authorityLevel: a[14],
                          workForeignEntityType: [0, 0],
                          capabilities: a[15],
                          capabilities2: a[16],
                          contactViewerRelationship: a[19],
                          gender: a[18],
                        });
                    },
                    function (e) {
                      return (
                        (d[1] = new c.Map()),
                        d[1].set('contact_id', a[0]),
                        (d[2] = c.toJSON(d[1])),
                        c.sp(
                          b('LSIssueNewTask'),
                          'cpq_v2',
                          [0, 207],
                          d[2],
                          f,
                          f,
                          [0, 0],
                          [0, 0],
                          f,
                          f,
                          [0, 0],
                        )
                      );
                    },
                  ])
                : 0;
            });
        },
        function (a) {
          return c.resolve(e);
        },
      ]);
    }
    e.exports = a;
  },
  null,
);
__d(
  'LSExecuteFinallyBlockForSyncTransaction',
  [],
  function (a, b, c, d, e, f) {
    function a() {
      var a = arguments,
        b = a[a.length - 1];
      b.n;
      var c = [],
        d;
      return b.seq([
        function (c) {
          return b.seq([
            function (c) {
              return b.fe(
                b.ftr(b.db.table(3).fetch([[['', a[1]]]]), function (c) {
                  return (
                    c.taskQueueName === '' &&
                    b.i64.eq(c.syncDatabaseId, a[1]) &&
                    b.i64.eq(c.epochId, a[2])
                  );
                }),
                function (c) {
                  var e = c.update;
                  c = c.item;
                  return e({
                    epochId:
                      !a[0] && b.i64.eq(c.failureCount, [-1, 4294967295])
                        ? c.epochId
                        : d,
                    failureCount: b.i64.eq(c.failureCount, [-1, 4294967295])
                      ? [0, 0]
                      : b.i64.add(c.failureCount, [0, 1]),
                  });
                },
              );
            },
            function (a) {
              return b.resolve();
            },
          ]);
        },
        function (a) {
          return b.resolve(c);
        },
      ]);
    }
    e.exports = a;
  },
  null,
);
__d(
  'LSAppendDataTraceAddon',
  [],
  function (a, b, c, d, e, f) {
    function a() {
      var a = arguments,
        b = a[a.length - 1];
      b.n;
      var c = [];
      return b.seq([
        function (c) {
          return b.db
            .table(154)
            .add({
              addonId: void 0,
              traceId: a[0],
              timestampMs: b.i64.of_float(Date.now()),
              checkPointId: a[1],
              syncChannel: a[2],
              errorMessage: a[3],
              tags: a[4],
            });
        },
        function (a) {
          return b.resolve(c);
        },
      ]);
    }
    e.exports = a;
  },
  null,
);
__d(
  'LSArrayGetObjectAt',
  ['Promise', 'bs_caml_int64'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function a(a, c, e, f) {
      return b('Promise').resolve([e[d('bs_caml_int64').to_int32(f)], e]);
    }
    g.call = a;
  },
  98,
);
__d(
  'LSLogEventAnnotate.bs',
  ['Promise'],
  function (a, b, c, d, e, f) {
    'use strict';
    function a(a, c, d, e, f, g) {
      return b('Promise').resolve();
    }
    c = a;
    f.call = c;
  },
  66,
);
__d(
  'LSLogEventAnnotate.nop',
  ['LSLogEventAnnotate.bs'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    a = function (a, b, c, e, f, g) {
      return d('LSLogEventAnnotate.bs').call(a, b, c, e, f, g);
    };
    g['default'] = a;
  },
  98,
);
__d(
  'LSExecuteFirstBlockForSyncTransaction',
  ['LSAppendDataTraceAddon', 'LSArrayGetObjectAt', 'LSLogEventAnnotate.nop'],
  function (a, b, c, d, e, f) {
    function a() {
      var a = arguments,
        c = a[a.length - 1];
      c.n;
      var d = [],
        e = [],
        f;
      return c.seq([
        function (f) {
          return c.seq([
            function (a) {
              return c.resolve();
            },
            function (e) {
              return c
                .ftr(c.db.table(3).fetch([[['', a[0]]]]), function (b) {
                  return (
                    b.taskQueueName === '' &&
                    c.i64.eq(b.syncDatabaseId, a[0]) &&
                    c.i64.eq(b.epochId, a[1])
                  );
                })
                .next()
                .then(function (e, f) {
                  f = e.done;
                  e = e.value;
                  return f
                    ? c.seq([
                        function (e) {
                          return (
                            (function (a) {
                              c.logger(a).mustfix(a);
                            })(
                              [
                                'epoch mismatch',
                                ',',
                                c.i64.to_string(a[0]),
                              ].join(''),
                            ),
                            (d[2] = new c.Map()),
                            d[2].set('database_id', a[0]),
                            d[2].set('epoch_id', a[1]),
                            d[2].set('sync_status', a[4]),
                            d[2].set('next_cursor', a[3]),
                            d[2].set('error_msg', 'epoch mismatch'),
                            a[9] ? (d[3] = !1) : (d[3] = !0),
                            d[3]
                              ? c.resolve()
                              : ((d[5] = a[9].keys()),
                                (d[6] = c.i64.of_int32(d[5].length)),
                                c.i64.gt(d[6], [0, 0])
                                  ? c.loopAsync(d[6], function (e) {
                                      return (
                                        (d[7] = e),
                                        c.seq([
                                          function (a) {
                                            return c
                                              .ntop(
                                                'Array',
                                                b('LSArrayGetObjectAt'),
                                                d[5],
                                                d[7],
                                              )
                                              .then(function (a) {
                                                return (
                                                  (a = a),
                                                  (d[8] = a[0]),
                                                  (d[9] = a[1]),
                                                  a
                                                );
                                              });
                                          },
                                          function (b) {
                                            return (
                                              (d[10] = a[9].get(d[8])),
                                              a[9],
                                              d[2].set(d[8], d[10])
                                            );
                                          },
                                        ])
                                      );
                                    })
                                  : c.resolve())
                          );
                        },
                        function (a) {
                          return c.nop(
                            b('LSLogEventAnnotate.nop'),
                            [0, 16],
                            [0, 35],
                            [0, 0],
                            d[2],
                          );
                        },
                        function (a) {
                          return (d[4] = !1), (d[0] = d[4]);
                        },
                      ])
                    : (e.item,
                      c.seq([
                        function (e) {
                          return c
                            .ftr(c.db.table(1).fetch([[[a[0]]]]), function (b) {
                              return (
                                c.i64.eq(b.groupId, a[0]) &&
                                b.currentCursor === a[2]
                              );
                            })
                            .next()
                            .then(function (e, f) {
                              f = e.done;
                              e = e.value;
                              return f
                                ? c.seq([
                                    function (e) {
                                      return (
                                        (function (a) {
                                          c.logger(a).mustfix(a);
                                        })(
                                          [
                                            'cursor mismatch',
                                            ',',
                                            c.i64.to_string(a[0]),
                                          ].join(''),
                                        ),
                                        (d[4] = new c.Map()),
                                        d[4].set('database_id', a[0]),
                                        d[4].set('epoch_id', a[1]),
                                        d[4].set('sync_status', a[4]),
                                        d[4].set('next_cursor', a[3]),
                                        d[4].set(
                                          'error_msg',
                                          'cursor mismatch',
                                        ),
                                        a[9] ? (d[5] = !1) : (d[5] = !0),
                                        d[5]
                                          ? c.resolve()
                                          : ((d[7] = a[9].keys()),
                                            (d[8] = c.i64.of_int32(
                                              d[7].length,
                                            )),
                                            c.i64.gt(d[8], [0, 0])
                                              ? c.loopAsync(d[8], function (e) {
                                                  return (
                                                    (d[9] = e),
                                                    c.seq([
                                                      function (a) {
                                                        return c
                                                          .ntop(
                                                            'Array',
                                                            b(
                                                              'LSArrayGetObjectAt',
                                                            ),
                                                            d[7],
                                                            d[9],
                                                          )
                                                          .then(function (a) {
                                                            return (
                                                              (a = a),
                                                              (d[10] = a[0]),
                                                              (d[11] = a[1]),
                                                              a
                                                            );
                                                          });
                                                      },
                                                      function (b) {
                                                        return (
                                                          (d[12] = a[9].get(
                                                            d[10],
                                                          )),
                                                          a[9],
                                                          d[4].set(d[10], d[12])
                                                        );
                                                      },
                                                    ])
                                                  );
                                                })
                                              : c.resolve())
                                      );
                                    },
                                    function (a) {
                                      return c.nop(
                                        b('LSLogEventAnnotate.nop'),
                                        [0, 16],
                                        [0, 35],
                                        [0, 0],
                                        d[4],
                                      );
                                    },
                                    function (a) {
                                      return (d[6] = !1), (d[2] = d[6]);
                                    },
                                  ])
                                : (e.item,
                                  c.seq([
                                    function (b) {
                                      return c.fe(
                                        c.db.table(1).fetch([[[a[0]]]]),
                                        function (b) {
                                          var d = b.update;
                                          b.item;
                                          return d({
                                            currentCursor: a[3],
                                            syncStatus: a[4],
                                            sendSyncParams: a[5],
                                            minTimeToSyncTimestampMs: c.i64.eq(
                                              a[6],
                                              [0, 0],
                                            )
                                              ? [0, 0]
                                              : c.i64.add(
                                                  c.i64.of_float(Date.now()),
                                                  a[6],
                                                ),
                                            canIgnoreTimestamp: a[7],
                                            syncChannel: a[8],
                                            lastSyncCompletedTimestampMs:
                                              c.i64.of_float(Date.now()),
                                          });
                                        },
                                      );
                                    },
                                    function (b) {
                                      return c.fe(
                                        c.db.table(3).fetch([[['', a[0]]]]),
                                        function (a) {
                                          var b = a.update;
                                          a.item;
                                          return b({
                                            failureCount: [-1, 4294967295],
                                          });
                                        },
                                      );
                                    },
                                    function (e) {
                                      return (
                                        (d[4] = new c.Map()),
                                        d[4].set('database_id', a[0]),
                                        d[4].set('epoch_id', a[1]),
                                        d[4].set('sync_status', a[4]),
                                        d[4].set('next_cursor', a[3]),
                                        a[9] ? (d[5] = !1) : (d[5] = !0),
                                        d[5]
                                          ? c.resolve()
                                          : ((d[7] = a[9].keys()),
                                            (d[8] = c.i64.of_int32(
                                              d[7].length,
                                            )),
                                            c.i64.gt(d[8], [0, 0])
                                              ? c.loopAsync(d[8], function (e) {
                                                  return (
                                                    (d[9] = e),
                                                    c.seq([
                                                      function (a) {
                                                        return c
                                                          .ntop(
                                                            'Array',
                                                            b(
                                                              'LSArrayGetObjectAt',
                                                            ),
                                                            d[7],
                                                            d[9],
                                                          )
                                                          .then(function (a) {
                                                            return (
                                                              (a = a),
                                                              (d[10] = a[0]),
                                                              (d[11] = a[1]),
                                                              a
                                                            );
                                                          });
                                                      },
                                                      function (b) {
                                                        return (
                                                          (d[12] = a[9].get(
                                                            d[10],
                                                          )),
                                                          a[9],
                                                          d[4].set(d[10], d[12])
                                                        );
                                                      },
                                                    ])
                                                  );
                                                })
                                              : c.resolve())
                                      );
                                    },
                                    function (a) {
                                      return c.nop(
                                        b('LSLogEventAnnotate.nop'),
                                        [0, 16],
                                        [0, 35],
                                        [0, 0],
                                        d[4],
                                      );
                                    },
                                    function (a) {
                                      return (d[6] = !0), (d[2] = d[6]);
                                    },
                                  ]));
                            });
                        },
                        function (a) {
                          return (d[0] = d[2]);
                        },
                      ]));
                });
            },
            function (a) {
              return (e[0] = d[0]);
            },
          ]);
        },
        function (a) {
          return c.resolve(e);
        },
      ]);
    }
    e.exports = a;
  },
  null,
);
__d(
  'LSGetCursor',
  [],
  function (a, b, c, d, e, f) {
    function a() {
      var a = arguments,
        b = a[a.length - 1];
      b.n;
      var c = [],
        d = [],
        e;
      return b.seq([
        function (f) {
          return b.seq([
            function (d) {
              return b.db
                .table(1)
                .fetch([[[a[0]]]])
                .next()
                .then(function (a, b) {
                  var d = a.done;
                  a = a.value;
                  return d
                    ? (c[0] = e)
                    : ((b = a.item), (c[0] = b.currentCursor));
                });
            },
            function (a) {
              return (d[0] = c[0]);
            },
          ]);
        },
        function (a) {
          return b.resolve(d);
        },
      ]);
    }
    e.exports = a;
  },
  null,
);
__d(
  'LSGetViewerFBID',
  [],
  function (a, b, c, d, e, f) {
    function a() {
      var a = arguments,
        b = a[a.length - 1];
      b.n;
      var c = [],
        d = [];
      return b.seq([
        function (a) {
          return b.seq([
            function (a) {
              return b.db
                .table(4)
                .fetch([[[[0, 1]]]])
                .next()
                .then(function (a, b) {
                  var d = a.done;
                  a = a.value;
                  return d
                    ? (c[0] = [-1, 4294967295])
                    : ((b = a.item), (c[0] = b.facebookUserId));
                });
            },
            function (a) {
              return (d[0] = c[0]);
            },
          ]);
        },
        function (a) {
          return b.resolve(d);
        },
      ]);
    }
    e.exports = a;
  },
  null,
);
__d(
  'LSIssueNewTaskAndGetTaskID',
  ['LSIssueNewTask', 'LSLogEventAnnotate.nop'],
  function (a, b, c, d, e, f) {
    function a() {
      var a = arguments,
        c = a[a.length - 1];
      c.n;
      var d = [],
        e = [];
      return c.seq([
        function (f) {
          return c.seq([
            function (d) {
              return c.sp(
                b('LSIssueNewTask'),
                a[0],
                a[1],
                a[2],
                a[3],
                a[4],
                a[5],
                a[6],
                a[7],
                a[8],
                a[9],
              );
            },
            function (b) {
              return (
                (d[3] = c.i64.to_string(a[1])),
                c
                  .ftr(
                    c.db.table(2).fetchDesc([[[a[0]]], 'queueNameTaskId']),
                    function (b) {
                      return (
                        b.queueName === a[0] &&
                        b.context === d[3] &&
                        b.taskValue === a[2]
                      );
                    },
                  )
                  .next()
                  .then(function (a, b) {
                    var c = a.done;
                    a = a.value;
                    return c
                      ? (d[0] = [-1, 4294967295])
                      : ((b = a.item), (d[0] = b.taskId));
                  })
              );
            },
            function (e) {
              return (
                (d[2] = new c.Map()),
                d[2].set('task_id', d[0]),
                d[2].set('task_queue_name', a[0]),
                d[2].set('task_label', d[3]),
                c.nop(
                  b('LSLogEventAnnotate.nop'),
                  [0, 16],
                  [0, 23],
                  [0, 0],
                  d[2],
                )
              );
            },
            function (a) {
              return (e[0] = d[0]);
            },
          ]);
        },
        function (a) {
          return c.resolve(e);
        },
      ]);
    }
    e.exports = a;
  },
  null,
);
__d(
  'LSRemoveTask',
  [],
  function (a, b, c, d, e, f) {
    function a() {
      var a = arguments,
        b = a[a.length - 1];
      b.n;
      var c = [];
      return b.seq([
        function (c) {
          return b.db
            .table(2)
            .fetch([[[a[0]]]])
            .next()
            .then(function (c, d) {
              var e = c.done;
              c = c.value;
              return e
                ? 0
                : ((d = c.item),
                  b.fe(
                    b.db
                      .table(2)
                      .fetch([
                        [[d.queueName, { lte: a[0] }]],
                        'queueNameTaskId',
                      ]),
                    function (a) {
                      return a['delete']();
                    },
                  ));
            });
        },
        function (a) {
          return b.resolve(c);
        },
      ]);
    }
    e.exports = a;
  },
  null,
);
__d(
  'LSSetRegionHint',
  [],
  function (a, b, c, d, e, f) {
    function a() {
      var a = arguments,
        b = a[a.length - 1];
      b.n;
      var c = [];
      return b.seq([
        function (c) {
          return b.fe(b.db.table(1).fetch([[[a[0]]]]), function (b) {
            var c = b.update;
            b.item;
            return c({ regionHint: a[1] });
          });
        },
        function (a) {
          return b.resolve(c);
        },
      ]);
    }
    e.exports = a;
  },
  null,
);
__d(
  'LSTaskExists',
  [],
  function (a, b, c, d, e, f) {
    function a() {
      var a = arguments,
        b = a[a.length - 1];
      b.n;
      var c = [],
        d = [];
      return b.seq([
        function (e) {
          return b.seq([
            function (d) {
              return b.db
                .table(2)
                .fetch([[[a[0]]]])
                .next()
                .then(function (a, b) {
                  b = a.done;
                  a = a.value;
                  return b ? (c[0] = !1) : (a.item, (c[0] = !0));
                });
            },
            function (a) {
              return (d[0] = c[0]);
            },
          ]);
        },
        function (a) {
          return b.resolve(d);
        },
      ]);
    }
    e.exports = a;
  },
  null,
);
__d(
  'LSUpdateLastSyncCompletedTimestampMsToNow',
  [],
  function (a, b, c, d, e, f) {
    function a() {
      var a = arguments,
        b = a[a.length - 1];
      b.n;
      var c = [];
      return b.seq([
        function (c) {
          return b.fe(b.db.table(1).fetch([[[a[0]]]]), function (a) {
            var c = a.update;
            a.item;
            return c({
              lastSyncCompletedTimestampMs: b.i64.of_float(Date.now()),
            });
          });
        },
        function (a) {
          return b.resolve(c);
        },
      ]);
    }
    e.exports = a;
  },
  null,
);
__d(
  'LSDeleteThenInsertThread',
  [],
  function (a, b, c, d, e, f) {
    function a() {
      var a = arguments,
        b = a[a.length - 1];
      b.n;
      var c = [],
        d = [],
        e;
      return b.seq([
        function (d) {
          return b.db
            .table(9)
            .fetch([[[a[7]]]])
            .next()
            .then(function (d, f) {
              var g = d.done;
              d = d.value;
              return g
                ? b.db
                    .table(9)
                    .put({
                      threadKey: a[7],
                      lastReadWatermarkTimestampMs: a[1],
                      authorityLevel: a[6],
                      mailboxType: a[8],
                      threadType: a[9],
                      folderName: a[10],
                      ongoingCallState: a[25],
                      parentThreadKey: a[31],
                      lastActivityTimestampMs: a[0],
                      snippet: a[2],
                      threadName: a[3],
                      threadPictureUrl: a[4],
                      needsAdminApprovalForNewParticipant: a[5],
                      threadPictureUrlFallback: a[11],
                      threadPictureUrlExpirationTimestampMs: a[12],
                      removeWatermarkTimestampMs: a[13],
                      muteExpireTimeMs: a[14],
                      muteCallsExpireTimeMs: a[15],
                      isAdminSnippet: a[16],
                      snippetSenderContactId: a[17],
                      snippetStringHash: a[20],
                      snippetStringArgument1: a[21],
                      snippetAttribution: a[22],
                      snippetAttributionStringHash: a[23],
                      cannotReplyReason: a[26],
                      customEmoji: a[27],
                      customEmojiImageUrl: a[28],
                      outgoingBubbleColor: a[29],
                      themeFbid: a[30],
                      nullstateDescriptionText1: a[32],
                      nullstateDescriptionType1: a[33],
                      nullstateDescriptionText2: a[34],
                      nullstateDescriptionType2: a[35],
                      nullstateDescriptionText3: a[36],
                      nullstateDescriptionType3: a[37],
                      draftMessage: a[38],
                      snippetHasEmoji: a[39],
                      hasPersistentMenu: a[40],
                      disableComposerInput: a[41],
                      cannotUnsendReason: a[42],
                      viewedPluginKey: a[43],
                      viewedPluginContext: a[44],
                      clientThreadKey: a[45],
                      capabilities: a[46],
                      shouldRoundThreadPicture: a[47],
                      proactiveWarningDismissTime: a[48],
                      isCustomThreadPicture: a[49],
                      otidOfFirstMessage: a[50],
                      normalizedSearchTerms: a[51],
                      additionalThreadContext: a[52],
                      disappearingThreadKey: a[53],
                      isDisappearingMode: a[54],
                      disappearingModeInitiator: a[55],
                      unreadDisappearingMessageCount: a[56],
                      lastMessageCtaId: a[58],
                      lastMessageCtaType: a[59],
                      threadDescription: a[60],
                      unsendLimitMs: a[61],
                      syncGroup: a[62],
                      threadInvitesEnabled: a[63],
                      threadInviteLink: a[64],
                      threadInvitesEnabledV2: a[65],
                      eventStartTimestampMs: a[66],
                      eventEndTimestampMs: a[67],
                      takedownState: a[68],
                      memberCount: a[69],
                      igFolder: a[70],
                      inviterId: a[71],
                      threadTags: a[72],
                    })
                : ((f = d.item),
                  (c[1] = f.lastActivityTimestampMs),
                  (c[3] = f.parentThreadKey),
                  (c[2] = f.disappearingThreadKey),
                  (c[4] = f.isDisappearingMode),
                  b.i64.le(f.authorityLevel, a[6])
                    ? b.i64.gt(c[1], a[0]) && b.i64.neq(c[2], e)
                      ? (b.i64.eq(a[31], [-1, 4294967286]) &&
                        b.i64.eq(c[3], [0, 0])
                          ? ((g = [c[3], f.folderName]),
                            (c[5] = g[0]),
                            (c[6] = g[1]),
                            g)
                          : ((d = [a[31], a[10]]),
                            (c[5] = d[0]),
                            (c[6] = d[1]),
                            d),
                        b.db
                          .table(9)
                          .put({
                            threadKey: a[7],
                            lastReadWatermarkTimestampMs:
                              f.lastReadWatermarkTimestampMs,
                            authorityLevel: a[6],
                            mailboxType: a[8],
                            threadType: a[9],
                            folderName: c[6],
                            ongoingCallState: a[25],
                            parentThreadKey: c[5],
                            lastActivityTimestampMs: c[1],
                            snippet: a[2],
                            threadName: a[3],
                            threadPictureUrl: a[4],
                            needsAdminApprovalForNewParticipant: a[5],
                            threadPictureUrlFallback: a[11],
                            threadPictureUrlExpirationTimestampMs: a[12],
                            removeWatermarkTimestampMs: a[13],
                            muteExpireTimeMs: a[14],
                            muteCallsExpireTimeMs: a[15],
                            isAdminSnippet: a[16],
                            snippetSenderContactId: a[17],
                            snippetStringHash: a[20],
                            snippetStringArgument1: a[21],
                            snippetAttribution: a[22],
                            snippetAttributionStringHash: a[23],
                            cannotReplyReason: a[26],
                            customEmoji: a[27],
                            customEmojiImageUrl: a[28],
                            outgoingBubbleColor: a[29],
                            themeFbid: a[30],
                            nullstateDescriptionText1: a[32],
                            nullstateDescriptionType1: a[33],
                            nullstateDescriptionText2: a[34],
                            nullstateDescriptionType2: a[35],
                            nullstateDescriptionText3: a[36],
                            nullstateDescriptionType3: a[37],
                            draftMessage: a[38],
                            snippetHasEmoji: a[39],
                            hasPersistentMenu: a[40],
                            disableComposerInput: a[41],
                            cannotUnsendReason: a[42],
                            viewedPluginKey: a[43],
                            viewedPluginContext: a[44],
                            clientThreadKey: a[45],
                            capabilities: a[46],
                            shouldRoundThreadPicture: a[47],
                            proactiveWarningDismissTime: a[48],
                            isCustomThreadPicture: a[49],
                            otidOfFirstMessage: a[50],
                            normalizedSearchTerms: a[51],
                            additionalThreadContext: a[52],
                            disappearingThreadKey: c[2],
                            isDisappearingMode: c[4],
                            disappearingModeInitiator: a[55],
                            unreadDisappearingMessageCount: a[56],
                            lastMessageCtaId: a[58],
                            lastMessageCtaType: a[59],
                            threadDescription: a[60],
                            unsendLimitMs: a[61],
                            syncGroup: a[62],
                            threadInvitesEnabled: a[63],
                            threadInviteLink: a[64],
                            threadInvitesEnabledV2: a[65],
                            eventStartTimestampMs: a[66],
                            eventEndTimestampMs: a[67],
                            takedownState: a[68],
                            memberCount: a[69],
                            igFolder: a[70],
                            inviterId: a[71],
                            threadTags: a[72],
                          }))
                      : b.db
                          .table(9)
                          .put({
                            threadKey: a[7],
                            lastReadWatermarkTimestampMs: a[1],
                            authorityLevel: a[6],
                            mailboxType: a[8],
                            threadType: a[9],
                            folderName: a[10],
                            ongoingCallState: a[25],
                            parentThreadKey: a[31],
                            lastActivityTimestampMs: a[0],
                            snippet: a[2],
                            threadName: a[3],
                            threadPictureUrl: a[4],
                            needsAdminApprovalForNewParticipant: a[5],
                            threadPictureUrlFallback: a[11],
                            threadPictureUrlExpirationTimestampMs: a[12],
                            removeWatermarkTimestampMs: a[13],
                            muteExpireTimeMs: a[14],
                            muteCallsExpireTimeMs: a[15],
                            isAdminSnippet: a[16],
                            snippetSenderContactId: a[17],
                            snippetStringHash: a[20],
                            snippetStringArgument1: a[21],
                            snippetAttribution: a[22],
                            snippetAttributionStringHash: a[23],
                            cannotReplyReason: a[26],
                            customEmoji: a[27],
                            customEmojiImageUrl: a[28],
                            outgoingBubbleColor: a[29],
                            themeFbid: a[30],
                            nullstateDescriptionText1: a[32],
                            nullstateDescriptionType1: a[33],
                            nullstateDescriptionText2: a[34],
                            nullstateDescriptionType2: a[35],
                            nullstateDescriptionText3: a[36],
                            nullstateDescriptionType3: a[37],
                            draftMessage: a[38],
                            snippetHasEmoji: a[39],
                            hasPersistentMenu: a[40],
                            disableComposerInput: a[41],
                            cannotUnsendReason: a[42],
                            viewedPluginKey: a[43],
                            viewedPluginContext: a[44],
                            clientThreadKey: a[45],
                            capabilities: a[46],
                            shouldRoundThreadPicture: a[47],
                            proactiveWarningDismissTime: a[48],
                            isCustomThreadPicture: a[49],
                            otidOfFirstMessage: a[50],
                            normalizedSearchTerms: a[51],
                            additionalThreadContext: a[52],
                            disappearingThreadKey: c[2],
                            isDisappearingMode: c[4],
                            disappearingModeInitiator: a[55],
                            unreadDisappearingMessageCount: a[56],
                            lastMessageCtaId: a[58],
                            lastMessageCtaType: a[59],
                            threadDescription: a[60],
                            unsendLimitMs: a[61],
                            syncGroup: a[62],
                            threadInvitesEnabled: a[63],
                            threadInviteLink: a[64],
                            threadInvitesEnabledV2: a[65],
                            eventStartTimestampMs: a[66],
                            eventEndTimestampMs: a[67],
                            takedownState: a[68],
                            memberCount: a[69],
                            igFolder: a[70],
                            inviterId: a[71],
                            threadTags: a[72],
                          })
                    : b.resolve());
            });
        },
        function (a) {
          return b.resolve(d);
        },
      ]);
    }
    e.exports = a;
  },
  null,
);
__d(
  'LSIssueMessagesRangeQuery',
  ['LSGetCursor', 'LSIssueNewTask'],
  function (a, b, c, d, e, f) {
    function a() {
      var a = arguments,
        c = a[a.length - 1];
      c.n;
      var d = [],
        e = [],
        f;
      return c.seq([
        function (e) {
          return (
            (d[2] = c.i64.eq(a[2], [-1, 4294967295]) ? [0, 0] : a[2]),
            c
              .islc(
                c.ftr(c.db.table(13).fetchDesc([[[a[0]]]]), function (b) {
                  return (
                    c.i64.eq(b.threadKey, a[0]) &&
                    (c.i64.eq(b.minTimestampMs, f) ||
                      c.i64.le(b.minTimestampMs, a[1]))
                  );
                }),
                0,
                c.i64.to_float([0, 1]),
              )
              .next()
              .then(function (e, g) {
                var h = e.done;
                e = e.value;
                return h
                  ? (d[0] = !1)
                  : ((g = e.item),
                    c.seq([
                      function (e) {
                        return (
                          (d[5] = g.threadKey),
                          (d[6] = [0, 0]),
                          (d[7] = g.minTimestampMs),
                          (d[8] = g.minMessageId),
                          c.i64.eq(d[2], [0, 1])
                            ? (d[3] = !g.isLoadingAfter)
                            : (d[3] = !g.isLoadingBefore),
                          d[3]
                            ? c.seq([
                                function (e) {
                                  return (
                                    c.i64.eq(d[2], [0, 1])
                                      ? (d[9] = g.hasMoreAfter)
                                      : (d[9] = g.hasMoreBefore),
                                    d[9]
                                      ? c.seq([
                                          function (a) {
                                            return c.i64.eq(d[2], [0, 1])
                                              ? c.seq([
                                                  function (a) {
                                                    return c.fe(
                                                      c.ftr(
                                                        c.db
                                                          .table(13)
                                                          .fetch([
                                                            [
                                                              [
                                                                d[5],
                                                                d[7],
                                                                d[8],
                                                              ],
                                                            ],
                                                          ]),
                                                        function (a) {
                                                          return (
                                                            c.i64.eq(
                                                              a.threadKey,
                                                              d[5],
                                                            ) &&
                                                            c.i64.eq(
                                                              [0, 0],
                                                              d[6],
                                                            ) &&
                                                            c.i64.eq(
                                                              a.minTimestampMs,
                                                              d[7],
                                                            ) &&
                                                            a.minMessageId ===
                                                              d[8]
                                                          );
                                                        },
                                                      ),
                                                      function (a) {
                                                        var b = a.update;
                                                        a.item;
                                                        return b({
                                                          isLoadingAfter: !0,
                                                        });
                                                      },
                                                    );
                                                  },
                                                  function (a) {
                                                    return (
                                                      (a = [
                                                        g.maxTimestampMs,
                                                        g.maxMessageId,
                                                      ]),
                                                      (d[10] = a[0]),
                                                      (d[11] = a[1]),
                                                      a
                                                    );
                                                  },
                                                ])
                                              : c.seq([
                                                  function (a) {
                                                    return c.fe(
                                                      c.ftr(
                                                        c.db
                                                          .table(13)
                                                          .fetch([
                                                            [
                                                              [
                                                                d[5],
                                                                d[7],
                                                                d[8],
                                                              ],
                                                            ],
                                                          ]),
                                                        function (a) {
                                                          return (
                                                            c.i64.eq(
                                                              a.threadKey,
                                                              d[5],
                                                            ) &&
                                                            c.i64.eq(
                                                              [0, 0],
                                                              d[6],
                                                            ) &&
                                                            c.i64.eq(
                                                              a.minTimestampMs,
                                                              d[7],
                                                            ) &&
                                                            a.minMessageId ===
                                                              d[8]
                                                          );
                                                        },
                                                      ),
                                                      function (a) {
                                                        var b = a.update;
                                                        a.item;
                                                        return b({
                                                          isLoadingBefore: !0,
                                                        });
                                                      },
                                                    );
                                                  },
                                                  function (a) {
                                                    return (
                                                      (a = [d[7], d[8]]),
                                                      (d[10] = a[0]),
                                                      (d[11] = a[1]),
                                                      a
                                                    );
                                                  },
                                                ]);
                                          },
                                          function (b) {
                                            return c.db
                                              .table(9)
                                              .fetch([[[a[0]]]])
                                              .next()
                                              .then(function (b, e) {
                                                var a = b.done;
                                                b = b.value;
                                                return a
                                                  ? (d[12] = [0, 1])
                                                  : ((e = b.item),
                                                    (d[19] = e.syncGroup),
                                                    c.i64.neq(d[19], f)
                                                      ? (d[18] = d[19])
                                                      : (d[18] = [0, 1]),
                                                    (d[12] = d[18]));
                                              });
                                          },
                                          function (a) {
                                            return c
                                              .sp(b('LSGetCursor'), d[12])
                                              .then(function (a) {
                                                return (
                                                  (a = a), (d[14] = a[0]), a
                                                );
                                              });
                                          },
                                          function (e) {
                                            return (
                                              (d[15] = new c.Map()),
                                              d[15].set('thread_key', a[0]),
                                              d[15].set('direction', d[2]),
                                              d[15].set(
                                                'reference_timestamp_ms',
                                                d[10],
                                              ),
                                              d[15].set(
                                                'reference_message_id',
                                                d[11],
                                              ),
                                              d[15].set('sync_group', d[12]),
                                              d[15].set('cursor', d[14]),
                                              (d[16] = d[15].get('thread_key')),
                                              d[15],
                                              (d[17] = c.toJSON(d[15])),
                                              c.sp(
                                                b('LSIssueNewTask'),
                                                'mrq.{}'
                                                  .split('{}')
                                                  .join(c.i64.to_string(d[16])),
                                                [0, 228],
                                                d[17],
                                                f,
                                                f,
                                                [0, 0],
                                                [0, 0],
                                                f,
                                                f,
                                                [0, 0],
                                              )
                                            );
                                          },
                                        ])
                                      : c.resolve()
                                  );
                                },
                                function (a) {
                                  return (d[4] = !0);
                                },
                              ])
                            : c.resolve((d[4] = !1))
                        );
                      },
                      function (a) {
                        return (d[0] = d[4]);
                      },
                    ]));
              })
          );
        },
        function (a) {
          return c.resolve(e);
        },
      ]);
    }
    e.exports = a;
  },
  null,
);
__d(
  'LSSetMessageDisplayedContentTypes',
  [],
  function (a, b, c, d, e, f) {
    function a() {
      var a = arguments,
        b = a[a.length - 1];
      b.n;
      var c = [],
        d = [],
        e;
      return b.seq([
        function (d) {
          return b.seq([
            function (d) {
              return b.db
                .table(16)
                .fetch([[[a[0], a[1]]]])
                .next()
                .then(function (a, b) {
                  var d = a.done;
                  a = a.value;
                  return d
                    ? ((d = [e, e]), (c[0] = d[0]), (c[1] = d[1]), d)
                    : ((b = a.item),
                      (d = [b.attachmentType, b.xmaLayoutType]),
                      (c[0] = d[0]),
                      (c[1] = d[1]),
                      d);
                });
            },
            function (d) {
              return b
                .ftr(
                  b.db.table(12).fetch([[[a[0], a[2], a[1]]]]),
                  function (c) {
                    return (
                      b.i64.eq(c.threadKey, a[0]) &&
                      b.i64.eq([0, 0], [0, 0]) &&
                      b.i64.eq(c.timestampMs, a[2]) &&
                      c.messageId === a[1]
                    );
                  },
                )
                .next()
                .then(function (a, b) {
                  var d = a.done;
                  a = a.value;
                  return d
                    ? ((d = [[0, 0], e, e]),
                      (c[3] = d[0]),
                      (c[4] = d[1]),
                      (c[5] = d[2]),
                      d)
                    : ((b = a.item),
                      (d = [b.replySourceTypeV2, b.replySourceId, b.text]),
                      (c[3] = d[0]),
                      (c[4] = d[1]),
                      (c[5] = d[2]),
                      d);
                });
            },
            function (d) {
              return b.db
                .table(9)
                .fetch([[[a[0]]]])
                .next()
                .then(function (a, b) {
                  var d = a.done;
                  a = a.value;
                  return d
                    ? (c[7] = e)
                    : ((b = a.item), (c[7] = b.customEmoji));
                });
            },
            function (d) {
              return (
                b.i64.eq(c[0], [0, 6])
                  ? (c[9] = [0, 64])
                  : (b.i64.eq(c[0], [0, 5])
                      ? (c[15] = [0, 4])
                      : (b.i64.eq(c[0], [0, 3])
                          ? (c[16] = [0, 16384])
                          : (b.i64.eq(c[0], [0, 2])
                              ? (c[17] = [0, 2])
                              : (b.i64.eq(c[0], [0, 4])
                                  ? (c[18] = [0, 2])
                                  : (c[18] = a[5] ? [0, 4096] : [0, 0]),
                                (c[17] = c[18])),
                            (c[16] = c[17])),
                        (c[15] = c[16])),
                    (c[9] = c[15])),
                (c[10] =
                  c[5] !== e && c[5] !== '' && c[5] !== c[7]
                    ? b.i64.or_(c[9], [0, 1])
                    : c[9]),
                (c[11] =
                  c[7] !== e && c[7] === c[5]
                    ? b.i64.or_(c[10], [0, 128])
                    : c[10]),
                (c[12] = b.i64.eq(c[0], [0, 7])
                  ? b.i64.or_(c[11], [0, 8])
                  : c[11]),
                (c[13] = b.i64.eq(c[1], [0, 0])
                  ? b.i64.or_(c[12], [0, 1024])
                  : b.i64.eq(c[1], [0, 1])
                  ? b.i64.or_(c[12], [0, 2048])
                  : c[12]),
                (c[14] =
                  b.i64.eq(c[3], [0, 2]) && c[4] !== e
                    ? b.i64.or_(c[13], [0, 512])
                    : c[13]),
                b.fe(
                  b.ftr(
                    b.db.table(12).fetch([[[a[0], a[2], a[1]]]]),
                    function (c) {
                      return (
                        b.i64.eq(c.threadKey, a[0]) &&
                        b.i64.eq([0, 0], [0, 0]) &&
                        b.i64.eq(c.timestampMs, a[2]) &&
                        c.messageId === a[1]
                      );
                    },
                  ),
                  function (d) {
                    var e = d.update;
                    d.item;
                    return e({
                      displayedContentTypes: a[4]
                        ? [0, 32]
                        : b.i64.eq(c[3], [0, 3])
                        ? b.i64.or_(c[14], [0, 8192])
                        : c[14],
                    });
                  },
                )
              );
            },
          ]);
        },
        function (a) {
          return b.resolve(d);
        },
      ]);
    }
    e.exports = a;
  },
  null,
);
__d(
  'LSUpsertReaction',
  [],
  function (a, b, c, d, e, f) {
    function a() {
      var a = arguments,
        b = a[a.length - 1];
      b.n;
      var c = [];
      return b.seq([
        function (c) {
          return b.db
            .table(8)
            .put({
              threadKey: a[0],
              messageId: a[2],
              actorId: a[3],
              timestampMs: a[1],
              reaction: a[4],
              authorityLevel: a[5],
            });
        },
        function (a) {
          return b.resolve(c);
        },
      ]);
    }
    e.exports = a;
  },
  null,
);
__d(
  'LSUpsertSequenceId',
  ['LSGetViewerFBID'],
  function (a, b, c, d, e, f) {
    function a() {
      var a = arguments,
        c = a[a.length - 1];
      c.n;
      var d = [],
        e = [];
      return c.seq([
        function (e) {
          return c.seq([
            function (a) {
              return c.sp(b('LSGetViewerFBID')).then(function (a) {
                return (a = a), (d[0] = a[0]), a;
              });
            },
            function (b) {
              return c.db
                .table(25)
                .put({ id: d[0], lastAppliedMailboxSequenceId: a[0] });
            },
          ]);
        },
        function (a) {
          return c.resolve(e);
        },
      ]);
    }
    e.exports = a;
  },
  null,
);
__d(
  'LSVerifyThreadExists',
  ['LSGetViewerFBID', 'LSIssueNewTask'],
  function (a, b, c, d, e, f) {
    function a() {
      var a = arguments,
        c = a[a.length - 1];
      c.n;
      var d = [],
        e = [],
        f;
      return c.seq([
        function (e) {
          return c.seq([
            function (b) {
              return [
                [0, 7],
                [0, 8],
                [0, 13],
                [0, 10],
                [0, 11],
                [0, 16],
              ].some(function (b) {
                return c.i64.eq(a[1], b);
              })
                ? c.resolve(
                    ((b = [!1, !1, !1]),
                    (d[0] = b[0]),
                    (d[1] = b[1]),
                    (d[2] = b[2]),
                    b),
                  )
                : c.seq([
                    function (b) {
                      return c.db
                        .table(9)
                        .fetch([[[a[0]]]])
                        .next()
                        .then(function (b, e) {
                          var f = b.done;
                          b = b.value;
                          return f
                            ? ((f = [!0, !0, !1]),
                              (d[3] = f[0]),
                              (d[4] = f[1]),
                              (d[5] = f[2]),
                              f)
                            : ((e = b.item),
                              (d[10] = e.authorityLevel),
                              e.folderName === 'other'
                                ? ((f = [!0, !1, !1]),
                                  (d[7] = f[0]),
                                  (d[8] = f[1]),
                                  (d[9] = f[2]),
                                  f)
                                : (c.i64.ge(d[10], a[4]) ||
                                  (c.i64.eq(d[10], [0, 20]) &&
                                    (c.i64.eq(a[1], [0, 2]) ||
                                      [
                                        [0, 23],
                                        [0, 21],
                                        [0, 18],
                                      ].some(function (b) {
                                        return c.i64.eq(a[1], b);
                                      })))
                                    ? ((b = [!1, !1, !1]),
                                      (d[11] = b[0]),
                                      (d[12] = b[1]),
                                      (d[13] = b[2]),
                                      b)
                                    : ((e = [!0, !1, !0]),
                                      (d[11] = e[0]),
                                      (d[12] = e[1]),
                                      (d[13] = e[2]),
                                      e),
                                  (f = [d[11], d[12], d[13]]),
                                  (d[7] = f[0]),
                                  (d[8] = f[1]),
                                  (d[9] = f[2]),
                                  f),
                              (b = [d[7], d[8], d[9]]),
                              (d[3] = b[0]),
                              (d[4] = b[1]),
                              (d[5] = b[2]),
                              b);
                        });
                    },
                    function (a) {
                      return (
                        (a = [d[3], d[4], d[5]]),
                        (d[0] = a[0]),
                        (d[1] = a[1]),
                        (d[2] = a[2]),
                        a
                      );
                    },
                  ]);
            },
            function (e) {
              return d[0]
                ? ((d[3] = new c.Map()),
                  d[3].set('thread_fbid', a[0]),
                  d[3].set('force_upsert', !1),
                  d[3].set('use_open_messenger_transport', !1),
                  d[3].set('sync_group', a[5]),
                  d[3].set('metadata_only', !1),
                  (d[4] = d[3].get('thread_fbid')),
                  d[3],
                  (d[5] = c.toJSON(d[3])),
                  c.sp(
                    b('LSIssueNewTask'),
                    c.i64.to_string(d[4]),
                    [0, 209],
                    d[5],
                    f,
                    f,
                    [0, 0],
                    [0, 0],
                    f,
                    f,
                    [0, 0],
                  ))
                : c.resolve();
            },
            function (e) {
              return d[1]
                ? c.seq([
                    function (b) {
                      return (
                        (d[3] = [64, 1083495711]),
                        (d[4] = [0, 0]),
                        (d[5] = [0, 0]),
                        c.fe(
                          c.ftr(c.db.table(9).fetch([[[a[0]]]]), function (b) {
                            return (
                              c.i64.eq(b.threadKey, a[0]) &&
                              c.i64.lt(b.authorityLevel, a[4])
                            );
                          }),
                          function (a) {
                            return a['delete']();
                          },
                        )
                      );
                    },
                    function (b) {
                      return c.db
                        .table(9)
                        .add({
                          threadKey: a[0],
                          mailboxType: [0, 0],
                          threadType: a[1],
                          folderName: a[2],
                          lastReadWatermarkTimestampMs: [0, 0],
                          removeWatermarkTimestampMs: [-1, 4294967295],
                          ongoingCallState: [0, 0],
                          parentThreadKey: a[3],
                          authorityLevel: a[4],
                          capabilities: d[3],
                          capabilities2: d[4],
                          capabilities3: d[5],
                          unsendLimitMs: [-1, 4294967295],
                        });
                    },
                    function (e) {
                      return c.i64.eq(a[1], [0, 1])
                        ? c.seq([
                            function (b) {
                              return c.fe(
                                c.ftr(
                                  c.db.table(14).fetch([[[a[0], a[0]]]]),
                                  function (b) {
                                    return (
                                      c.i64.eq(b.threadKey, a[0]) &&
                                      c.i64.eq([0, 0], [0, 0]) &&
                                      c.i64.eq(b.contactId, a[0]) &&
                                      c.i64.lt(b.authorityLevel, a[4])
                                    );
                                  },
                                ),
                                function (a) {
                                  return a['delete']();
                                },
                              );
                            },
                            function (b) {
                              return c.db
                                .table(14)
                                .add({
                                  threadKey: a[0],
                                  contactId: a[0],
                                  readWatermarkTimestampMs: [0, 0],
                                  deliveredWatermarkTimestampMs: [0, 0],
                                  authorityLevel: a[4],
                                  isModerator: !1,
                                });
                            },
                            function (a) {
                              return c
                                .sp(b('LSGetViewerFBID'))
                                .then(function (a) {
                                  return (a = a), (d[6] = a[0]), a;
                                });
                            },
                            function (b) {
                              return c.fe(
                                c.ftr(
                                  c.db.table(14).fetch([[[a[0], d[6]]]]),
                                  function (b) {
                                    return (
                                      c.i64.eq(b.threadKey, a[0]) &&
                                      c.i64.eq([0, 0], [0, 0]) &&
                                      c.i64.eq(b.contactId, d[6]) &&
                                      c.i64.lt(b.authorityLevel, a[4])
                                    );
                                  },
                                ),
                                function (a) {
                                  return a['delete']();
                                },
                              );
                            },
                            function (b) {
                              return c.db
                                .table(14)
                                .add({
                                  threadKey: a[0],
                                  contactId: d[6],
                                  readWatermarkTimestampMs: [0, 0],
                                  deliveredWatermarkTimestampMs: [0, 0],
                                  authorityLevel: a[4],
                                  isModerator: !1,
                                });
                            },
                          ])
                        : c.resolve();
                    },
                  ])
                : c.resolve();
            },
            function (b) {
              return d[2]
                ? c.fe(c.db.table(9).fetch([[[a[0]]]]), function (b) {
                    var c = b.update;
                    b.item;
                    return c({ authorityLevel: a[4] });
                  })
                : c.resolve();
            },
          ]);
        },
        function (a) {
          return c.resolve(e);
        },
      ]);
    }
    e.exports = a;
  },
  null,
);
__d(
  'LSVerifyThreadRowExists',
  ['LSVerifyThreadExists'],
  function (a, b, c, d, e, f) {
    function a() {
      var a = arguments,
        c = a[a.length - 1];
      c.n;
      var d = [];
      return c.seq([
        function (d) {
          return c.sp(
            b('LSVerifyThreadExists'),
            a[0],
            a[1] == null ? [0, 1] : a[1],
            'inbox',
            [0, 0],
            [0, 40],
            a[2],
          );
        },
        function (a) {
          return c.resolve(d);
        },
      ]);
    }
    e.exports = a;
  },
  null,
);
__d(
  'MWChatOpenSecureTabForUserCallback.bs',
  ['bs_curry', 'cr:614'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function a(a, d, e) {
      if (!(b('cr:614') == null))
        return c('bs_curry')._3(b('cr:614').openChatTab, a, d, e);
    }
    g.$MAWChatOpenTabForUser$requireCond = b('cr:614');
    g.openChatTab = a;
  },
  98,
);
__d(
  'LSDict',
  ['regeneratorRuntime', 'unrecoverableViolation'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function h(a) {
      a.tag = 'ls-array';
      return a;
    }
    a = (function () {
      function a(a) {
        this.size = 0;
        var b = new Map(
          Array.from(a || []).map(function (a) {
            var b = a[0];
            a = a[1];
            return [JSON.stringify(b), a];
          }),
        );
        this.$1 = b;
        Object.defineProperties(this, {
          size: {
            get: function () {
              return b.size;
            },
          },
        });
      }
      var d = a.prototype;
      d.get = function (a) {
        return this.$1.get(JSON.stringify(a));
      };
      d.set = function (a, b) {
        this.$1.set(JSON.stringify(a), b);
        return this;
      };
      d['delete'] = function (a) {
        return this.$1['delete'](JSON.stringify(a));
      };
      d.clear = function () {
        return this.$1.clear();
      };
      d.forEach = function (a) {
        var b = this;
        this.$1.forEach(function (c, d) {
          return a(c, JSON.parse(d), b);
        });
      };
      d.has = function (a) {
        return this.$1.has(JSON.stringify(a));
      };
      d.entries = b('regeneratorRuntime').mark(function a() {
        var c, d, e, f, g, h, i;
        return b('regeneratorRuntime').wrap(
          function (a) {
            while (1)
              switch ((a.prev = a.next)) {
                case 0:
                  (c = this.$1.entries()),
                    (d = Array.isArray(c)),
                    (e = 0),
                    (c = d
                      ? c
                      : c[
                          typeof Symbol === 'function'
                            ? Symbol.iterator
                            : '@@iterator'
                        ]());
                case 1:
                  if (!d) {
                    a.next = 7;
                    break;
                  }
                  if (!(e >= c.length)) {
                    a.next = 4;
                    break;
                  }
                  return a.abrupt('break', 18);
                case 4:
                  f = c[e++];
                  a.next = 11;
                  break;
                case 7:
                  e = c.next();
                  if (!e.done) {
                    a.next = 10;
                    break;
                  }
                  return a.abrupt('break', 18);
                case 10:
                  f = e.value;
                case 11:
                  g = f;
                  h = g[0];
                  i = g[1];
                  a.next = 16;
                  return [JSON.parse(h), i];
                case 16:
                  a.next = 1;
                  break;
                case 18:
                case 'end':
                  return a.stop();
              }
          },
          a,
          this,
        );
      });
      d.keys = function () {
        return h(
          Array.from(this.$1.keys()).map(function (a) {
            return JSON.parse(a);
          }),
        );
      };
      d.values = function () {
        return this.$1.values();
      };
      a.fromObject = function (b) {
        return new a(Object.entries(b));
      };
      a.shapeToRecord = function (a) {
        return Array.from(a.entries()).reduce(function (a, b) {
          var d = b[0];
          b = b[1];
          if (typeof d !== 'string')
            throw c('unrecoverableViolation')(
              'Cannot convert dicts with mixed keys to records',
              'messenger_web_product',
            );
          return babelHelpers['extends']({}, a, ((a = {}), (a[d] = b), a));
        }, {});
      };
      return a;
    })();
    g['default'] = a;
  },
  98,
);
__d(
  'LSIterationHelpers',
  ['FBLogger', 'LSDbKeyComparer', 'LSDict', 'ReStoreVaulting', 'bs_caml_int64'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function h(a) {
      var b = [];
      while (a !== 0) b.push(a.hd), (a = a.tl);
      return b;
    }
    function i(a) {
      return a.reduceRight(function (a, b) {
        return { hd: b, tl: a };
      }, 0);
    }
    function j(a, b, c) {
      c === void 0 && (c = 'asc');
      var e = a.entries(new WeakMap(), c);
      function f() {
        var a;
        return (
          (a = {}),
          (a[
            typeof Symbol === 'function'
              ? Symbol.asyncIterator
              : '@@asyncIterator'
          ] = f),
          (a.next = async function () {
            var a = await e.next();
            outer: while (!a.done) {
              var f = async function (f) {
                var g = b[f] || {},
                  j = g.end;
                g = g.start;
                var k = h(a.value[0]),
                  l = k.slice(0, f);
                if (g) {
                  var m = d('LSDbKeyComparer').compareValue(k[f], g[0]);
                  if (m * (c === 'asc' ? 1 : -1) < g[1]) {
                    if (f === k.length - 1 && m === 0) a = await e.next();
                    else {
                      m = [].concat(
                        l,
                        [g[0]],
                        (g[1] && c === 'asc') || (!g[1] && c === 'desc')
                          ? [d('LSDbKeyComparer').MAX_KEY]
                          : [],
                      );
                      a = await e.next(i(m));
                    }
                    if (a.done) return { v: { done: !0 } };
                    k = h(a.value[0]);
                    if (
                      !l.every(function (b, a) {
                        return d('LSDbKeyComparer').compareValue(b, k[a]) === 0;
                      })
                    )
                      return 'continue|outer';
                  }
                }
                if (
                  j &&
                  d('LSDbKeyComparer').compareValue(j[0], k[f]) *
                    (c === 'asc' ? 1 : -1) <
                    j[1]
                ) {
                  a = await e.next(
                    i(
                      [].concat(
                        k.slice(0, f),
                        c === 'asc' ? [d('LSDbKeyComparer').MAX_KEY] : [],
                      ),
                    ),
                  );
                  return 'continue|outer';
                }
              };
              for (var g = 0; g < b.length; g++) {
                var j = await f(g);
                switch (j) {
                  case 'continue|outer':
                    continue outer;
                  default:
                    if (typeof j === 'object') return j.v;
                }
              }
              break;
            }
            return a;
          }),
          a
        );
      }
      return f();
    }
    function k(a, b) {
      var c;
      return (
        (c = {}),
        (c[
          typeof Symbol === 'function'
            ? Symbol.asyncIterator
            : '@@asyncIterator'
        ] = k.bind(null, a, b)),
        (c.next = async function () {
          var c = await a.next();
          while (!c.done && !(await b(c.value.item))) c = await a.next();
          return c;
        }),
        c
      );
    }
    function l(a, b, d) {
      var e,
        f = 0;
      return (
        (e = {}),
        (e[
          typeof Symbol === 'function'
            ? Symbol.asyncIterator
            : '@@asyncIterator'
        ] = l.bind(null, a, b, d)),
        (e.next = async function () {
          while (f < b) {
            var e = await a.next();
            e = e.done;
            if (e) {
              c('FBLogger')('messenger_web_product').info(
                'not enough iterable values to slice from %d',
                b,
              );
              return { done: !0 };
            }
            f++;
          }
          if (f < d) {
            f++;
            return a.next();
          }
          return { done: !0 };
        }),
        e
      );
    }
    async function a(a, b) {
      var c = await a.next(),
        d = [];
      while (!c.done) d.push(c.value), (c = await a.next());
      for (c = 0; c < d.length; c++) {
        a = d[c];
        await b(a);
      }
    }
    async function m(a) {
      var b = [],
        c = await a.next();
      while (!c.done) b.push(c.value), (c = await a.next());
      return b;
    }
    function b(a, b, c) {
      c === void 0 && (c = []);
      var e = { ASC: 1, DESC: -1 },
        f = function (a, c) {
          a = a.item;
          c = c.item;
          for (var f = 0; f < b.length; f++) {
            var g = b[f];
            g = g[0];
            var h = a[g];
            g = c[g];
            var i;
            h === void 0 && g === void 0
              ? (i = 0)
              : h === void 0 && g !== void 0
              ? (i = -1)
              : h !== void 0 && g === void 0
              ? (i = 1)
              : (i = d('LSDbKeyComparer').compareValue(h, g));
            if (i === 0) continue;
            return i * e[b[f][1]];
          }
          return 0;
        },
        g = (function () {
          var b = babelHelpers.wrapAsyncGenerator(function* () {
            var b = yield babelHelpers.awaitAsyncGenerator(a.next()),
              e,
              g = [];
            while (!b.done) {
              var h = 0;
              for (var i = c.length - 1; i >= 0; i--)
                h = { hd: b.value.item[c[i]], tl: h };
              if (e !== void 0 && d('LSDbKeyComparer').compareKey(e, h) !== 0) {
                for (
                  var i = g.sort(f),
                    j = Array.isArray(i),
                    k = 0,
                    i = j
                      ? i
                      : i[
                          typeof Symbol === 'function'
                            ? Symbol.iterator
                            : '@@iterator'
                        ]();
                  ;

                ) {
                  var l;
                  if (j) {
                    if (k >= i.length) break;
                    l = i[k++];
                  } else {
                    k = i.next();
                    if (k.done) break;
                    l = k.value;
                  }
                  l = l;
                  yield l;
                }
                g = [];
              }
              b.done || g.push(b.value);
              e = h;
              b = yield babelHelpers.awaitAsyncGenerator(a.next());
            }
            if (g.length)
              for (
                l = g.sort(f),
                  k = Array.isArray(l),
                  j = 0,
                  l = k
                    ? l
                    : l[
                        typeof Symbol === 'function'
                          ? Symbol.iterator
                          : '@@iterator'
                      ]();
                ;

              ) {
                if (k) {
                  if (j >= l.length) break;
                  i = l[j++];
                } else {
                  j = l.next();
                  if (j.done) break;
                  i = j.value;
                }
                h = i;
                yield h;
              }
          });
          return function () {
            return b.apply(this, arguments);
          };
        })();
      return g();
    }
    async function e(a) {
      var b = 0,
        d = await a.next();
      while (!d.done) b++, (d = await a.next());
      return c('bs_caml_int64').of_int32(b);
    }
    function f(a, b) {
      return {
        forEach: async function (d) {
          var e = await m(a);
          e = e.reduce(function (a, c) {
            c = c.item[b];
            var d = (a.get(c) || 0) + 1;
            return a.set(c, d);
          }, new (c('LSDict'))());
          for (
            var e = e.entries(),
              f = Array.isArray(e),
              g = 0,
              e = f
                ? e
                : e[
                    typeof Symbol === 'function'
                      ? Symbol.iterator
                      : '@@iterator'
                  ]();
            ;

          ) {
            var h, i;
            if (f) {
              if (g >= e.length) break;
              i = e[g++];
            } else {
              g = e.next();
              if (g.done) break;
              i = g.value;
            }
            i = i;
            var j = i[0];
            i = i[1];
            await d(
              ((h = {}),
              (h[b] = j),
              (h.group_count = c('bs_caml_int64').of_int32(i)),
              h),
            );
          }
        },
      };
    }
    function n(a, b, c) {
      return {
        delete: function () {
          return c.delete(a);
        },
        item: b,
        update: function (d) {
          return c.upsert(a, babelHelpers.extends({}, b, d));
        },
      };
    }
    function o(a, b) {
      return p.apply(this, arguments);
    }
    function p() {
      p = babelHelpers.wrapAsyncGenerator(function* (a, b) {
        var c = yield babelHelpers.awaitAsyncGenerator(a.next());
        while (!c.done)
          yield c.value, (c = yield babelHelpers.awaitAsyncGenerator(a.next()));
        c = yield babelHelpers.awaitAsyncGenerator(b.next());
        while (!c.done)
          yield c.value, (c = yield babelHelpers.awaitAsyncGenerator(b.next()));
      });
      return p.apply(this, arguments);
    }
    function q(a, b, c) {
      return r.apply(this, arguments);
    }
    function r() {
      r = babelHelpers.wrapAsyncGenerator(function* (a, b, c) {
        var e = yield babelHelpers.awaitAsyncGenerator(a.next()),
          f = yield babelHelpers.awaitAsyncGenerator(b.next());
        while (!e.done && !f.done) {
          var g = d('LSDbKeyComparer').compareKey(e.value[0], f.value[0]);
          g === 0
            ? (yield e.value,
              (e = yield babelHelpers.awaitAsyncGenerator(a.next())),
              (f = yield babelHelpers.awaitAsyncGenerator(b.next())))
            : g * (c === 'asc' ? 1 : -1) < 0
            ? (yield e.value,
              (e = yield babelHelpers.awaitAsyncGenerator(a.next())))
            : (yield f.value,
              (f = yield babelHelpers.awaitAsyncGenerator(b.next())));
        }
        while (!e.done)
          yield e.value, (e = yield babelHelpers.awaitAsyncGenerator(a.next()));
        while (!f.done)
          yield f.value, (f = yield babelHelpers.awaitAsyncGenerator(b.next()));
      });
      return r.apply(this, arguments);
    }
    function s(a, b, c, e, f, g) {
      var h = new Set(),
        k = a.length > 1,
        l = a.length === 1 && a[0][1] === void 0,
        m = a
          .map(function (a) {
            var h = a[0],
              k = a[1];
            return h.map(function (a) {
              e.key_lookup === !0 && a.length !== 0;
              e.table_scan === !0 && a.length === 0;
              var h = a.map(function (a) {
                return g(a, b);
              });
              a =
                h.length ===
                  (k === void 0 ? c.primaryKeyIds : c.indexes[k]).length &&
                h.every(function (a) {
                  var b = a.start;
                  a = a.end;
                  return b && a && b[0] === a[0] && b[1] === 0 && a[1] === 0;
                });
              if (a) {
                a = function a() {
                  var b,
                    e = !1;
                  return (
                    (b = {}),
                    (b[
                      typeof Symbol === 'function'
                        ? Symbol.asyncIterator
                        : '@@asyncIterator'
                    ] = a),
                    (b.next = async function () {
                      if (e) return { done: !0 };
                      e = !0;
                      var a = i(
                          h.map(function (a) {
                            a = a.start;
                            return a[0];
                          }),
                        ),
                        b = await (k === void 0 ? f : f.index(k)).get(a);
                      if (!b) return { done: !0 };
                      b = d('ReStoreVaulting').maybeUnvaultDbRow(b, c.name);
                      return { value: [a, b], done: !1 };
                    }),
                    b
                  );
                };
                return a();
              }
              return j(k === void 0 ? f : f.index(k), h, b);
            });
          })
          .flat()
          .reduce(function (c, d) {
            return a.length > 1 ? o(c, d) : q(c, d, b);
          });
      function p() {
        var a;
        return (
          (a = {}),
          (a[
            typeof Symbol === 'function'
              ? Symbol.asyncIterator
              : '@@asyncIterator'
          ] = p),
          (a.next = async function () {
            var a,
              b,
              d,
              e = await m.next();
            while (!e.done) {
              var g = e.value;
              b = g[0];
              d = g[1];
              a = l
                ? b
                : c.primaryKeyIds.reduceRight(function (a, b) {
                    return { hd: d[b], tl: a };
                  }, 0);
              if (k) {
                g = JSON.stringify(a);
                if (h.has(g)) {
                  e = await m.next();
                  continue;
                }
                h.add(g);
              }
              break;
            }
            return e.done || a === void 0 || d === void 0
              ? { done: !0 }
              : { done: !1, value: n(a, d, f) };
          }),
          a
        );
      }
      return p();
    }
    g.filter = k;
    g.slice = l;
    g.forEach = a;
    g.toArray = m;
    g.sortBy = b;
    g.count = e;
    g.groupBy = f;
    g.fetch = s;
  },
  98,
);
__d(
  'LSJson',
  ['LSDict', 'bs_caml_int64', 'unrecoverableViolation'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = 512;
    function i(a, b, e) {
      b === void 0 && (b = 0);
      e === void 0 && (e = '');
      if (b > h)
        throw c('unrecoverableViolation')(
          'recursion limit exceeded',
          'messenger_comet',
        );
      if (typeof a === 'string' || typeof a === 'number')
        return JSON.stringify(a);
      else if (typeof a === 'boolean') return a ? '1' : '0';
      else if (a === void 0) return 'null';
      else if (typeof a === 'object')
        if (Array.isArray(a))
          return a.tag === 'ls-array'
            ? '[' +
                a
                  .map(function (a, c) {
                    return i(a, b + 1, e + '/' + c.toString());
                  })
                  .join(',') +
                ']'
            : d('bs_caml_int64').to_string(a);
        else if (a instanceof c('LSDict'))
          return (
            '{' +
            Array.from(a.entries())
              .map(function (a) {
                var d = a[0];
                a = a[1];
                if (typeof d === 'string')
                  return JSON.stringify(d) + ':' + i(a, b + 1, e + '/' + d);
                else
                  throw c('unrecoverableViolation')(
                    'key must be a string',
                    'messenger_comet',
                  );
              })
              .join(',') +
            '}'
          );
      throw c('unrecoverableViolation')(
        'type not supported: ' +
          (a === null ? 'null' : typeof a) +
          ', path: ' +
          e,
        'messenger_comet',
      );
    }
    g.stringify = i;
  },
  98,
);
__d(
  'LSLogHistory',
  ['performance'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = [];
    function a() {
      return h;
    }
    function b() {
      h = [];
    }
    function d(a, b) {
      var d;
      c('performance').timing != null
        ? (d = Math.round(
            c('performance').timing.navigationStart + c('performance').now(),
          ))
        : (d = Date.now());
      h.push(
        [d.toString(), b, 'lightspeed_log', 'lightspeed_log_event', a].join(
          ' | ',
        ),
      );
    }
    g.getEntries = a;
    g.clearEntries = b;
    g.log = d;
  },
  98,
);
__d(
  'LS',
  [
    'FBLogger',
    'I64',
    'LSDbKeyComparer',
    'LSDict',
    'LSIterationHelpers',
    'LSJson',
    'LSLogHistory',
    'ODS',
    'base64-js',
    'bs_caml',
    'bs_caml_format',
    'bs_caml_int64',
    'cr:3109',
    'emptyFunction',
    'gkx',
    'qpl',
    'unrecoverableViolation',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function h() {
      var a = babelHelpers.taggedTemplateLiteralLoose(['2']);
      h = function () {
        return a;
      };
      return a;
    }
    function i() {
      var a = babelHelpers.taggedTemplateLiteralLoose(['0']);
      i = function () {
        return a;
      };
      return a;
    }
    function j() {
      var a = babelHelpers.taggedTemplateLiteralLoose(['0']);
      j = function () {
        return a;
      };
      return a;
    }
    function k() {
      var a = babelHelpers.taggedTemplateLiteralLoose(['2']);
      k = function () {
        return a;
      };
      return a;
    }
    var l = 'LS_WEB';
    function m(a) {
      return a.name.match(/secure_|inbox(?!_)/i);
    }
    var n = babelHelpers.extends({}, c('bs_caml_int64'), {
      eq: function (a, b) {
        return (
          (a == null && b == null) ||
          (a != null && b != null && c('bs_caml').i64_eq(a, b))
        );
      },
      neq: function (a, b) {
        return (
          (a == null && b != null) ||
          (a != null && b == null) ||
          (a != null && b != null && c('bs_caml').i64_neq(a, b))
        );
      },
      lt: c('bs_caml').i64_lt,
      gt: c('bs_caml').i64_gt,
      le: c('bs_caml').i64_le,
      ge: c('bs_caml').i64_ge,
      min: c('bs_caml').i64_min,
      max: c('bs_caml').i64_max,
      to_int32: function (a) {
        return a == null ? a : c('bs_caml_int64').to_int32(a);
      },
      to_string: function (a) {
        return a == null ? a : c('bs_caml_int64').to_string(a);
      },
      from_string: function (a) {
        try {
          return c('bs_caml_format').caml_int64_of_string(a);
        } catch (b) {
          throw c('unrecoverableViolation')(
            'Unable to cast "' + a + '" to int64',
            'messenger_comet',
          );
        }
      },
      random: function () {
        var b = a.crypto || a.msCrypto;
        b = Array.from(b.getRandomValues(new Uint32Array(2)));
        b[0] >>>= 1;
        return b;
      },
    });
    function o(a) {
      return c('base64-js').toByteArray(a).buffer;
    }
    var p = {
      to_string: function (a) {
        if (a == null) return void 0;
        var b = new TextDecoder();
        return b.decode(a);
      },
      of_string: function (a) {
        if (a == null) return void 0;
        var b = new TextEncoder();
        return b.encode(a).buffer;
      },
      eq: function (a, b) {
        if (a == null && b == null) return !0;
        if (a == null || b == null) return !1;
        a = new Uint8Array(a);
        b = new Uint8Array(b);
        if (a.length !== b.length) return !1;
        for (var c = 0; c < a.length; c++) if (a[c] !== b[c]) return !1;
        return !0;
      },
      neq: function (a, b) {
        return !p.eq(a, b);
      },
      compareTo: function (a, b) {
        a = new Uint8Array(a);
        b = new Uint8Array(b);
        var c = Math.min(a.length, b.length);
        for (var d = 0; d < c; d++) {
          var e = a[d] - b[d];
          if (e !== 0) return e;
        }
        return a.length === b.length ? 0 : a.length - b.length;
      },
      le: function (a, b) {
        return p.compareTo(a, b) <= 0;
      },
      lt: function (a, b) {
        return p.compareTo(a, b) < 0;
      },
      ge: function (a, b) {
        return p.compareTo(a, b) >= 0;
      },
      gt: function (a, b) {
        return p.compareTo(a, b) > 0;
      },
    };
    function q(a) {
      if (a.length !== 1)
        throw c('unrecoverableViolation')(
          'only literal strings supported',
          'messenger_web_product',
        );
      a = a[0];
      var b = parseInt(a.substr(-8), 16);
      a = parseInt(a.substr(0, a.length - 8), 16);
      return d('I64').asI64([
        (a >>> 1) ^ -(b & 1),
        (((b >>> 1) + (a & 1) * 2147483648) ^ -(b & 1)) >>> 0,
      ]);
    }
    function r(a, b) {
      if (typeof a === 'object' && !Array.isArray(a)) {
        var d, e;
        if (b === 'asc') {
          Object.prototype.hasOwnProperty.call(a, 'gt') && (d = [a.gt, 1]);
          if (Object.prototype.hasOwnProperty.call(a, 'gte')) {
            if (d !== void 0)
              throw c('unrecoverableViolation')(
                'Cannot specify both gt and gte',
                'messenger_web_product',
              );
            d = [a.gte, 0];
          }
          Object.prototype.hasOwnProperty.call(a, 'lt') && (e = [a.lt, 1]);
          if (Object.prototype.hasOwnProperty.call(a, 'lte')) {
            if (e !== void 0)
              throw c('unrecoverableViolation')(
                'Cannot specify both lt and lte',
                'messenger_web_product',
              );
            e = [a.lte, 0];
          }
        } else {
          Object.prototype.hasOwnProperty.call(a, 'lt') && (d = [a.lt, 1]);
          if (Object.prototype.hasOwnProperty.call(a, 'lte')) {
            if (d !== void 0)
              throw c('unrecoverableViolation')(
                'Cannot specify both lt and lte',
                'messenger_web_product',
              );
            d = [a.lte, 0];
          }
          Object.prototype.hasOwnProperty.call(a, 'gt') && (e = [a.gt, 1]);
          if (Object.prototype.hasOwnProperty.call(a, 'gte')) {
            if (e !== void 0)
              throw c('unrecoverableViolation')(
                'Cannot specify both gt and gte',
                'messenger_web_product',
              );
            e = [a.gte, 0];
          }
        }
        return { start: d, end: e };
      }
      return { start: [a, 0], end: [a, 0] };
    }
    function s(a, b, c) {
      var e = a.table(b.name);
      return {
        add: function (a) {
          return e.add(a);
        },
        fetch: function () {
          for (var a = arguments.length, f = new Array(a), g = 0; g < a; g++)
            f[g] = arguments[g];
          return d('LSIterationHelpers').fetch(
            f.length === 0 ? [[[[]], void 0]] : f,
            'asc',
            b,
            c,
            e,
            r,
          );
        },
        fetchDesc: function () {
          for (var a = arguments.length, f = new Array(a), g = 0; g < a; g++)
            f[g] = arguments[g];
          return d('LSIterationHelpers').fetch(
            f.length === 0 ? [[[[]], void 0]] : f,
            'desc',
            b,
            c,
            e,
            r,
          );
        },
        put: function (a) {
          return e.deleteThenInsert(a);
        },
        peekNextAutoIncrementId: function () {
          return e.peekNextAutoIncrementId();
        },
      };
    }
    function t(a, b, d, e) {
      return {
        table: function (f) {
          f = d.tableIds[f];
          if (b === 0 && m(f))
            throw c('unrecoverableViolation')(
              'cannot access secure table from dynamic mode',
              'messenger_web_product',
            );
          return s(a, f, e);
        },
      };
    }
    function u(a) {
      var b = 'unknown_sproc';
      a = a.displayName;
      var c = /\[from (.*)\]/;
      c = c.exec(a);
      c != null && (b = c[1]);
      return b;
    }
    var v = (function () {
      var a = 0,
        d = {},
        e = {};
      function f(a) {
        var b;
        b = (b = e[a]) != null ? b : 0;
        e[a] = b + 1;
      }
      function g(b) {
        if (b in d) return d[b];
        d[b] = a;
        a++;
        return d[b];
      }
      function h(a) {
        var d = a.shouldLog;
        a = a.sprocName;
        f(a);
        if (!d) return;
        d = g(a);
        b('cr:3109') == null
          ? void 0
          : b('cr:3109').markerStart(c('qpl')._(25302991, '143'), d);
        b('cr:3109') == null
          ? void 0
          : b('cr:3109').markerAnnotate(
              c('qpl')._(25302991, '143'),
              { string: { name: a } },
              { instanceKey: d },
            );
      }
      function i(a, d) {
        var e = a.shouldLog;
        a = a.sprocName;
        if (!e) return;
        e = g(a);
        a = d === 'success' ? 2 : 3;
        b('cr:3109') == null
          ? void 0
          : b('cr:3109').markerEnd(c('qpl')._(25302991, '143'), a, e);
      }
      function j(a) {
        i(a, 'success');
      }
      function k(a) {
        i(a, 'failure');
      }
      function l(a) {
        return !1;
      }
      return { call: h, success: j, failure: k, shouldLogSproc: l };
    })();
    function w(a, b, d) {
      b = c('bs_caml_int64').to_string(b);
      var e = function (a) {
        return !d ? '' : d[a] || '';
      };
      return a(b, e).toString();
    }
    function x(a, b, d) {
      b = c('bs_caml_int64').to_string(b);
      var e = function (a) {
        return !d ? '' : d[a] || '';
      };
      return a(b, e).toString();
    }
    function y(a, b, e, f, g, m, s, z) {
      s === void 0 && (s = {});
      z === void 0 && (z = void 0);
      var A = t(m, a, b, s),
        B = [];
      return {
        Map: c('LSDict'),
        constructor: { n: q },
        createArray: function () {
          return Object.defineProperty([], 'tag', { value: 'ls-array' });
        },
        createArrayWithElements: function () {
          for (var a = arguments.length, b = new Array(a), c = 0; c < a; c++)
            b[c] = arguments[c];
          return Object.defineProperty(b, 'tag', { value: 'ls-array' });
        },
        db: A,
        i64: n,
        islc: d('LSIterationHelpers').slice,
        ct: d('LSIterationHelpers').count,
        blob: o,
        blobs: p,
        fe: d('LSIterationHelpers').forEach,
        ftr: d('LSIterationHelpers').filter,
        gb: d('LSIterationHelpers').groupBy,
        logger: function (a) {
          if (z) return { mustfix: z, warn: z, info: z, debug: z };
          var b = c('FBLogger')('messenger_web_product');
          if (
            a.startsWith('epoch mismatch') ||
            a.startsWith('cursor mismatch')
          ) {
            a = function (a) {
              d('LSLogHistory').log(a, 'error');
              a =
                a != null
                  ? a.replace(/[\s,]+/g, '_')
                  : 'epoch_or_cursor_mismatch';
              d('ODS').bumpEntityKey(3185, 'lsplatform', a);
            };
            return {
              mustfix: a,
              warn: a,
              info: function (a) {
                return d('LSLogHistory').log(a, 'log');
              },
              debug: function (a) {
                return d('LSLogHistory').log(a, 'debug');
              },
            };
          } else {
            c('gkx')('7465') || (b.info = c('emptyFunction'));
            return b;
          }
        },
        like: function (a, b) {
          b = b
            .replace(/[.*+?^${}()|[\]\\]/g, '\\$&')
            .replace(/%/g, '.*')
            .replace(/_/g, '.');
          return RegExp(b).test(a);
        },
        loopAsync: function (a, b) {
          function c(d) {
            var e;
            return n.lt(d, a)
              ? b(d).then(function () {
                  return c(n.add(d, q(k())));
                })
              : ((e = window.Promise) != null ? e : Promise).resolve();
          }
          return c(q(j()));
        },
        loopSync: function (a, b) {
          for (var c = q(i()); n.lt(c, a); c = n.add(c, q(h()))) b(c);
        },
        merge: function () {
          function a(a, b) {
            return d('LSDbKeyComparer').compareValue(a, b) > 0 ? a : b;
          }
          function b(a, b) {
            return d('LSDbKeyComparer').compareValue(
              [a[0], -a[1]],
              [b[0], -b[1]],
            ) < 0
              ? a
              : b;
          }
          for (var c = arguments.length, e = new Array(c), f = 0; f < c; f++)
            e[f] = arguments[f];
          var g = e.reduce(function (c, d) {
            d = r(d, 'asc');
            return {
              start:
                c.start && d.start ? a(d.start, c.start) : d.start || c.start,
              end: c.end && d.end ? b(d.end, c.end) : d.end || c.end,
            };
          }, {});
          return babelHelpers.extends(
            {},
            g.start
              ? g.start[1]
                ? { gt: g.start[0] }
                : { gte: g.start[0] }
              : null,
            g.end ? (g.end[1] ? { lt: g.end[0] } : { lte: g.end[0] }) : null,
          );
        },
        n: q,
        nop: async function (b) {
          var d;
          if (typeof b === 'string') {
            d = e[b + '.bs'];
            if (d == null)
              throw c('unrecoverableViolation')(
                'Attempted to call unimplemented native op with id: ' + b,
                'messenger_web_product',
              );
            d.load && (d = await d.load());
            d = d;
          } else d = b;
          try {
            for (
              var f = arguments.length, g = new Array(f > 1 ? f - 1 : 0), h = 1;
              h < f;
              h++
            )
              g[h - 1] = arguments[h];
            return d.apply(void 0, [m, a].concat(g));
          } catch (a) {
            c('FBLogger')('messenger_web_product')
              .catching(a)
              .addMetadata(l, 'NATIVE_OP_ID', b.toString())
              .warn('Native operation %s failed', b.toString());
            throw a;
          }
        },
        notnull: function (a) {
          if (a === null)
            throw c('unrecoverableViolation')(
              'value should not be null',
              'messenger_web_product',
            );
          return a;
        },
        ntop: async function (b, d) {
          var f;
          if (typeof d === 'string') {
            f = e[d.toString()];
            if (f == null)
              throw c('unrecoverableViolation')(
                'Attempted to call unimplemented native type op with type: ' +
                  b +
                  ' and id: ' +
                  d,
                'messenger_web_product',
              );
            f.load && (f = await f.load());
            f = f.call;
          } else f = d.call;
          for (
            var g = arguments.length, h = new Array(g > 2 ? g - 2 : 0), i = 2;
            i < g;
            i++
          )
            h[i - 2] = arguments[i];
          return f.apply(void 0, [m, a].concat(h));
        },
        print: function (a) {},
        resolve: function (a) {
          var b;
          return ((b = window.Promise) != null ? b : Promise).resolve(a);
        },
        rm: n.of_int32(a),
        seq: function (a) {
          return a.slice(1).reduce(function (a, b) {
            return a.then(b);
          }, a[0]());
        },
        slc: function (a, b) {
          return Array.prototype.slice.call(a, b);
        },
        sp: async function (d) {
          var h;
          if (typeof d === 'string') {
            h = e[d];
            if (h == null)
              throw c('unrecoverableViolation')(
                'Attempted to call unimplemented stored procedure with id: ' +
                  d,
                'messenger_web_product',
              );
            h.load && (h = await h.load());
          } else h = d;
          var i = this;
          switch (a) {
            case 0:
              i = y(2, b, e, f, g, m, s, z);
              break;
            case 2:
              i = y(1, b, e, f, g, m, s, z);
              break;
          }
          var j = u(h),
            k = v.shouldLogSproc(j),
            n = { sprocName: j, shouldLog: k };
          B.push(d);
          try {
            v.call(n);
            for (
              var o = arguments.length, p = new Array(o > 1 ? o - 1 : 0), q = 1;
              q < o;
              q++
            )
              p[q - 1] = arguments[q];
            var r = await h.apply(void 0, p.concat([i]));
            v.success(n);
            return r;
          } catch (a) {
            c('FBLogger')('messenger_web_product')
              .catching(a)
              .addMetadata(l, 'SPROC_STACK', B.join('\n'))
              .warn('Sproc %s failed', d);
            v.failure(n);
            throw a;
          } finally {
            B.pop();
          }
        },
        throw: function (a) {
          throw c('unrecoverableViolation')(a, 'messenger_comet');
        },
        ta: d('LSIterationHelpers').toArray,
        toJSON: function (a) {
          return d('LSJson').stringify(a);
        },
        sb: d('LSIterationHelpers').sortBy,
        localize: function () {
          for (var a = arguments.length, b = new Array(a), c = 0; c < a; c++)
            b[c] = arguments[c];
          return w.apply(void 0, [f].concat(b));
        },
        localizeAsync: function () {
          for (var a = arguments.length, b = new Array(a), c = 0; c < a; c++)
            b[c] = arguments[c];
          return Promise.resolve(w.apply(void 0, [f].concat(b)));
        },
        localizeV2: function () {
          for (var a = arguments.length, b = new Array(a), c = 0; c < a; c++)
            b[c] = arguments[c];
          return x.apply(void 0, [g].concat(b));
        },
        localizeV2Async: function () {
          for (var a = arguments.length, b = new Array(a), c = 0; c < a; c++)
            b[c] = arguments[c];
          return Promise.resolve(x.apply(void 0, [g].concat(b)));
        },
      };
    }
    y.n = q;
    g.default = y;
  },
  98,
);
__d(
  'LSStaticDependencies',
  [
    'LSDeleteThenInsertContact',
    'LSDeleteThenInsertThread',
    'LSExecuteFinallyBlockForSyncTransaction',
    'LSExecuteFirstBlockForSyncTransaction',
    'LSRemoveTask',
    'LSSetRegionHint',
    'LSTaskExists',
    'LSUpdateLastSyncCompletedTimestampMsToNow',
    'LSUpsertSequenceId',
    'LSVerifyContactRowExists',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    a = {
      deleteThenInsertContact: c('LSDeleteThenInsertContact'),
      deleteThenInsertThread: c('LSDeleteThenInsertThread'),
      executeFinallyBlockForSyncTransaction: c(
        'LSExecuteFinallyBlockForSyncTransaction',
      ),
      executeFirstBlockForSyncTransaction: c(
        'LSExecuteFirstBlockForSyncTransaction',
      ),
      removeTask: c('LSRemoveTask'),
      setRegionHint: c('LSSetRegionHint'),
      taskExists: c('LSTaskExists'),
      updateLastSyncCompletedTimestampMsToNow: c(
        'LSUpdateLastSyncCompletedTimestampMsToNow',
      ),
      upsertSequenceId: c('LSUpsertSequenceId'),
      verifyContactRowExists: c('LSVerifyContactRowExists'),
    };
    g.staticCachedModules = a;
  },
  98,
);
__d(
  'LSDynamicDependencies',
  [
    'Bootloader',
    'LSStaticDependencies',
    'Promise',
    'RelayFBModuleLoader',
    'SiteData',
    'regeneratorRuntime',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = babelHelpers['extends'](
      {},
      d('LSStaticDependencies').staticCachedModules,
    );
    function a(a) {
      var c = [];
      for (
        var a = a,
          e = Array.isArray(a),
          g = 0,
          a = e
            ? a
            : a[
                typeof Symbol === 'function' ? Symbol.iterator : '@@iterator'
              ]();
        ;

      ) {
        var i;
        if (e) {
          if (g >= a.length) break;
          i = a[g++];
        } else {
          g = a.next();
          if (g.done) break;
          i = g.value;
        }
        i = i;
        var j = i.name;
        j != null && !(j in h) && c.push(i);
      }
      var k = b('Promise')
        .all(
          c.map(function (e) {
            var c, a;
            return b('regeneratorRuntime').async(
              function (f) {
                while (1)
                  switch ((f.prev = f.next)) {
                    case 0:
                      c = e.name;
                      if (!(c == null)) {
                        f.next = 3;
                        break;
                      }
                      return f.abrupt('return');
                    case 3:
                      h[c] = {
                        load: function () {
                          return b('regeneratorRuntime').async(
                            function (a) {
                              while (1)
                                switch ((a.prev = a.next)) {
                                  case 0:
                                    a.next = 2;
                                    return b('regeneratorRuntime').awrap(k);
                                  case 2:
                                    return a.abrupt('return', h[c]);
                                  case 3:
                                  case 'end':
                                    return a.stop();
                                }
                            },
                            null,
                            this,
                          );
                        },
                      };
                      f.next = 6;
                      return b('regeneratorRuntime').awrap(
                        d('RelayFBModuleLoader').load(e.value),
                      );
                    case 6:
                      (a = f.sent), (h[c] = a);
                    case 8:
                    case 'end':
                      return f.stop();
                  }
              },
              null,
              this,
            );
          }),
        )
        .then(function (a) {});
      return k;
    }
    function i(a, b, c) {
      a.loadModules.call(a, b, function () {
        for (var a = arguments.length, b = new Array(a), d = 0; d < a; d++)
          b[d] = arguments[d];
        return c(b);
      });
    }
    function j(a) {
      return a.charAt(0).toUpperCase() + a.slice(1);
    }
    function e(a, d, e) {
      var f = new Map();
      for (
        var a = (a = a) != null ? a : [],
          g = Array.isArray(a),
          k = 0,
          a = g
            ? a
            : a[
                typeof Symbol === 'function' ? Symbol.iterator : '@@iterator'
              ]();
        ;

      ) {
        var l;
        if (g) {
          if (k >= a.length) break;
          l = a[k++];
        } else {
          k = a.next();
          if (k.done) break;
          l = k.value;
        }
        l = l;
        l in h || f.set(l, 'LS' + j(l));
      }
      for (
        k = (l = d) != null ? l : [],
          g = Array.isArray(k),
          a = 0,
          k = g
            ? k
            : k[
                typeof Symbol === 'function' ? Symbol.iterator : '@@iterator'
              ]();
        ;

      ) {
        if (g) {
          if (a >= k.length) break;
          d = k[a++];
        } else {
          a = k.next();
          if (a.done) break;
          d = a.value;
        }
        l = d;
        d = l + '.bs';
        d in h || f.set(d, 'LS' + j(l) + '.nop');
      }
      for (
        l = (d = e) != null ? d : [],
          a = Array.isArray(l),
          g = 0,
          l = a
            ? l
            : l[
                typeof Symbol === 'function' ? Symbol.iterator : '@@iterator'
              ]();
        ;

      ) {
        if (a) {
          if (g >= l.length) break;
          k = l[g++];
        } else {
          g = l.next();
          if (g.done) break;
          k = g.value;
        }
        e = k;
        e in h || f.set(e, 'LS' + j(e));
      }
      if (f.size === 0) return b('Promise').resolve();
      var m = new (b('Promise'))(function (a) {
        var d = {},
          e = [],
          g = function () {
            if (k) {
              if (l >= j.length) return 'break';
              n = j[l++];
            } else {
              l = j.next();
              if (l.done) return 'break';
              n = l.value;
            }
            var a = n,
              c = a[0];
            a = a[1];
            d[a] = { be: 1, r: [] };
            e.push(a);
            h[c] = {
              load: function () {
                return b('regeneratorRuntime').async(
                  function (a) {
                    while (1)
                      switch ((a.prev = a.next)) {
                        case 0:
                          a.next = 2;
                          return b('regeneratorRuntime').awrap(m);
                        case 2:
                          return a.abrupt('return', h[c]);
                        case 3:
                        case 'end':
                          return a.stop();
                      }
                  },
                  null,
                  this,
                );
              },
            };
          };
        for (
          var j = f,
            k = Array.isArray(j),
            l = 0,
            j = k
              ? j
              : j[
                  typeof Symbol === 'function' ? Symbol.iterator : '@@iterator'
                ]();
          ;

        ) {
          var n,
            o = g();
          if (o === 'break') break;
        }
        c('Bootloader').handlePayload({
          compMap: d,
          consistency: { rev: c('SiteData').client_revision },
        });
        i(c('Bootloader'), e, function (b) {
          Array.from(f.entries()).forEach(function (a, c) {
            var d = a[0];
            a[1];
            h[d] = b[c];
          }),
            a();
        });
      });
      return m;
    }
    g.cachedModules = h;
    g.downloadRelayDependencies = a;
    g.downloadBootloaderDependencies = e;
  },
  98,
);
__d(
  'LS.bs',
  [
    'LS',
    'LSDynamicDependencies',
    'LSLocalizedStrings',
    'LSLocalizedStringsV2',
    'LSMetadata',
  ],
  function (a, b, c, d, e, f) {
    'use strict';
    var g = b('LSLocalizedStringsV2'),
      h = b('LSLocalizedStrings'),
      i = b('LSDynamicDependencies').cachedModules,
      j = b('LSMetadata').metadata;
    function a(a) {
      return b('LS')(1, j, i, h, g, a, 0);
    }
    c = b('LSDynamicDependencies').cachedModules;
    f.make = a;
    f.cachedModules = c;
  },
  null,
);
__d(
  'LSDatabaseType.bs',
  ['bs_caml_int64'],
  function (a, b, c, d, e, f) {
    'use strict';
    a = b('bs_caml_int64').zero;
    c = b('bs_caml_int64').one;
    d = [0, 2];
    e = [0, 3];
    b = [0, 4];
    var g = [0, 5],
      h = [0, 6],
      i = [0, 7],
      j = [0, 8],
      k = [0, 9],
      l = [0, 10],
      m = [0, 11],
      n = [0, 12],
      o = [0, 13],
      p = [0, 14],
      q = [0, 15],
      r = [0, 16],
      s = [0, 17],
      t = [0, 18],
      u = [0, 19],
      v = [0, 20],
      w = [0, 21],
      x = [0, 22],
      y = [0, 23],
      z = [0, 24],
      A = [0, 25],
      B = [0, 26],
      C = [0, 27],
      D = [0, 28],
      E = [0, 29],
      F = [0, 30],
      G = [0, 31],
      H = [0, 32],
      I = [0, 33],
      J = [0, 34],
      K = [0, 35],
      L = [0, 36],
      M = [0, 37],
      N = [0, 38],
      O = [0, 39],
      P = [0, 40],
      Q = [0, 41],
      R = [0, 42],
      S = [0, 43],
      T = [0, 44],
      U = [0, 45],
      V = [0, 46],
      W = [0, 47],
      X = [0, 48],
      Y = [0, 49],
      Z = [0, 50],
      $ = [0, 51],
      aa = [0, 52],
      ba = [0, 53],
      ca = [0, 54],
      da = [0, 55],
      ea = [0, 56],
      fa = [0, 57],
      ga = [0, 59],
      ha = [0, 60],
      ia = [0, 61],
      ja = [0, 62],
      ka = [0, 63],
      la = [0, 64],
      ma = [0, 65],
      na = [0, 66],
      oa = [0, 67],
      pa = [0, 68],
      qa = [0, 69],
      ra = [0, 70],
      sa = [0, 71],
      ta = [0, 72],
      ua = [0, 73],
      va = [0, 74],
      wa = [0, 75],
      xa = [0, 76],
      ya = [0, 77],
      za = [0, 78],
      Aa = [0, 79],
      Ba = [0, 80],
      Ca = [0, 81],
      Da = [0, 82],
      Ea = [0, 84],
      Fa = [0, 85],
      Ga = [0, 86],
      Ha = [0, 87],
      Ia = [0, 88],
      Ja = [0, 89],
      Ka = [0, 90],
      La = [0, 91],
      Ma = [0, 92],
      Na = [0, 93],
      Oa = [0, 94],
      Pa = [0, 95],
      Qa = [0, 96],
      Ra = [0, 97],
      Sa = [0, 98],
      Ta = [0, 99],
      Ua = [0, 100],
      Va = [0, 101],
      Wa = [0, 102],
      Xa = [0, 103],
      Ya = [0, 104],
      Za = [0, 105],
      $a = [0, 106],
      ab = [0, 107],
      bb = [0, 108],
      cb = [0, 109],
      db = [0, 110],
      eb = [0, 111],
      fb = [0, 112],
      gb = [0, 113],
      hb = [0, 114],
      ib = [0, 115],
      jb = [0, 116],
      kb = [0, 117],
      lb = [0, 118],
      mb = [0, 119],
      nb = [0, 120],
      ob = [0, 121],
      pb = [0, 122],
      qb = [0, 123],
      rb = [0, 124],
      sb = [0, 125],
      tb = [0, 126],
      ub = [0, 127],
      vb = [0, 128],
      wb = [0, 129],
      xb = [0, 130],
      yb = [0, 131],
      zb = [0, 132],
      Ab = [0, 133],
      Bb = [0, 134],
      Cb = [0, 135],
      Db = [0, 136];
    f.test = a;
    f.mailbox = c;
    f.contact = d;
    f.appAlerts = e;
    f.core = b;
    f.stories = g;
    f.presence = h;
    f.ranking = i;
    f.experiment = j;
    f.search = k;
    f.securemailbox = l;
    f.inboxAds = m;
    f.sticker = n;
    f.omnistoreRevisionTest = o;
    f.frx = p;
    f.payments = q;
    f.settings = r;
    f.gif = s;
    f.arEffects = t;
    f.platformExtensionSdk = u;
    f.businessTab = v;
    f.composerMenus = w;
    f.experimentalContactPhoneNumber = x;
    f.forwardContents = y;
    f.typing = z;
    f.qp = A;
    f.inthreadbanner = B;
    f.logSampling = C;
    f.threadTheme = D;
    f.mediaSend = E;
    f.contactUpload = F;
    f.aloha = G;
    f.omnistoreSimpleTest = H;
    f.booking = I;
    f.oneTimeSyncTest = J;
    f.threadEmoji = K;
    f.universalLinks = L;
    f.counters = M;
    f.emptyTest = N;
    f.accountSettings = O;
    f.videoChatLink = P;
    f.zeroRating = Q;
    f.connectivity = R;
    f.switchAccountBadging = S;
    f.emergencyPoll = T;
    f.cowatch = U;
    f.switchAccountProfiles = V;
    f.$$location = W;
    f.syncWatchdog = X;
    f.bloks = Y;
    f.mediaEditing = Z;
    f.pushNotifications = $;
    f.switchAccountBadgingRealtime = aa;
    f.dasmDebug = ba;
    f.testTwo = ca;
    f.dataTrace = da;
    f.mediaSharing = ea;
    f.pluginExtensions = fa;
    f.localUserSettings = ga;
    f.groups = ha;
    f.dabl = ia;
    f.linkedGroups = ja;
    f.fxcal = ka;
    f.rooms = la;
    f.proactiveWarnings = ma;
    f.messagingAds = na;
    f.supportInbox = oa;
    f.coreClient = pa;
    f.threadCoPresence = qa;
    f.marketplace = ra;
    f.carrierMessaging = sa;
    f.notificationsClient = ta;
    f.cat = ua;
    f.composerSettings = va;
    f.groupThreadImage = wa;
    f.coplayMetadata = xa;
    f.searchUserGroups = ya;
    f.tutorial = za;
    f.paidAds = Aa;
    f.avatarsCoPresence = Ba;
    f.graphql = Ca;
    f.transcribe = Da;
    f.ixtServerTrigger = Ea;
    f.novi = Fa;
    f.testFramework = Ga;
    f.broker = Ha;
    f.openMessenger = Ia;
    f.anonymousCredentials = Ja;
    f.mlModel = Ka;
    f.localAuth = La;
    f.soundBite = Ma;
    f.encryptedBackups = Na;
    f.businessOrderManagement = Oa;
    f.e2eeMessagingMetadataMailbox = Pa;
    f.communitiesMailbox = Qa;
    f.mostLikelyToPollQuestions = Ra;
    f.breakoutSessions = Sa;
    f.messagingNotificationConfigs = Ta;
    f.sandboxSelector = Ua;
    f.gamesBotThread = Va;
    f.atcDaemon = Wa;
    f.coPresence = Xa;
    f.communityExclusive = Ya;
    f.clientOnlySample = Za;
    f.urlBlackhole = $a;
    f.sharing = ab;
    f.encryptedBackupsVersioning = bb;
    f.rpPolls = cb;
    f.everythingTogether = db;
    f.immersiveModesSpaces = eb;
    f.inAppPurchaseKit = fb;
    f.decentralizedTypes = gb;
    f.armadilloDevice = hb;
    f.staticEntryPoint = ib;
    f.giphyCategory = jb;
    f.communityMessagingPresence = kb;
    f.reactionsV2 = lb;
    f.threadSubscription = mb;
    f.communityMessagingSearch = nb;
    f.communityMessagingDiscovery = ob;
    f.communityMessagingTrending = pb;
    f.widget = qb;
    f.messengerCallsTab = rb;
    f.botSuggestions = sb;
    f.testThree = tb;
    f.unifiedBusinessInboxIgdMailbox = ub;
    f.testOmnistoreBatchable = vb;
    f.contentExplorer = wb;
    f.unifiedBusinessInboxWaMailbox = xb;
    f.lsStoriesParticipantSettingsV2 = yb;
    f.lsFeatureLimits = zb;
    f.lsUniversalUserPrefs = Ab;
    f.step = Bb;
    f.workroomsCoPresence = Cb;
    f.tam = Db;
  },
  null,
);
__d(
  'LSMailboxMessagesRangeQueryDirection.bs',
  ['bs_caml_int64'],
  function (a, b, c, d, e, f) {
    'use strict';
    a = b('bs_caml_int64').neg_one;
    c = b('bs_caml_int64').zero;
    d = b('bs_caml_int64').one;
    f.beforeLegacy = a;
    f.before = c;
    f.after = d;
  },
  null,
);
__d(
  'LSBitOffset.bs',
  ['LSBitFlag.bs', 'bs_caml_int64'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function a(a, b) {
      a = c('bs_caml_int64').lsl_(
        c('bs_caml_int64').one,
        c('bs_caml_int64').to_int32(a),
      );
      return d('LSBitFlag.bs').set(a, b);
    }
    function b(a, b) {
      a = c('bs_caml_int64').lsl_(
        c('bs_caml_int64').one,
        c('bs_caml_int64').to_int32(a),
      );
      return d('LSBitFlag.bs').clear(a, b);
    }
    g.set = a;
    g.clear = b;
    g.empty = c('bs_caml_int64').zero;
  },
  98,
);
__d(
  'LSContactBitOffset.bs',
  [
    'LSBitFlag.bs',
    'LSBitOffset.bs',
    'bs_belt_Option',
    'bs_caml',
    'bs_caml_int64',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function a(a, b) {
      if (c('bs_caml').i64_ge(a, [0, 64])) {
        var e = b.capabilities2;
        if (e === void 0) return;
        e = c('bs_caml_int64').sub(a, [0, 64]);
        e = c('bs_caml_int64').lsl_(
          c('bs_caml_int64').one,
          c('bs_caml_int64').to_int32(e),
        );
        return d('LSBitFlag.bs').has(
          e,
          c('bs_belt_Option').getWithDefault(
            b.capabilities2,
            d('LSBitOffset.bs').empty,
          ),
        );
      }
      e = b.capabilities;
      if (e === void 0) return;
      e = c('bs_caml_int64').lsl_(
        c('bs_caml_int64').one,
        c('bs_caml_int64').to_int32(a),
      );
      return d('LSBitFlag.bs').has(
        e,
        c('bs_belt_Option').getWithDefault(
          b.capabilities,
          d('LSBitOffset.bs').empty,
        ),
      );
    }
    b = a;
    g.has = b;
  },
  98,
);
__d(
  'LSContactCapabilityBitOffset.bs',
  ['bs_caml_int64'],
  function (a, b, c, d, e, f) {
    'use strict';
    a = b('bs_caml_int64').zero;
    c = b('bs_caml_int64').one;
    d = [0, 2];
    e = [0, 3];
    b = [0, 4];
    var g = [0, 5],
      h = [0, 6],
      i = [0, 7],
      j = [0, 8],
      k = [0, 9],
      l = [0, 10],
      m = [0, 11],
      n = [0, 12],
      o = [0, 13],
      p = [0, 14],
      q = [0, 15],
      r = [0, 16],
      s = [0, 17],
      t = [0, 18],
      u = [0, 19],
      v = [0, 20],
      w = [0, 21],
      x = [0, 22],
      y = [0, 23],
      z = [0, 24],
      A = [0, 25],
      B = [0, 26],
      C = [0, 27],
      D = [0, 28],
      E = [0, 29],
      F = [0, 64],
      G = [0, 65],
      H = [0, 66],
      I = [0, 67],
      J = [0, 68],
      K = [0, 69],
      L = [0, 70],
      M = [0, 71],
      N = [0, 72],
      O = [0, 73],
      P = [0, 74],
      Q = [0, 75],
      R = [0, 76],
      S = [0, 77],
      T = [0, 78],
      U = [0, 79],
      V = [0, 80],
      W = [0, 81];
    f.message = a;
    f.replyMessage = c;
    f.joinGroup = d;
    f.block = e;
    f.see = b;
    f.seeFacebookProfile = g;
    f.payment = h;
    f.camera = i;
    f.mediaPicker = j;
    f.sticker = k;
    f.gif = l;
    f.audioClips = m;
    f.sharedMedia = n;
    f.reactions = o;
    f.seenHeads = p;
    f.threadDetails = q;
    f.rtcVideoCall = r;
    f.rtcVoiceCall = s;
    f.threadFeedbackAndReport = t;
    f.goToSecretConversation = u;
    f.makeAdmin = v;
    f.removeFromGroup = w;
    f.removeAsAdmin = x;
    f.verified = y;
    f.disappearingMode = z;
    f.seeMessage = A;
    f.pseudoBlock = B;
    f.pushable = C;
    f.messageBlockPlaced = D;
    f.facebookBlockPlaced = E;
    f.viewerIsUnconnected = F;
    f.pagePlatformBot = G;
    f.restrictPlaced = H;
    f.isXacEligible = I;
    f.isGroupsXacEligible = J;
    f.isGroupsXacCallingEligible = K;
    f.isE2eeOnly = L;
    f.isEligibleForSafetyNotice = M;
    f.novi = N;
    f.isContactShareable = O;
    f.isHidden = P;
    f.isThreadCutoverUser = Q;
    f.hasCutoverThread = R;
    f.isCommunityBotPage = S;
    f.isNotSearchable = T;
    f.canUpsellVoicemail = U;
    f.defaultE2eeThreads = V;
    f.incallCaptions = W;
  },
  null,
);
__d(
  'ReQL.bs',
  ['ReQL', 'bs_js_dict', 'unrecoverableViolation'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function a(a, b) {
      var d = function a(b) {
        var d = b.NAME;
        if (d !== 'range')
          if (d === 'lessThan')
            return c('bs_js_dict').fromArray([['lt', b.VAL]]);
          else if (d === 'greaterThan')
            return c('bs_js_dict').fromArray([['gt', b.VAL]]);
          else if (d === 'greaterThanOrEqual')
            return c('bs_js_dict').fromArray([['gte', b.VAL]]);
          else return c('bs_js_dict').fromArray([['lte', b.VAL]]);
        d = b.VAL;
        return c('bs_js_dict').fromArray(
          c('bs_js_dict')
            .entries(a(d[0]))
            .concat(c('bs_js_dict').entries(a(d[1]))),
        );
      };
      return a.bounds(d(b));
    }
    function b(a, b) {
      if (!b)
        return c('unrecoverableViolation')(
          'only support 5',
          'messenger_web_product',
        );
      var d = b.tl;
      b = b.hd;
      if (!d) return a.getKeyRange(b);
      var e = d.tl;
      d = d.hd;
      if (!e) return a.getKeyRange(b, d);
      var f = e.tl;
      e = e.hd;
      if (!f) return a.getKeyRange(b, d, e);
      var g = f.tl;
      f = f.hd;
      if (g)
        if (g.tl)
          return c('unrecoverableViolation')(
            'only support 5',
            'messenger_web_product',
          );
        else return a.getKeyRange(b, d, e, f, g.hd);
      else return a.getKeyRange(b, d, e, f);
    }
    function e(a, b) {
      return a.filter(b);
    }
    function f(a, b) {
      return a.map(b);
    }
    function h(a) {
      return d('ReQL').toArrayAsync(a);
    }
    function i(a, b) {
      return d('ReQL').mergeJoin(a, b);
    }
    function j(a, b) {
      return d('ReQL').leftJoin(a, b);
    }
    function k(a, b) {
      return a.take(b);
    }
    function l(a) {
      return d('ReQL').firstAsync(a);
    }
    function m(a) {
      return d('ReQL').firstExnAsync(a);
    }
    function n(a) {
      return d('ReQL').fromTableAscending(a);
    }
    function o(a) {
      return d('ReQL').fromTableDescending(a);
    }
    function p(a) {
      return d('ReQL').fromTableAscending(a);
    }
    function q(a) {
      return d('ReQL').fromTableDescending(a);
    }
    e = e;
    f = f;
    h = h;
    i = i;
    j = j;
    a = a;
    b = b;
    k = k;
    l = l;
    m = m;
    n = n;
    o = o;
    p = p;
    q = q;
    g.filter = e;
    g.map = f;
    g.toArray = h;
    g.mergeJoin = i;
    g.leftJoin = j;
    g.bounds = a;
    g.getKeyRange = b;
    g.take = k;
    g.first = l;
    g.firstExn = m;
    g.fromTableAscending = n;
    g.fromTableDescending = o;
    g.fromIndexAscending = p;
    g.fromIndexDescending = q;
  },
  98,
);
__d(
  'MAWVerifyThreadCutover.bs',
  [
    'LSContactBitOffset.bs',
    'LSContactCapabilityBitOffset.bs',
    'MAWGating',
    'Promise',
    'ReQL.bs',
    'bs_belt_Option',
    'bs_caml_format',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function h(a, e) {
      if (d('MAWGating').isThreadLevelCutoverEnabled())
        return a.then(function (a) {
          var f = d('ReQL.bs')
            .first(
              d('ReQL.bs').getKeyRange(
                d('ReQL.bs').fromTableAscending(a.table('cutover_threads')),
                { hd: e, tl: 0 },
              ),
            )
            .then(c('bs_belt_Option').isSome);
          a = d('ReQL.bs')
            .first(
              d('ReQL.bs').getKeyRange(
                d('ReQL.bs').fromTableAscending(a.table('contacts')),
                { hd: e, tl: 0 },
              ),
            )
            .then(function (a) {
              return a;
            });
          return b('Promise')
            .all([f, a])
            .then(function (a) {
              var b = c('bs_belt_Option').mapWithDefault(
                a[1],
                !1,
                function (a) {
                  return c('bs_belt_Option').getWithDefault(
                    d('LSContactBitOffset.bs').has(
                      d('LSContactCapabilityBitOffset.bs').hasCutoverThread,
                      a,
                    ),
                    !1,
                  );
                },
              );
              if (a[0]) return !0;
              else return b;
            });
        });
      else return b('Promise').resolve(!1);
    }
    function a(a, d) {
      if (d == null) return b('Promise').resolve(!1);
      else return h(a, c('bs_caml_format').caml_int64_of_string(d));
    }
    g.verifyThreadCutover = h;
    g.verifyThreadCutoverWithStringInput = a;
  },
  98,
);
__d(
  'MWLSPreloadThreadForContact.bs',
  [
    'LS.bs',
    'LSDatabaseDeferred.bs',
    'LSDatabaseType.bs',
    'LSIssueMessagesRangeQuery',
    'LSMailboxMessagesRangeQueryDirection.bs',
    'LSVerifyThreadRowExists',
    'MAWVerifyThreadCutover.bs',
    'ReQL.bs',
    'bs_caml_format',
    'promiseDone',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function h(a) {
      var b = d('LSDatabaseDeferred.bs').db.then(function (b) {
        return b.runInTransaction(function (b) {
          var e = c('bs_caml_format').caml_int64_of_string(a);
          return d('MAWVerifyThreadCutover.bs')
            .verifyThreadCutover(d('LSDatabaseDeferred.bs').db, e)
            .then(function (a) {
              if (a) return;
              else
                return d('ReQL.bs')
                  .first(
                    d('ReQL.bs').getKeyRange(
                      d('ReQL.bs').fromTableAscending(
                        b.table('messages_ranges_v2__generated'),
                      ),
                      { hd: e, tl: 0 },
                    ),
                  )
                  .then(function (a) {
                    if (a !== void 0)
                      if (
                        a.minMessageId === a.maxMessageId &&
                        a.minMessageId !== ''
                      )
                        return c('LSIssueMessagesRangeQuery')(
                          e,
                          a.minTimestampMs,
                          d('LSMailboxMessagesRangeQueryDirection.bs').before,
                          d('LS.bs').make(b),
                        );
                      else return;
                    else
                      return c('LSVerifyThreadRowExists')(
                        e,
                        void 0,
                        d('LSDatabaseType.bs').mailbox,
                        d('LS.bs').make(b),
                      );
                  });
            });
        }, 'readwrite');
      });
      c('promiseDone')(b);
    }
    function a() {
      return h;
    }
    g.verifyThreadExists = h;
    g.usePreloaderForUser = a;
  },
  98,
); /*FB_PKG_DELIM*/
__d(
  'LSTableSchemas',
  [],
  function (a, b, c, d, e, f) {
    e.exports = [
      [
        { name: 'sync_groups', id: 1, primary_key: ['groupId'] },
        {
          name: 'pending_tasks',
          id: 2,
          primary_key: ['taskId'],
          indexes: { queueNameTaskId: ['queueName', 'taskId'] },
          auto_increment: !0,
        },
        {
          name: 'network_requests',
          id: 3,
          primary_key: ['taskQueueName', 'syncDatabaseId'],
        },
        { name: '_user_info', id: 4, primary_key: ['id'] },
        {
          name: 'pending_fire_and_forget_tasks',
          id: 5,
          primary_key: ['taskId'],
          auto_increment: !0,
        },
        {
          name: 'user_visible_errors',
          id: 6,
          primary_key: ['errorId'],
          auto_increment: !0,
        },
        {
          name: 'mailbox_task_completion_notification_context',
          id: 232,
          primary_key: ['notificationScopeKey'],
        },
        {
          name: 'mailbox_task_completion_api_tasks',
          id: 233,
          primary_key: ['taskId'],
        },
      ],
      [
        {
          name: 'contacts',
          id: 7,
          primary_key: ['id'],
          indexes: { blockedByViewerStatusId: ['blockedByViewerStatus', 'id'] },
        },
        { name: 'ig_contact_info', id: 176, primary_key: ['contactId'] },
        { name: 'work_contact_info', id: 210, primary_key: ['id'] },
        {
          name: 'contextual_profile_v1',
          id: 216,
          primary_key: ['ownerId', 'associatedEntityId'],
          indexes: {
            associatedEntityIdAndOwner: ['associatedEntityId', 'ownerId'],
          },
        },
        { name: 'fb_transport_contacts', id: 240, primary_key: ['pk'] },
      ],
      [
        {
          name: 'reactions',
          id: 8,
          primary_key: ['threadKey', 'messageId', 'actorId'],
        },
        {
          name: 'threads',
          id: 9,
          primary_key: ['threadKey'],
          indexes: {
            lastActivityTimestampMs: ['lastActivityTimestampMs', 'threadKey'],
            parentThreadKeyLastActivityTimestampMs: [
              'parentThreadKey',
              'lastActivityTimestampMs',
              'threadKey',
            ],
            clientThreadKey: ['clientThreadKey', 'threadKey'],
            threadTypeLastActivityTimestampMs: [
              'threadType',
              'lastActivityTimestampMs',
              'threadKey',
            ],
          },
        },
        {
          name: 'threads_ranges_v2__generated',
          id: 10,
          primary_key: [
            'parentThreadKey',
            'minThreadKey',
            'minLastActivityTimestampMs',
          ],
        },
        {
          name: 'messages',
          id: 12,
          primary_key: ['threadKey', 'timestampMs', 'messageId'],
          indexes: {
            optimistic: ['offlineThreadingId'],
            messageDisplayOrder: [
              'threadKey',
              'primarySortKey',
              'secondarySortKey',
              'messageId',
            ],
            messageId: ['messageId'],
          },
        },
        {
          name: 'messages_ranges_v2__generated',
          id: 13,
          primary_key: ['threadKey', 'minTimestampMs', 'minMessageId'],
        },
        {
          name: 'participants',
          id: 14,
          primary_key: ['threadKey', 'contactId'],
          indexes: {
            threadKeyReadWatermarkTimestampMs: [
              'threadKey',
              'readWatermarkTimestampMs',
              'contactId',
            ],
            threadKeyDeliveredWatermarkTimestampMs: [
              'threadKey',
              'deliveredWatermarkTimestampMs',
              'contactId',
            ],
          },
        },
        { name: 'ctas', id: 15, primary_key: ['ctaId'] },
        {
          name: 'attachments',
          id: 16,
          primary_key: ['threadKey', 'messageId', 'attachmentFbid'],
          indexes: {
            fk_messages: [
              'threadKey',
              'timestampMs',
              'messageId',
              'attachmentFbid',
            ],
          },
        },
        {
          name: 'attachments_ranges_v2__generated',
          id: 17,
          primary_key: ['threadKey', 'mediaGroup', 'minTimestampMs'],
        },
        {
          name: 'attachment_items',
          id: 18,
          primary_key: ['attachmentFbid', 'attachmentIndex'],
          indexes: {
            fk_attachments: [
              'threadKey',
              'messageId',
              'attachmentFbid',
              'attachmentIndex',
            ],
          },
        },
        {
          name: 'attachment_ctas',
          id: 19,
          primary_key: ['ctaId'],
          indexes: {
            fk_attachments: [
              'threadKey',
              'messageId',
              'attachmentFbid',
              'ctaId',
            ],
          },
        },
        {
          name: 'quick_reply_ctas',
          id: 20,
          primary_key: ['threadKey', 'messageId', 'ctaId'],
        },
        {
          name: 'm_suggestions',
          id: 21,
          primary_key: ['threadKey', 'timestampMs', 'suggestionId'],
        },
        { name: 'rtc_signals', id: 22, primary_key: ['timestampMs', 'type_'] },
        {
          name: 'rtc_ongoing_calls_on_threads_v2',
          id: 23,
          primary_key: ['threadKey'],
        },
        {
          name: 'rtc_multiway_call_initiation_conference_names',
          id: 24,
          primary_key: ['threadKey'],
        },
        { name: 'mailbox_metadata', id: 25, primary_key: ['id'] },
        {
          name: 'group_membership_approval_requests',
          id: 26,
          primary_key: ['threadKey', 'contactId'],
        },
        {
          name: 'admin_message_ctas',
          id: 27,
          primary_key: ['threadKey', 'messageId', 'ctaId'],
          indexes: { ctaId: ['ctaId'] },
        },
        { name: 'thread_nullstate', id: 28, primary_key: ['threadKey'] },
        {
          name: 'thread_nullstate_ctas',
          id: 29,
          primary_key: ['ctaId'],
          indexes: { threadKeyCtaId: ['threadKey', 'ctaId'] },
        },
        {
          name: 'focus_mode_ctas',
          id: 30,
          primary_key: ['threadKey', 'messageId', 'ctaId'],
        },
        {
          name: 'messages_optimistic_context',
          id: 31,
          primary_key: ['taskId'],
        },
        { name: 'threads_optimistic_context', id: 32, primary_key: ['taskId'] },
        {
          name: 'messages_status',
          id: 33,
          primary_key: [
            'messageId',
            'threadKey',
            'timestampMs',
            'threadKeyFromParticipants',
            'contactId',
            'type_',
          ],
        },
        { name: 'message_requests', id: 34, primary_key: ['threadKey'] },
        { name: 'folder_metadata', id: 35, primary_key: ['parentThreadKey'] },
        { name: 'polls', id: 38, primary_key: ['pollId'] },
        {
          name: 'poll_options_v2',
          id: 39,
          primary_key: ['pollId', 'optionId'],
        },
        {
          name: 'poll_votes_v2',
          id: 40,
          primary_key: ['pollId', 'optionId', 'contactId'],
        },
        {
          name: 'pinned_messages_v2',
          id: 155,
          primary_key: ['threadKey', 'messageId'],
        },
        {
          name: 'filtered_threads_ranges_v3__generated',
          id: 247,
          primary_key: [
            'parentThreadKey',
            'minThreadKey',
            'minLastActivityTimestampMs',
            'threadRangeFilter',
            'folderName',
            'secondaryThreadRangeFilter',
            'threadRangeFilterValue',
          ],
        },
        { name: 'community_folders', id: 162, primary_key: ['folderId'] },
        {
          name: 'community_members',
          id: 170,
          primary_key: ['communityId', 'contactId', 'source'],
          indexes: {
            communityContactId: ['communityId', 'contactId', 'source'],
            communitySource: ['communityId', 'source', 'name', 'contactId'],
          },
        },
        {
          name: 'community_members_ranges_v2__generated',
          id: 189,
          primary_key: ['communityId', 'isAdmin', 'minName', 'source'],
        },
        {
          name: 'attachment_conversion',
          id: 164,
          primary_key: ['attachmentFbid'],
        },
        {
          name: 'saved_messages',
          id: 165,
          primary_key: ['threadKey', 'messageId'],
        },
        { name: 'rtc_rooms_on_threads', id: 181, primary_key: ['threadKey'] },
        { name: 'ig_thread_info', id: 194, primary_key: ['threadKey'] },
        {
          name: 'group_invites',
          id: 197,
          primary_key: ['threadKey', 'inviterId', 'inviteeId'],
          indexes: {
            threadKeyInviterIDInviteeID: [
              'threadKey',
              'inviterId',
              'inviteeId',
            ],
          },
        },
        { name: 'inbox_threads_ranges', id: 198, primary_key: ['syncGroup'] },
        {
          name: 'community_direct_invites_presets',
          id: 199,
          primary_key: ['communityId', 'presetType', 'source'],
        },
        {
          name: 'msg_pinned_messages_v2',
          id: 205,
          primary_key: ['threadKey', 'messageId', 'pinnedTimestampMs'],
          indexes: {
            pinnedMessageDisplayOrder: [
              'threadKey',
              'pinnedTimestampMs',
              'messageId',
            ],
          },
        },
        {
          name: 'filtered_messages_ranges_v2__generated',
          id: 211,
          primary_key: [
            'threadKey',
            'mailboxType',
            'minTimestampMs',
            'minMessageId',
            'messageRangeFilter',
          ],
        },
        { name: 'taken_down_threads', id: 212, primary_key: ['threadKey'] },
        {
          name: 'participant_list_queries',
          id: 219,
          primary_key: ['threadKey'],
        },
        {
          name: 'sync_group_threads_ranges',
          id: 220,
          primary_key: ['syncGroup', 'parentThreadKey'],
        },
        {
          name: 'community_chat_message_seen_count',
          id: 221,
          primary_key: ['threadKey', 'messageId'],
        },
        { name: 'community_chat_polls', id: 223, primary_key: ['pollId'] },
        {
          name: 'community_chat_poll_options',
          id: 224,
          primary_key: ['pollId', 'optionId'],
        },
        {
          name: 'community_chat_poll_votes',
          id: 225,
          primary_key: ['pollId', 'optionId', 'contactId'],
        },
        {
          name: 'reactions_v2',
          id: 226,
          primary_key: [
            'threadKey',
            'messageId',
            'reactionFbid',
            'messageTimestamp',
          ],
          indexes: { optimistic: ['threadKey', 'messageId', 'reactionFbid'] },
        },
        {
          name: 'reactions_v2_details_users',
          id: 227,
          primary_key: ['reactorId', 'reactionFbid'],
        },
        {
          name: 'reactions_v2_details_users_ranges_v2__generated',
          id: 228,
          primary_key: ['reactorId', 'reactionFbid', 'minTimestampMs'],
        },
        { name: 'reaction_v2_types', id: 229, primary_key: ['reactionFbid'] },
        { name: 'bots', id: 230, primary_key: ['threadKey', 'botId'] },
        {
          name: 'business_comm_items',
          id: 234,
          primary_key: ['threadKey', 'entId'],
        },
        {
          name: 'group_invitations_pending',
          id: 235,
          primary_key: ['linkHash'],
        },
        {
          name: 'business_support_notification_settings',
          id: 236,
          primary_key: ['userId'],
        },
        {
          name: 'thread_label_mappings',
          id: 237,
          primary_key: ['threadKey', 'labelId'],
        },
        {
          name: 'audio_channel_events',
          id: 238,
          primary_key: ['eventId', 'roomId'],
        },
        {
          name: 'reactions_v2_details',
          id: 239,
          primary_key: ['threadId', 'messageId', 'reactorId', 'reactionFbid'],
        },
        {
          name: 'reactions_v2_details_ranges_v2__generated',
          id: 243,
          primary_key: [
            'threadId',
            'messageId',
            'reactionFbid',
            'minTimestampMs',
          ],
        },
        {
          name: 'community_chat_poll_votes_ranges_v2__generated',
          id: 244,
          primary_key: ['pollId', 'optionId', 'minTimestampMs'],
        },
      ],
      [
        {
          name: 'media_send_jobs',
          id: 51,
          primary_key: ['offlineAttachmentId'],
        },
      ],
      [
        {
          name: 'typing_indicator',
          id: 52,
          primary_key: ['threadKey', 'senderId'],
        },
      ],
      [
        {
          name: 'server_search_results',
          id: 65,
          primary_key: ['query', 'resultId', 'globalIndex'],
        },
        {
          name: 'server_search_sections',
          id: 66,
          primary_key: ['query', 'globalIndex'],
        },
        { name: 'search_queries', id: 67, primary_key: ['query'] },
        {
          name: 'universal_search_recent_searches',
          id: 68,
          primary_key: ['resultId'],
        },
        {
          name: 'message_search_results',
          id: 69,
          primary_key: ['type_', 'query', 'threadKey', 'globalIndex'],
        },
        {
          name: 'message_search_queries',
          id: 70,
          primary_key: ['type_', 'query', 'threadKeyV2'],
        },
        {
          name: 'participant_search_queries',
          id: 214,
          primary_key: ['query', 'threadKey'],
        },
      ],
      [
        { name: 'contact_upload_settings', id: 74, primary_key: ['userid'] },
        { name: 'gdpr_settings', id: 75, primary_key: ['userid'] },
        { name: 'presence_settings', id: 187, primary_key: ['userId'] },
        {
          name: 'persistent_menu_items',
          id: 77,
          primary_key: ['threadKey', 'ctaId'],
        },
        {
          name: 'video_chat_links_joining',
          id: 78,
          primary_key: ['url', 'optimisticClientToken'],
          indexes: { optimistic: ['optimisticClientToken'] },
        },
        {
          name: 'video_chat_links_attempted_joiners',
          id: 79,
          primary_key: ['userId', 'url'],
        },
        { name: 'cowatch_sessions', id: 80, primary_key: ['cowatchSessionId'] },
        { name: 'self_profile', id: 81, primary_key: ['userId'] },
        {
          name: 'pinned_threads',
          id: 82,
          primary_key: ['threadKey'],
          indexes: { pinnedTimestamp: ['pinnedTimestamp', 'threadKey'] },
        },
        { name: 'messaging_settings', id: 83, primary_key: ['id'] },
        { name: 'reachability_settings', id: 148, primary_key: ['audience'] },
        { name: 'feature_limits', id: 150, primary_key: ['type_'] },
        {
          name: 'emoji_sets',
          id: 151,
          primary_key: ['categoryIdx', 'emojiIdx', 'type_'],
        },
        { name: 'epd_cookie_settings', id: 163, primary_key: [] },
        { name: 'cm_community_list', id: 166, primary_key: ['communityId'] },
        {
          name: 'cm_channel_list',
          id: 167,
          primary_key: ['communityId', 'threadId'],
        },
        {
          name: 'cm_category_list',
          id: 182,
          primary_key: ['communityId', 'categoryId'],
        },
        { name: 'notification_settings', id: 175, primary_key: ['id'] },
        {
          name: 'encrypted_backups_status_trigger',
          id: 195,
          primary_key: ['pk'],
          auto_increment: !0,
        },
        { name: 'fb_events', id: 200, primary_key: ['eventId'] },
        {
          name: 'cm_channel_events',
          id: 201,
          primary_key: ['eventId', 'threadId'],
        },
        {
          name: 'community_events',
          id: 202,
          primary_key: ['eventId', 'communityId'],
        },
        { name: 'avatar_settings', id: 209, primary_key: ['threadId'] },
        {
          name: 'thread_labels',
          id: 215,
          primary_key: ['labelId'],
          indexes: { sortKey: ['sortKey'] },
        },
        {
          name: 'business_support_case_details',
          id: 222,
          primary_key: ['threadId'],
        },
        {
          name: 'rtc_call_events',
          id: 245,
          primary_key: ['pk'],
          auto_increment: !0,
        },
      ],
      [
        {
          name: 'payment_type_paypal',
          id: 85,
          primary_key: ['paymentCredentialId'],
        },
        {
          name: 'payment_type_card',
          id: 86,
          primary_key: ['paymentCredentialId'],
        },
        {
          name: 'payment_type_bank_v2',
          id: 88,
          primary_key: ['paymentMethodId'],
        },
        { name: 'payment_method', id: 89, primary_key: ['paymentMethodId'] },
        {
          name: 'new_payment_credential_option',
          id: 90,
          primary_key: ['credentialType'],
        },
        { name: 'paypal_funding_options', id: 91, primary_key: ['optionId'] },
        { name: 'payments_eligibility', id: 92, primary_key: ['userId'] },
        {
          name: 'payments_ofac_blacklisted_countries',
          id: 93,
          primary_key: ['isoCountryCode'],
        },
        { name: 'p2m_invoice', id: 94, primary_key: ['orderId'] },
        {
          name: 'p2m_invoice_attachment',
          id: 95,
          primary_key: ['orderId', 'productItemId'],
        },
        {
          name: 'payment_price_list_item',
          id: 96,
          primary_key: ['orderId', 'id'],
        },
        { name: 'p2m_charge', id: 97, primary_key: ['orderId'] },
        {
          name: 'payment_p2p_risk_verification',
          id: 98,
          primary_key: ['requestId', 'transactionId'],
        },
        {
          name: 'payment_transaction_v2',
          id: 99,
          primary_key: ['timestampMs', 'transactionId'],
          indexes: { optimistic: ['optimisticTransactionId'] },
        },
        {
          name: 'p2p_request_v2',
          id: 100,
          primary_key: ['timestampMs', 'transactionId'],
          indexes: { optimistic: ['optimisticTransactionId'] },
        },
        {
          name: 'p2p_transfer_v2',
          id: 101,
          primary_key: ['timestampMs', 'transactionId'],
          indexes: { optimistic: ['optimisticTransactionId'] },
        },
        {
          name: 'transaction_history',
          id: 102,
          primary_key: ['transactionId'],
        },
        {
          name: 'payments_transaction_details_core',
          id: 103,
          primary_key: ['transactionId'],
        },
        {
          name: 'payments_transaction_details_ctas',
          id: 104,
          primary_key: ['transactionId', 'ctaId'],
        },
        {
          name: 'payments_transaction_details_rows',
          id: 105,
          primary_key: ['transactionId', 'rowOrder'],
        },
        { name: 'payment_user_auth', id: 106, primary_key: ['userId'] },
        {
          name: 'payment_client_auth_token',
          id: 107,
          primary_key: ['userId', 'deviceId', 'appId'],
        },
        {
          name: 'payment_auth_request_results',
          id: 108,
          primary_key: ['requestId'],
        },
        {
          name: 'payment_server_request_results',
          id: 109,
          primary_key: ['requestId'],
        },
        {
          name: 'payment_pin_verification_results',
          id: 113,
          primary_key: ['requestId'],
        },
      ],
      [
        {
          name: 'connectivity_status',
          id: 114,
          primary_key: ['statusId'],
          auto_increment: !0,
        },
        {
          name: 'user_visible_network_connectivity_error',
          id: 115,
          primary_key: ['statusId'],
          auto_increment: !0,
        },
      ],
      [
        { name: 'thread_themes', id: 116, primary_key: ['fbid'] },
        {
          name: 'gradient_colors',
          id: 117,
          primary_key: ['themeFbid', 'gradientIndex'],
        },
      ],
      [
        {
          name: 'in_thread_banner',
          id: 118,
          primary_key: ['threadKey', 'bannerId'],
        },
        {
          name: 'in_thread_banner_ctas',
          id: 119,
          primary_key: ['bannerId', 'ctaId'],
        },
        {
          name: 'in_thread_banner_overflow_menu',
          id: 120,
          primary_key: ['threadKey', 'bannerId'],
        },
      ],
      [
        {
          name: 'stickers',
          id: 121,
          primary_key: ['stickerId'],
          indexes: { stickerPackId: ['stickerPackId', 'stickerId'] },
        },
        { name: 'sticker_packs', id: 122, primary_key: ['packId'] },
        {
          name: 'sticker_search_results',
          id: 123,
          primary_key: ['resultIndex', 'query', 'type_'],
        },
        { name: 'sticker_search_queries', id: 124, primary_key: ['query'] },
        {
          name: 'sticker_search_featured_tags',
          id: 125,
          primary_key: ['tagIndex'],
        },
        {
          name: 'sticker_to_collection',
          id: 126,
          primary_key: ['stickerId', 'collectionId'],
        },
        { name: 'sticker_pack_details', id: 127, primary_key: ['packId'] },
        {
          name: 'sticker_store_pack_indices',
          id: 128,
          primary_key: ['packId'],
        },
      ],
      [{ name: 'forward_content', id: 129, primary_key: ['value', 'type_'] }],
      [
        {
          name: 'linked_groups',
          id: 130,
          primary_key: ['id'],
          indexes: { threadKey: ['threadKey'] },
        },
      ],
      [
        {
          name: 'ranking_scores',
          id: 134,
          primary_key: ['contactId', 'scoreType'],
          indexes: { scoreTypeContactId: ['scoreType', 'contactId'] },
        },
        { name: 'ranking_requests', id: 135, primary_key: ['scoreType'] },
        {
          name: 'value_model_rules',
          id: 136,
          primary_key: ['product', 'ruleIndex'],
        },
        { name: 'value_model_features', id: 137, primary_key: ['feature'] },
        {
          name: 'value_model_output',
          id: 138,
          primary_key: ['product', 'contactId'],
        },
      ],
      [
        {
          name: 'story_buckets',
          id: 53,
          primary_key: ['bucketId'],
          indexes: { optimistic: ['ownerId', 'bucketType'] },
        },
        {
          name: 'stories',
          id: 54,
          primary_key: ['storyId'],
          indexes: { optimistic: ['optimisticClientId'] },
        },
        {
          name: 'story_viewers',
          id: 55,
          primary_key: ['storyId', 'viewerContactId', 'interactionType'],
        },
        {
          name: 'story_reactions',
          id: 56,
          primary_key: ['reactionId'],
          indexes: { optimistic: ['optimisticClientId'] },
        },
        {
          name: 'story_ad_unit',
          id: 57,
          primary_key: ['adPosition', 'clientToken'],
        },
        {
          name: 'story_ad_card',
          id: 58,
          primary_key: ['adPosition', 'clientToken', 'cardId'],
        },
        { name: 'story_ad_ctas', id: 59, primary_key: ['ctaId'] },
        {
          name: 'story_overlays',
          id: 60,
          primary_key: ['storyId', 'storyOverlayId'],
        },
        {
          name: 'story_buckets_paginated_queries',
          id: 61,
          primary_key: ['queryId'],
        },
        {
          name: 'status',
          id: 62,
          primary_key: ['statusId'],
          indexes: { optimistic: ['optimisticClientId'] },
        },
        {
          name: 'rooms',
          id: 63,
          primary_key: ['roomId'],
          indexes: { optimistic: ['optimisticClientToken'] },
        },
        {
          name: 'room_participants',
          id: 64,
          primary_key: ['roomId', 'participantId', 'type_'],
          indexes: { optimistic: ['roomId', 'participantId'] },
        },
      ],
      [
        {
          name: 'live_location_sharers',
          id: 149,
          primary_key: ['threadKey', 'userId'],
        },
      ],
      [
        {
          name: 'mi_act_mapping_table',
          id: 173,
          primary_key: ['serverThreadKey', 'clientThreadPk', 'jid'],
          indexes: {
            fk_threads: ['serverThreadKey'],
            chat_id: ['clientThreadPk'],
            jid: ['jid'],
          },
        },
        {
          name: 'media_staging',
          id: 161,
          primary_key: ['offlineAttachmentId'],
        },
      ],
      [
        {
          name: 'data_trace_meta',
          id: 153,
          primary_key: ['traceId'],
          indexes: {
            shouldFlushInitTimestampMsTraceId: [
              'shouldFlush',
              'initTimestampMs',
              'traceId',
            ],
          },
        },
        {
          name: 'data_trace_addon',
          id: 154,
          primary_key: ['addonId'],
          indexes: { traceIdAddonId: ['traceId', 'addonId'] },
          auto_increment: !0,
        },
      ],
      [{ name: 'ad_context', id: 160, primary_key: ['adId'] }],
      [
        {
          name: 'thread_proactive_warning_settings',
          id: 183,
          primary_key: ['threadKey'],
        },
        {
          name: 'client_thread_proactive_warning_settings',
          id: 241,
          primary_key: ['threadPk'],
        },
      ],
      [
        {
          name: 'presence_states',
          id: 186,
          primary_key: ['contactId'],
          indexes: { statusContactId: ['status', 'contactId'] },
        },
      ],
      [{ name: 'available_reactions', id: 188, primary_key: ['emojiIdx'] }],
      [
        {
          name: 'pending_backups_context_v2',
          id: 177,
          primary_key: ['pk'],
          indexes: { fk_pending_tasks: ['pendingBackupTaskId'] },
          auto_increment: !0,
        },
        {
          name: 'secure_encrypted_backups_client_state',
          id: 168,
          primary_key: ['backupId'],
        },
        {
          name: 'encrypted_backups_debug_metadata',
          id: 206,
          primary_key: ['backupId'],
        },
        {
          name: 'encrypted_backups_epoch_debug_metadata',
          id: 207,
          primary_key: ['epochId'],
        },
        {
          name: 'encrypted_backups_debug_metadata_v2',
          id: 217,
          primary_key: ['backupId'],
        },
        {
          name: 'encrypted_backups_epoch_debug_metadata_v2',
          id: 218,
          primary_key: ['epochId'],
        },
        {
          name: 'secure_encrypted_backups_epochs',
          id: 169,
          primary_key: ['epochId'],
          indexes: {
            fk_secure_encrypted_backups_client_state: ['backupId', 'epochId'],
          },
        },
        {
          name: 'encrypted_backups',
          id: 172,
          primary_key: ['pk'],
          auto_increment: !0,
        },
        {
          name: 'secure_encrypted_backups_generated_recovery_code',
          id: 174,
          primary_key: ['pk'],
        },
        {
          name: 'secure_encrypted_backups_recovery_code_status',
          id: 178,
          primary_key: ['pk'],
        },
        {
          name: 'secure_recovery_code_data',
          id: 179,
          primary_key: ['taskId'],
          indexes: { fk_pending_tasks: ['taskId'] },
        },
        {
          name: 'secure_encrypted_backups_message_thread_id_context',
          id: 180,
          primary_key: ['taskId', 'listId'],
          indexes: { fk_pending_tasks: ['taskId'] },
        },
        {
          name: 'encrypted_backups_virtual_devices',
          id: 184,
          primary_key: ['pk'],
          auto_increment: !0,
        },
        {
          name: 'encrypted_backups_metadata',
          id: 196,
          primary_key: ['backupId'],
        },
        { name: 'device_metadata', id: 185, primary_key: ['pk'] },
        {
          name: 'encrypted_backup_restore_task_payload_context',
          id: 190,
          primary_key: ['taskId'],
        },
        {
          name: 'encrypted_backups_dyi_backup_restore_status',
          id: 208,
          primary_key: ['pk'],
        },
        {
          name: 'encrypted_backups_message_backup_status',
          id: 213,
          primary_key: ['messagePk'],
        },
        {
          name: 'encrypted_backups_client_restore_status',
          id: 231,
          primary_key: ['threadId'],
        },
        { name: 'third_party_id_store', id: 242, primary_key: ['platform'] },
      ],
      [
        {
          name: 'secure_encrypted_backups_devices',
          id: 191,
          primary_key: ['deviceId'],
        },
        {
          name: 'secure_encrypted_backups_device_supported_versions',
          id: 192,
          primary_key: ['deviceId', 'supportedVersion'],
          indexes: {
            fk_secure_encrypted_backups_device_supported_versions_device_id: [
              'deviceId',
              'supportedVersion',
            ],
          },
        },
      ],
      [
        {
          name: 'e2ee_dummy_table_for_sync',
          id: 171,
          primary_key: ['placeholder'],
        },
        { name: 'cutover_threads', id: 193, primary_key: ['openThreadId'] },
      ],
      [
        {
          name: 'community_messaging_aggregated_user_presence_counts_for_community',
          id: 203,
          primary_key: ['folderId'],
        },
        {
          name: 'community_messaging_aggregated_copresence_counts_for_chat',
          id: 204,
          primary_key: ['threadId'],
        },
      ],
      [
        {
          name: 'workrooms_co_presence_states',
          id: 246,
          primary_key: ['userId'],
          indexes: { userCoPresence: ['userId', 'coPresenceObjectId'] },
        },
      ],
    ];
  },
  null,
);
__d(
  'LSIntEnum',
  ['I64'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function a(a) {
      return d('I64').of_float(a);
    }
    function b(a) {
      return d('I64').to_float(a);
    }
    g.ofNumber = a;
    g.toNumber = b;
  },
  98,
);
__d(
  'BPlusTreeBase',
  ['justknobx', 'unrecoverableViolation'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = { gte: [!0, 0], lt: [!0, 1], gt: [!1, 0], lte: [!1, 1] };
    function* i(a) {
      var b = yield* a.readHeader();
      if (b == null || b.rootId == null || b.headId == null) return;
      var c = yield* a.readExn(b.rootId);
      c = [{ node: c, id: b.rootId }];
      while (c.length > 0) {
        b = c.shift();
        var d = b.id;
        b = b.node;
        if (!b.isLeaf)
          for (
            var b = b.children,
              e = Array.isArray(b),
              f = 0,
              b = e
                ? b
                : b[
                    typeof Symbol === 'function'
                      ? Symbol.iterator
                      : '@@iterator'
                  ]();
            ;

          ) {
            var g;
            if (e) {
              if (f >= b.length) break;
              g = b[f++];
            } else {
              f = b.next();
              if (f.done) break;
              g = f.value;
            }
            g = g;
            var h = yield* a.read(g);
            h != null && c.push({ node: h, id: g });
          }
        yield* a.remove(d);
      }
      yield* a.removeHeader();
    }
    function* j(a, b, c, d) {
      var e = yield* b.readExn(c),
        f = [];
      e = e;
      c = c;
      var g = -1;
      while (!e.isLeaf)
        f.push([e, c, g]),
          (g = k(a, e.keys, d, h.gt)),
          g === -1 && (g = e.keys.length),
          (c = e.children[g]),
          (e = yield* b.readExn(c));
      return [e, c, f, g];
    }
    function k(a, b, c, d) {
      var e = 0,
        f = b.length - 1;
      while (e <= f) {
        var g = (e + f) >> 1;
        (d[0] ? a(b[g], c) < 0 : a(b[g], c) <= 0) ? (e = g + 1) : (f = g - 1);
      }
      g = [e, f][d[1]];
      return g === b.length ? -1 : g;
    }
    function l(a, b, c) {
      if (!b.length) return [0, 0];
      var d = k(a, b, c, h.gte);
      if (d === -1) return [b.length, 0];
      else if (a(b[d], c) === 0) return [d, 1];
      return [d, 0];
    }
    function m(a, b, c) {
      for (
        var d = arguments.length, e = new Array(d > 3 ? d - 3 : 0), f = 3;
        f < d;
        f++
      )
        e[f - 3] = arguments[f];
      return [].concat(a.slice(0, b), e, a.slice(b + c));
    }
    function* n(a) {
      var b = yield* a.readHeader();
      if (b == null) {
        var c = yield* a.writeNew({ isLeaf: !0, children: [], keys: [] });
        b = { rootId: c, tailId: c, headId: c };
        yield* a.writeHeader(b);
      }
      return b;
    }
    function* o(a, b, d) {
      b = yield* j(a, b, (yield* n(b)).rootId, d);
      b = b[0];
      var e = k(a, b.keys, d, h.gte);
      if (e === -1 || a(b.keys[e], d) !== 0)
        throw c('unrecoverableViolation')(
          'key not found: ' + String(d),
          'messenger_web_product',
        );
      return b.children[e];
    }
    function* p(a, b, c, d) {
      b = yield* j(a, b, (yield* n(b)).rootId, c);
      b = b[0];
      var e = k(a, b.keys, c, h.gte);
      return e === -1 || a(b.keys[e], c) !== 0 ? d : b.children[e];
    }
    function* q(a, b, c) {
      b = yield* j(a, b, (yield* n(b)).rootId, c);
      b = b[0];
      var d = k(a, b.keys, c, h.gte);
      return d !== -1 && a(b.keys[d], c) === 0;
    }
    function* r(a, b, c, d, e) {
      var f = yield* n(b),
        g = {},
        h = yield* j(a, b, f.rootId, d),
        i = h[0],
        k = h[1];
      h = h[2];
      var o = l(a, i.keys, d),
        p = o[0];
      o = o[1];
      for (
        e = babelHelpers.extends({}, i, {
          children: m(i.children, p, o, e),
          keys: o === 1 ? i.keys : m(i.keys, p, o, d),
        }),
          i = k;
        e.keys.length >= c;
        e = o, i = d
      ) {
        p = h.pop() || [{ keys: [], children: [i], isLeaf: !1 }];
        o = p[0];
        d = p[1];
        k = Math.floor(e.keys.length / 2);
        p = void 0;
        var q = void 0;
        e.isLeaf
          ? ((p = {
              isLeaf: !0,
              children: e.children.slice(k),
              keys: e.keys.slice(k),
              nextId: e.nextId,
              prevId: i,
            }),
            (q = e.nextId = yield* b.writeNew(p)),
            p.nextId
              ? yield* b.write(
                  p.nextId,
                  babelHelpers.extends({}, yield* b.readExn(p.nextId), {
                    prevId: q,
                  }),
                )
              : (g.tailId = q))
          : ((p = {
              isLeaf: !1,
              children: e.children.slice(k + 1),
              keys: e.keys.slice(k + 1),
            }),
            (q = yield* b.writeNew(p)));
        p = l(a, o.keys, e.keys[k]);
        p = p[0];
        o = babelHelpers.extends({}, o, {
          keys: m(o.keys, p, 0, e.keys[k]),
          children: m(o.children, p + 1, 0, q),
        });
        yield* b.write(
          i,
          babelHelpers.extends({}, e, {
            keys: e.keys.slice(0, k),
            children: e.children.slice(0, k + (e.isLeaf ? 0 : 1)),
          }),
        );
      }
      i == null ? (g.rootId = yield* b.writeNew(e)) : yield* b.write(i, e);
      Object.keys(g).length &&
        (yield* b.writeHeader(babelHelpers.extends({}, f, g)));
    }
    function* s(a, b, d, e) {
      var f = yield* n(b),
        g = {};
      d = Math.floor(d / 2);
      var i = yield* j(a, b, f.rootId, e),
        l = i[0],
        o = i[1],
        p = i[2];
      i = i[3];
      var q = k(a, l.keys, e, h.gte);
      if (q === -1 || a(l.keys[q], e) !== 0) return !1;
      a = babelHelpers.extends({}, l, {
        keys: m(l.keys, q, 1),
        children: m(l.children, q, 1),
      });
      e = o;
      yield* b.write(e, a);
      l = i;
      for (
        var o, i, q;
        a.keys.length < d && p.length;
        t = [o, i, q], a = t[0], e = t[1], l = t[2], t
      ) {
        q = p.pop();
        o = q[0];
        i = q[1];
        q = q[2];
        var r = [
          [{ nodeId: o.children[l - 1] }, { nodeId: e, node: a }, l - 1],
          [{ nodeId: e, node: a }, { nodeId: o.children[l + 1] }, l],
        ].filter(function (a) {
          var b = a[0];
          a = a[1];
          return b.nodeId !== void 0 && a.nodeId !== void 0;
        });
        for (
          var s = r,
            t = Array.isArray(s),
            u = 0,
            s = t
              ? s
              : s[
                  typeof Symbol === 'function' ? Symbol.iterator : '@@iterator'
                ]();
          ;

        ) {
          var v;
          if (t) {
            if (u >= s.length) break;
            v = s[u++];
          } else {
            u = s.next();
            if (u.done) break;
            v = u.value;
          }
          v = v;
          var w = v[0],
            x = v[1];
          v = v[2];
          w.node = w.node || (yield* b.readExn(w.nodeId));
          x.node = x.node || (yield* b.readExn(x.nodeId));
          if (w.node.keys.length + x.node.keys.length >= d * 2) {
            a.isLeaf
              ? ((x.node = babelHelpers.extends({}, x.node, {
                  children: [].concat(w.node.children, x.node.children),
                  keys: [].concat(w.node.keys, x.node.keys),
                })),
                (w.node = babelHelpers.extends({}, w.node, {
                  children: x.node.children.splice(0, d),
                  keys: x.node.keys.splice(0, d),
                })),
                (o = babelHelpers.extends({}, o, {
                  keys: m(o.keys, v, 1, x.node.keys[0]),
                })))
              : ((x.node = babelHelpers.extends({}, x.node, {
                  children: [].concat(w.node.children, x.node.children),
                  keys: [].concat(w.node.keys, [o.keys[v]], x.node.keys),
                })),
                (w.node = babelHelpers.extends({}, w.node, {
                  children: x.node.children.splice(0, d + 1),
                })),
                (o = babelHelpers.extends({}, o, {
                  keys: m(o.keys, v, 1, x.node.keys.splice(d, 1)[0]),
                })),
                (w.node.keys = x.node.keys.splice(0, d)));
            yield* b.write(w.nodeId, w.node);
            yield* b.write(x.nodeId, x.node);
            yield* b.write(i, o);
            Object.keys(g).length &&
              (yield* b.writeHeader(babelHelpers.extends({}, f, g)));
            return !0;
          }
        }
        for (
          v = r,
            w = Array.isArray(v),
            x = 0,
            v = w
              ? v
              : v[
                  typeof Symbol === 'function' ? Symbol.iterator : '@@iterator'
                ]();
          ;

        ) {
          if (w) {
            if (x >= v.length) break;
            u = v[x++];
          } else {
            x = v.next();
            if (x.done) break;
            u = x.value;
          }
          t = u;
          s = t[0];
          r = t[1];
          u = t[2];
          s.node = babelHelpers.extends({}, s.node, {
            children: [].concat(s.node.children, r.node.children),
          });
          a.isLeaf
            ? ((s.node.keys = [].concat(s.node.keys, r.node.keys)),
              r.node.nextId
                ? yield* b.write(
                    r.node.nextId,
                    babelHelpers.extends({}, yield* b.readExn(r.node.nextId), {
                      prevId: s.nodeId,
                    }),
                  )
                : (g.tailId = s.nodeId),
              (s.node.nextId = r.node.nextId))
            : (s.node.keys = [].concat(s.node.keys, [o.keys[u]], r.node.keys));
          o = babelHelpers.extends({}, o, {
            keys: m(o.keys, u, 1),
            children: m(o.children, u + 1, 1),
          });
          c('justknobx')._('672') && (yield* b.write(i, o));
          yield* b.write(s.nodeId, s.node);
          yield* b.remove(r.nodeId);
          break;
        }
      }
      yield* b.write(e, a);
      u = yield* b.readExn(f.rootId);
      if (!u.keys.length && u.children.length) {
        if (u.isLeaf)
          throw c('unrecoverableViolation')(
            'cannot be leaf',
            'messenger_web_product',
          );
        yield* b.remove(f.rootId);
        g.rootId = u.children[0];
      }
      Object.keys(g).length &&
        (yield* b.writeHeader(babelHelpers.extends({}, f, g)));
      return !0;
    }
    function t(a, b, d) {
      d = d === void 0 ? {} : d;
      var e = d.dir,
        f = e === void 0 ? 'asc' : e,
        g = babelHelpers.objectWithoutPropertiesLoose(d, ['dir']);
      function i() {
        if (f === 'asc') {
          if (Object.prototype.hasOwnProperty.call(g, 'gt')) return g.gt;
          else if (Object.prototype.hasOwnProperty.call(g, 'gte')) return g.gte;
        } else if (Object.prototype.hasOwnProperty.call(g, 'lt')) return g.lt;
        else if (Object.prototype.hasOwnProperty.call(g, 'lte')) return g.lte;
      }
      function l(b) {
        if (f === 'asc')
          return Object.prototype.hasOwnProperty.call(g, 'gt')
            ? k(a, b.keys, g.gt, h.gt)
            : Object.prototype.hasOwnProperty.call(g, 'gte')
            ? k(a, b.keys, g.gte, h.gte)
            : 0;
        else
          return Object.prototype.hasOwnProperty.call(g, 'lt')
            ? k(a, b.keys, g.lt, h.lt)
            : Object.prototype.hasOwnProperty.call(g, 'lte')
            ? k(a, b.keys, g.lte, h.lte)
            : b.keys.length - 1;
      }
      if (
        Object.prototype.hasOwnProperty.call(g, 'gt') &&
        Object.prototype.hasOwnProperty.call(g, 'gte')
      )
        throw c('unrecoverableViolation')(
          'cannot specify both greater than and greater than or equal',
          'messenger_web_product',
        );
      if (
        Object.prototype.hasOwnProperty.call(g, 'lt') &&
        Object.prototype.hasOwnProperty.call(g, 'lte')
      )
        throw c('unrecoverableViolation')(
          'cannot specify both less than and less than or equal',
          'messenger_web_product',
        );
      var m;
      return {
        next: function* (d) {
          var e, o;
          if (m == null) {
            var p = yield* n(b),
              q = i();
            if (q != null) {
              q = yield* j(a, b, p.rootId, q);
              e = q[0];
              q = q[1];
            } else if (f === 'asc') {
              var r = [yield* b.readExn(p.headId), p.headId];
              e = r[0];
              q = r[1];
            } else {
              r = [yield* b.readExn(p.tailId), p.tailId];
              e = r[0];
              q = r[1];
            }
            p = l(e);
          } else {
            r = m;
            p = r.i;
            o = r.key;
            q = r.nodeId;
            e = yield* b.read(q);
            if (d != null) {
              if (a(d, o) === (f === 'asc' ? -1 : 1))
                throw c('unrecoverableViolation')(
                  'key must be ahead of current key',
                  'messenger_web_product',
                );
              if (
                e == null ||
                a(d, e.keys[0]) < 0 ||
                a(d, e.keys[e.keys.length - 1]) > 0
              ) {
                r = yield* j(a, b, (yield* n(b)).rootId, d);
                e = r[0];
                q = r[1];
              }
              p = k(a, e.keys, d, h[f === 'asc' ? 'gte' : 'lte']);
            } else {
              if (
                e == null ||
                p < 0 ||
                p >= e.keys.length ||
                a(e.keys[p], o) !== 0
              ) {
                if (
                  e == null ||
                  !e.keys.length ||
                  a(o, e.keys[0]) < 0 ||
                  a(o, e.keys[e.keys.length - 1]) > 0
                ) {
                  r = yield* j(a, b, (yield* n(b)).rootId, o);
                  e = r[0];
                  q = r[1];
                }
                p = k(a, e.keys, o, h[f === 'asc' ? 'lte' : 'gte']);
              }
              p += f === 'asc' ? 1 : -1;
            }
          }
          if (p < 0 || p >= e.keys.length)
            if (f === 'asc') {
              if (e.nextId === void 0) return { done: !0 };
              q = e.nextId;
              e = yield* b.readExn(q);
              p = 0;
            } else {
              if (e.prevId === void 0) return { done: !0 };
              q = e.prevId;
              e = yield* b.readExn(q);
              p = e.keys.length - 1;
            }
          o = e.keys[p];
          m = { node: e, nodeId: q, key: o, i: p };
          if (p < 0 || p >= e.keys.length) return { done: !0 };
          d =
            f === 'asc'
              ? (Object.prototype.hasOwnProperty.call(g, 'lt') &&
                  a(o, g.lt) >= 0) ||
                (Object.prototype.hasOwnProperty.call(g, 'lte') &&
                  a(o, g.lte) > 0)
              : (Object.prototype.hasOwnProperty.call(g, 'gt') &&
                  a(o, g.gt) <= 0) ||
                (Object.prototype.hasOwnProperty.call(g, 'gte') &&
                  a(o, g.gte) < 0);
          return d
            ? { done: !0 }
            : { done: !1, value: [e.keys[p], e.children[p]] };
        },
      };
    }
    function a(a, b, c) {
      b === void 0 && (b = 32);
      return {
        get: function (b) {
          return o(a, c, b);
        },
        getWithDefault: function (b, d) {
          return p(a, c, b, d);
        },
        has: function (b) {
          return q(a, c, b);
        },
        set: function (d, e) {
          return r(a, c, b, d, e);
        },
        delete: function (d) {
          return s(a, c, b, d);
        },
        entries: function (b) {
          return t(a, c, b);
        },
        clear: function () {
          return i(c);
        },
      };
    }
    g.default = a;
  },
  98,
);
__d(
  'BPlusTree',
  ['BPlusTreeBase', 'unrecoverableViolation'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function h() {
      var a = {},
        b = void 0,
        d = 0;
      return {
        read: function* (b) {
          return a[b];
        },
        readExn: function* (b) {
          if (Object.prototype.hasOwnProperty.call(a, b)) return a[b];
          else
            throw c('unrecoverableViolation')(
              'expected key',
              'messenger_web_product',
            );
        },
        readHeader: function* () {
          return b;
        },
        remove: function* (b) {
          delete a[b];
        },
        removeHeader: function* () {
          b = void 0;
        },
        write: function* (b, c) {
          a[b] = c;
        },
        writeHeader: function* (a) {
          b = a;
        },
        writeNew: function* (b) {
          a[d++] = b;
          return d - 1;
        },
      };
    }
    function i(a) {
      var b = a.next();
      while (!b.done) b = a.next(b.value);
      return b.value;
    }
    function a(a, b) {
      b === void 0 && (b = 16);
      var d = c('BPlusTreeBase')(a, b, h()),
        e;
      return (e = {
        clear: function () {
          return i(d.clear());
        },
        delete: function (a) {
          return i(d.delete(a));
        },
        entries: function (a) {
          function b() {
            var c,
              e = d.entries(a);
            return (
              (c = {
                next: function (a) {
                  return i(e.next(a));
                },
              }),
              (c[
                typeof Symbol === 'function' ? Symbol.iterator : '@@iterator'
              ] = b),
              c
            );
          }
          return b();
        },
        get: function (a) {
          return i(d.get(a));
        },
        getWithDefault: function (a, b) {
          return i(d.getWithDefault(a, b));
        },
        has: function (a) {
          return i(d.has(a));
        },
        set: function (a, b) {
          i(d.set(a, b));
          return e;
        },
      });
    }
    g.default = a;
  },
  98,
);
__d(
  'LSDbKeyComparer',
  ['unrecoverableViolation'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = [[]];
    function i(a, b) {
      var d = a === h,
        e = b === h;
      if (d && e) return 0;
      if (d) return 1;
      if (e) return -1;
      if (a === void 0) return b === void 0 ? 0 : -1;
      else if (b === void 0) return 1;
      else if (Array.isArray(a)) {
        if (!Array.isArray(b))
          throw c('unrecoverableViolation')(
            'Expected types to be the same',
            'messenger_comet',
          );
        d = a[0];
        e = b[0];
        if (d < e) return -1;
        if (d > e) return 1;
        d = a[1];
        e = b[1];
        if (d < e) return -1;
        if (d > e) return 1;
      } else if (typeof a === 'string') {
        if (typeof b !== 'string')
          throw c('unrecoverableViolation')(
            'Expected types to be the same',
            'messenger_comet',
          );
        if (a < b) return -1;
        if (a > b) return 1;
      } else if (typeof a === 'number') {
        if (typeof b !== 'number')
          throw c('unrecoverableViolation')(
            'Expected types to be the same',
            'messenger_comet',
          );
        if (a < b) return -1;
        if (a > b) return 1;
      } else if (a instanceof Date) {
        if (!(b instanceof Date))
          throw c('unrecoverableViolation')(
            'Expected types to be the same',
            'messenger_comet',
          );
        if (a < b) return -1;
        if (a > b) return 1;
      } else if (typeof a === 'boolean') {
        if (typeof b !== 'boolean')
          throw c('unrecoverableViolation')(
            'Expected types to be the same',
            'messenger_comet',
          );
        if (!a && b) return -1;
        if (a && !b) return 1;
      } else
        throw c('unrecoverableViolation')('Unexpected type', 'messenger_comet');
      return 0;
    }
    function a(a, b) {
      for (a = a, b = b; ; a = a.tl, b = b.tl) {
        if (a === 0 && b === 0) return 0;
        if (a === 0) return -1;
        if (b === 0) return 1;
        var c = i(a.hd, b.hd);
        if (c !== 0) return c;
      }
      return 0;
    }
    g.MAX_KEY = h;
    g.compareValue = i;
    g.compareKey = a;
  },
  98,
);
__d(
  'PromiseOrValue',
  ['isPromise', 'unrecoverableViolation'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function a(a, b) {
      if (c('isPromise')(a) && c('isPromise')(b))
        return a.then(function (a) {
          return b.then(function (b) {
            return [a, b];
          });
        });
      if (c('isPromise')(a))
        return a.then(function (a) {
          return [a, b];
        });
      return c('isPromise')(b)
        ? b.then(function (b) {
            return [a, b];
          })
        : [a, b];
    }
    function b(a, b) {
      return c('isPromise')(a) ? a.then(b) : b(a);
    }
    function h(a, b) {
      b = b;
      while (!0) {
        var d = a(b);
        if (c('isPromise')(d))
          return d.then(function (b) {
            return b.action === 'break' ? b.value : h(a, b.value);
          });
        if (d.action === 'break') return d.value;
        b = d.value;
      }
      throw c('unrecoverableViolation')(
        'just for flow',
        'messenger_web_product',
      );
    }
    g.all2 = a;
    g.map = b;
    g.loop = h;
  },
  98,
);
__d(
  'ReQLBounds',
  ['LSDbKeyComparer'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function h(a, b) {
      return a ? { hd: a.hd, tl: h(a.tl, b) } : b;
    }
    function i(a) {
      return h(a, { hd: d('LSDbKeyComparer').MAX_KEY, tl: 0 });
    }
    function j(a, b, c) {
      if (a != null && b != null)
        return d('LSDbKeyComparer').compareKey(a[1], b[1]) * c > 0
          ? a[0]
          : b[0];
      if (a != null) return a[0];
      if (b != null) return b[0];
    }
    function a(a, b) {
      return j(
        (a == null ? void 0 : a.gt) != null
          ? [{ gt: a.gt }, i(a.gt)]
          : (a == null ? void 0 : a.gte) != null
          ? [{ gte: a.gte }, a.gte]
          : void 0,
        (b == null ? void 0 : b.gt) != null
          ? [{ gt: b.gt }, i(b.gt)]
          : (b == null ? void 0 : b.gte) != null
          ? [{ gte: b.gte }, b.gte]
          : void 0,
        1,
      );
    }
    function b(a, b) {
      return j(
        (a == null ? void 0 : a.lt) != null
          ? [{ lt: a.lt }, a.lt]
          : (a == null ? void 0 : a.lte) != null
          ? [{ lte: a.lte }, i(a.lte)]
          : void 0,
        (b == null ? void 0 : b.lt) != null
          ? [{ lt: b.lt }, b.lt]
          : (b == null ? void 0 : b.lte) != null
          ? [{ lte: b.lte }, i(b.lte)]
          : void 0,
        -1,
      );
    }
    function c(a, b, c) {
      a.forEach(function (a) {
        var e = a[0];
        a = a[1];
        var f =
          (e == null ? void 0 : e.gt) != null
            ? d('LSDbKeyComparer').compareKey(b, i(e.gt)) >= 0
            : (e == null ? void 0 : e.gte) != null
            ? d('LSDbKeyComparer').compareKey(b, e.gte) > 0
            : !0;
        e =
          (e == null ? void 0 : e.lt) != null
            ? d('LSDbKeyComparer').compareKey(b, e.lt) < 0
            : (e == null ? void 0 : e.lte) != null
            ? d('LSDbKeyComparer').compareKey(b, i(e.lte)) <= 0
            : !0;
        if (f && e) return c(a);
      });
    }
    g.getLowerLimit = a;
    g.getUpperLimit = b;
    g.forEachMatchingBounds = c;
  },
  98,
);
__d(
  'ReQLGlobalQueryContext',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    var g = {};
    function a(a) {
      a = a.get(g);
      return a == null ? [] : a;
    }
    function b(a, b) {
      a.set(g, b);
    }
    c = { contents: void 0 };
    f.getDependencies = a;
    f.setDependencies = b;
    f.globalQueryContext = c;
  },
  66,
);
__d(
  'ReQL',
  [
    'BPlusTree',
    'LSDbKeyComparer',
    'PromiseOrValue',
    'ReQLBounds',
    'ReQLGlobalQueryContext',
    'unrecoverableViolation',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = { bounds: b, filter: f, getKeyRange: m, map: o, take: s };
    function i(a, b) {
      return a ? { hd: a.hd, tl: i(a.tl, b) } : b;
    }
    function j(a, b) {
      b = b;
      a = a;
      while (b) {
        if (!a)
          throw c('unrecoverableViolation')(
            'unexpected end of key',
            'messenger_web_product',
          );
        b = b.tl;
        a = a.tl;
      }
      return a;
    }
    function k(a, b) {
      try {
        var c = d('ReQLGlobalQueryContext').globalQueryContext.contents,
          e = d('ReQLGlobalQueryContext').getDependencies(b);
        d('ReQLGlobalQueryContext').setDependencies(b, []);
        d('ReQLGlobalQueryContext').globalQueryContext.contents = b;
        var f, g;
        try {
          (f = a()), (g = d('ReQLGlobalQueryContext').getDependencies(b));
        } finally {
          d('ReQLGlobalQueryContext').setDependencies(b, e),
            (d('ReQLGlobalQueryContext').globalQueryContext.contents = c);
        }
        return [f, g];
      } catch (c) {
        if (c instanceof Promise)
          return c.then(function () {
            return k(a, b);
          });
        throw c;
      }
    }
    function a() {
      for (var a = arguments.length, b = new Array(a), c = 0; c < a; c++)
        b[c] = arguments[c];
      return b.reduceRight(function (a, b) {
        return { hd: b, tl: a };
      }, 0);
    }
    function b(a) {
      var b = this;
      function c(a, b) {
        if (b == null) return a;
        var c = d('ReQLBounds').getLowerLimit(b, a);
        b = d('ReQLBounds').getUpperLimit(b, a);
        if (c != null && b != null) return babelHelpers.extends({}, c, b);
        if (c != null) return c;
        if (b != null) return b;
      }
      return Object.setPrototypeOf(
        {
          direction: b.direction,
          iterator: function (d, e) {
            return b.iterator(d, c(a, e));
          },
          keyLength: b.keyLength,
          subscribe: function (d, e) {
            return b.subscribe(d, c(a, e));
          },
        },
        h,
      );
    }
    var l = Object.setPrototypeOf(
      {
        direction: 'asc',
        iterator: function () {
          return {
            next: function () {
              return { done: !0 };
            },
          };
        },
        keyLength: 0,
        subscribe: function () {
          return function () {};
        },
      },
      h,
    );
    function e() {
      return l;
    }
    function f(a) {
      var b = this,
        c = new Map();
      return Object.setPrototypeOf(
        {
          direction: b.direction,
          iterator: function (e, f) {
            var g = b.iterator(e, f);
            return {
              next: function (b) {
                return d('PromiseOrValue').loop(function (b) {
                  return d('PromiseOrValue').map(g.next(b), function (b) {
                    if (b.done) return { action: 'break', value: b };
                    var e = b.value,
                      f = e[0];
                    e = e[1];
                    if (a(e)) {
                      d('ReQLBounds').forEachMatchingBounds(c, f, function (a) {
                        a.add(JSON.stringify(f));
                      });
                      return { action: 'break', value: b };
                    }
                    d('ReQLBounds').forEachMatchingBounds(c, f, function (a) {
                      a.delete(JSON.stringify(f));
                    });
                    return { action: 'continue', value: void 0 };
                  });
                }, b);
              },
            };
          },
          keyLength: b.keyLength,
          subscribe: function (d, e) {
            var f = {},
              g = new Set();
            c.set(f, [e, g]);
            var h = b.subscribe(async function (b, c, e) {
              var f = JSON.stringify(b);
              c.operation === 'add' && a(c.value)
                ? (g.add(f), await d(b, c, e))
                : c.operation === 'put' && a(c.value)
                ? g.has(f)
                  ? await d(b, c, e)
                  : (g.add(f),
                    await d(b, { operation: 'add', value: c.value }, e))
                : c.operation === 'put' && g.has(f)
                ? (g.delete(f), await d(b, { operation: 'delete' }, e))
                : c.operation === 'delete' &&
                  g.has(f) &&
                  (g.delete(f), await d(b, c, e));
            }, e);
            return function () {
              c.delete(f);
              return h();
            };
          },
        },
        h,
      );
    }
    function m() {
      var a = this;
      for (var b = arguments.length, c = new Array(b), e = 0; e < b; e++)
        c[e] = arguments[e];
      var f = c.reduceRight(function (a, b) {
        return { hd: b, tl: a };
      }, 0);
      function g(a) {
        return a.gt != null ? { gt: i(f, a.gt) } : { gte: i(f, a.gte) };
      }
      function k(a) {
        return a.lt != null ? { lt: i(f, a.lt) } : { lte: i(f, a.lte) };
      }
      function l(a) {
        return a == null
          ? { gte: f, lte: f }
          : babelHelpers.extends(
              {},
              a.gte != null || a.gt != null ? g(a) : { gte: f },
              a.lte != null || a.lt != null ? k(a) : { lte: f },
            );
      }
      return Object.setPrototypeOf(
        {
          direction: a.direction,
          iterator: function (b, c) {
            var e = a.iterator(b, l(c));
            return {
              next: function (a) {
                return d('PromiseOrValue').map(
                  e.next(a == null ? a : i(f, a)),
                  function (a) {
                    return a.done
                      ? { done: !0 }
                      : { done: !1, value: [j(a.value[0], f), a.value[1]] };
                  },
                );
              },
            };
          },
          keyLength: a.keyLength - c.length,
          subscribe: function (b, c) {
            return a.subscribe(function (a, c, d) {
              return b(j(a, f), c, d);
            }, l(c));
          },
        },
        h,
      );
    }
    function n(a, b) {
      if (a.direction !== b.direction)
        throw c('unrecoverableViolation')(
          'merge join requires iterables to be sorted in the same direction',
          'messenger_web_product',
        );
      return Object.setPrototypeOf(
        {
          direction: a.direction,
          iterator: function (e, f) {
            var g = a.iterator(e, f),
              h = b.iterator(e, f),
              i = h.next();
            function j(a) {
              return d('PromiseOrValue').map(i, function (b) {
                var c = b.done
                  ? !0
                  : d('LSDbKeyComparer').compareKey(a, b.value[0]) <= 0;
                c = c ? b : h.next(a);
                i = c;
                return c;
              });
            }
            return {
              next: function (a) {
                return d('PromiseOrValue').map(g.next(a), function (a) {
                  if (a.done) return { done: !0, value: void 0 };
                  var b = a.value;
                  b = b[0];
                  return d('PromiseOrValue').map(j(b), function (b) {
                    var e = a.value,
                      f = e[0];
                    e = e[1];
                    if (b.done) return { done: !1, value: [f, [e, void 0]] };
                    b = b.value;
                    var g = b[0];
                    b = b[1];
                    g = d('LSDbKeyComparer').compareKey(f, g);
                    if (g > 0)
                      throw c('unrecoverableViolation')(
                        'Right iterable should always be equal to or ahead',
                        'messenger_web_product',
                      );
                    else if (g < 0)
                      return { done: !1, value: [f, [e, void 0]] };
                    else return { done: !1, value: [f, [e, b]] };
                  });
                });
              },
            };
          },
          keyLength: Math.max(a.keyLength, b.keyLength),
          subscribe: function (c, d) {
            var e = !0,
              f = a.subscribe(async function (a, d, f) {
                var g = await b.iterator(f, { gte: a, lte: a }).next();
                if (!e) return;
                await c(
                  a,
                  d.operation === 'add'
                    ? {
                        operation: 'add',
                        value: [d.value, (a = g.value) == null ? void 0 : a[1]],
                      }
                    : d.operation === 'put'
                    ? {
                        operation: 'put',
                        value: [d.value, (a = g.value) == null ? void 0 : a[1]],
                      }
                    : { operation: 'delete' },
                  f,
                );
              }, d),
              g = b.subscribe(async function (b, d, f) {
                var g = await a.iterator(f, { gte: b, lte: b }).next();
                if (!e || g.done) return;
                await c(
                  b,
                  d.operation === 'add'
                    ? { operation: 'add', value: [g.value[1], d.value] }
                    : d.operation === 'put'
                    ? { operation: 'put', value: [g.value[1], d.value] }
                    : { operation: 'delete' },
                  f,
                );
              }, d);
            return function () {
              (e = !1), f(), g();
            };
          },
        },
        h,
      );
    }
    function o(a) {
      var b = this,
        c = new Map();
      function e(b, c, d, e, g) {
        var h = JSON.stringify(d),
          i = b.get(h);
        i == null && ((i = []), b.set(h, i));
        i.forEach(function (a) {
          return a();
        });
        i.length = 0;
        var j = i;
        g.forEach(function (g) {
          j.push(
            g.subscribe(async function (g, h, i) {
              await f(b, c, d, e, i),
                await c(d, { operation: 'put', value: a(e) }, i);
            }),
          );
        });
      }
      function f(b, c, f, g, h) {
        return d('PromiseOrValue').map(
          k(function () {
            return a(g);
          }, h),
          function (a) {
            var d = a[0];
            a = a[1];
            e(b, c, f, g, a);
            return d;
          },
        );
      }
      function g(a, b) {
        var c = JSON.stringify(b);
        if (!a.has(c)) return;
        b = (b = a.get(JSON.stringify(b))) != null ? b : [];
        b.forEach(function (a) {
          return a();
        });
        b.length = 0;
        a.delete(c);
      }
      return Object.setPrototypeOf(
        {
          direction: b.direction,
          iterator: function (f, g) {
            var h = b.iterator(f, g);
            return {
              next: function (b) {
                return d('PromiseOrValue').map(h.next(b), function (g) {
                  if (g.done) return g;
                  g = g.value;
                  var b = g[0],
                    h = g[1];
                  return d('PromiseOrValue').map(
                    d('PromiseOrValue').map(
                      k(function () {
                        return a(h);
                      }, f),
                      function (a) {
                        var f = a[0],
                          g = a[1];
                        d('ReQLBounds').forEachMatchingBounds(
                          c,
                          b,
                          function (a) {
                            var c = a[0];
                            a = a[1];
                            return e(c, a, b, h, g);
                          },
                        );
                        return f;
                      },
                    ),
                    function (a) {
                      return { done: !1, value: [b, a] };
                    },
                  );
                });
              },
            };
          },
          keyLength: b.keyLength,
          subscribe: function (d, e) {
            var h = {},
              i = new Map();
            c.set(h, [e, [i, d]]);
            var j = b.subscribe(async function (b, c, e) {
              if (c.operation === 'delete') g(i, b), await d(b, c, e);
              else if (c.operation === 'add') {
                var h = c.value,
                  j = await f(i, d, b, h, e);
                a(h);
                await d(b, { operation: 'add', value: j }, e);
              } else if (c.operation === 'put') {
                h = c.value;
                j = await f(i, d, b, h, e);
                a(h);
                await d(b, { operation: 'put', value: j }, e);
              }
            }, e);
            return function () {
              i.forEach(function (a) {
                a.forEach(function (a) {
                  return a();
                });
              }),
                c.delete(h),
                j();
            };
          },
        },
        h,
      );
    }
    function p(a, b) {
      var c = q(a, b);
      for (
        var d = arguments.length, e = new Array(d > 2 ? d - 2 : 0), f = 2;
        f < d;
        f++
      )
        e[f - 2] = arguments[f];
      return e.reduce(function (a, b) {
        return q(a, b);
      }, c);
    }
    function q(a, b) {
      if (a.direction !== b.direction)
        throw c('unrecoverableViolation')(
          'union requires iterables to be sorted in the same direction',
          'messenger_web_product',
        );
      var e = Math.max(a.keyLength, b.keyLength);
      function f(a, b) {
        return b === 0 || a === 0 ? 0 : { hd: a.hd, tl: f(a.tl, b - 1) };
      }
      function g(a) {
        return a.gt != null ? { gt: f(a.gt, e) } : { gte: f(a.gte, e) };
      }
      function j(a) {
        return a.lt != null ? { lt: f(a.lt, e) } : { lte: f(a.lte, e) };
      }
      function k(a) {
        return a == null
          ? void 0
          : babelHelpers.extends(
              {},
              a.gte != null || a.gt != null ? g(a) : {},
              a.lte != null || a.lt != null ? j(a) : {},
            );
      }
      return Object.setPrototypeOf(
        {
          direction: a.direction,
          iterator: function (c, g) {
            var h = a.iterator(c, k(g)),
              j = b.iterator(c, k(g)),
              l = h.next(),
              m = j.next();
            return {
              next: function (b) {
                b !== void 0 && ((l = h.next(f(b, e))), (m = j.next(f(b, e))));
                return d('PromiseOrValue').map(
                  d('PromiseOrValue').all2(l, m),
                  function (b) {
                    var c = b[0];
                    b = b[1];
                    function e(a, b) {
                      if (a.done) return { done: !0 };
                      a = {
                        done: !1,
                        value: [i(a.value[0], { hd: b, tl: 0 }), a.value[1]],
                      };
                      b ? (l = h.next()) : (m = j.next());
                      return a;
                    }
                    if (c.done) return e(b, !1);
                    if (b.done) return e(c, !0);
                    var f = a.direction === 'asc' ? [c, b] : [b, c],
                      g = f[0];
                    f = f[1];
                    f = d('LSDbKeyComparer').compareKey(
                      (g = g.value) == null ? void 0 : g[0],
                      (g = f.value) == null ? void 0 : g[0],
                    );
                    if (f < 0) return e(c, !0);
                    else return e(b, !1);
                  },
                );
              },
            };
          },
          keyLength: e + 1,
          subscribe: function (c, d) {
            var e = a.subscribe(function (a, b, d) {
                return c(i(a, { hd: !0, tl: 0 }), b, d);
              }, d),
              f = b.subscribe(function (a, b, d) {
                return c(i(a, { hd: !1, tl: 0 }), b, d);
              }, d);
            return function () {
              e(), f();
            };
          },
        },
        h,
      );
    }
    function r(a, b) {
      if (a.direction !== b.direction)
        throw c('unrecoverableViolation')(
          'merge join requires iterables to be sorted in the same direction',
          'messenger_web_product',
        );
      return Object.setPrototypeOf(
        {
          direction: a.direction,
          iterator: function (c, e) {
            var f = a.iterator(c, e),
              g = b.iterator(c, e);
            function h(a) {
              return d('PromiseOrValue').loop(function (a) {
                var b = a[0];
                a = a[1];
                if (b.done || a.done)
                  return { action: 'break', value: { done: !0 } };
                var c = b.value,
                  e = c[0];
                c = c[1];
                var h = a.value,
                  i = h[0];
                h = h[1];
                var j = d('LSDbKeyComparer').compareKey(e, i);
                if (j > 0)
                  return d('PromiseOrValue').map(
                    d('PromiseOrValue').all2(b, g.next(e)),
                    function (a) {
                      return { action: 'continue', value: a };
                    },
                  );
                else if (j < 0)
                  return d('PromiseOrValue').map(
                    d('PromiseOrValue').all2(f.next(i), a),
                    function (a) {
                      return { action: 'continue', value: a };
                    },
                  );
                return {
                  action: 'break',
                  value: { done: !1, value: [e, [c, h]] },
                };
              }, a);
            }
            return {
              next: function (a) {
                return d('PromiseOrValue').map(
                  d('PromiseOrValue').all2(f.next(a), g.next(a)),
                  h,
                );
              },
            };
          },
          keyLength: Math.max(a.keyLength, b.keyLength),
          subscribe: function (c, d) {
            var e = !0;
            async function f(a, b, d, f, g) {
              a = await a.iterator(g, { gte: d, lte: d }).next();
              if (a.done || !e) return;
              a = a.value[1];
              b =
                f.operation === 'add'
                  ? { operation: 'add', value: b(f.value, a) }
                  : f.operation === 'put'
                  ? { operation: 'put', value: b(f.value, a) }
                  : f;
              await c(d, b, g);
            }
            var g = a.subscribe(function () {
                for (
                  var a = arguments.length, c = new Array(a), d = 0;
                  d < a;
                  d++
                )
                  c[d] = arguments[d];
                return f.apply(
                  void 0,
                  [
                    b,
                    function (a, b) {
                      return [a, b];
                    },
                  ].concat(c),
                );
              }, d),
              h = b.subscribe(function () {
                for (
                  var b = arguments.length, c = new Array(b), d = 0;
                  d < b;
                  d++
                )
                  c[d] = arguments[d];
                return f.apply(
                  void 0,
                  [
                    a,
                    function (a, b) {
                      return [b, a];
                    },
                  ].concat(c),
                );
              }, d);
            return function () {
              (e = !1), g(), h();
            };
          },
        },
        h,
      );
    }
    function s(a) {
      var b = this,
        e = new Map();
      return Object.setPrototypeOf(
        {
          direction: b.direction,
          iterator: function (c, f) {
            var g = b.iterator(c, f),
              h = 0;
            return {
              next: function (b) {
                if (h >= a) return { done: !0 };
                else
                  return d('PromiseOrValue').map(g.next(b), function (b) {
                    b.done ||
                      d('ReQLBounds').forEachMatchingBounds(
                        e,
                        b.value[0],
                        function (c) {
                          var d = c[0];
                          c = c[1];
                          c.contents <= a &&
                            (d.has(b.value[0]) ||
                              ((c.contents += 1), d.set(b.value[0], void 0)));
                        },
                      );
                    h += 1;
                    return b;
                  });
              },
            };
          },
          keyLength: b.keyLength,
          subscribe: function (f, g) {
            var h = {},
              i = b.direction === 'asc' ? 1 : -1,
              j = c('BPlusTree')(function (a, b) {
                return d('LSDbKeyComparer').compareKey(a, b) * -i;
              }),
              k = { contents: 0 };
            e.set(h, [g, [j, k]]);
            var l = b.subscribe(async function (c, g, l) {
              var m;
              m = (m = j.entries().next().value) == null ? void 0 : m[0];
              var n =
                m == null ? !0 : d('LSDbKeyComparer').compareKey(c, m) * i <= 0;
              if (g.operation === 'delete' && n) {
                k.contents > 0 && (j.delete(c), await f(c, g, l));
                var o = await b
                  .iterator(
                    l,
                    m == null ? void 0 : i === 1 ? { gt: m } : { lt: m },
                  )
                  .next();
                !o.done && e.has(h)
                  ? (j.set(o.value[0], void 0),
                    await f(
                      o.value[0],
                      { operation: 'add', value: o.value[1] },
                      l,
                    ))
                  : k.contents > 0 && (k.contents -= 1);
              } else g.operation === 'add' && k.contents < a ? ((k.contents += 1), j.set(c, void 0), await f(c, g, l)) : g.operation === 'add' && n ? (m != null && (j.delete(m), await f(m, { operation: 'delete' }, l)), j.set(c, void 0), await f(c, g, l)) : g.operation === 'put' && n && (await f(c, g, l));
            }, g);
            return function () {
              e.delete(h);
              return l();
            };
          },
        },
        h,
      );
    }
    function t(a) {
      return Object.setPrototypeOf(
        {
          direction: 'asc',
          iterator: function (b, c) {
            return a.entries(b, 'asc', c);
          },
          keyLength: a.keyLength,
          subscribe: a.subscribe,
        },
        h,
      );
    }
    function u(a) {
      return Object.setPrototypeOf(
        {
          direction: 'desc',
          iterator: function (b, c) {
            return a.entries(b, 'desc', c);
          },
          keyLength: a.keyLength,
          subscribe: a.subscribe,
        },
        h,
      );
    }
    async function v(a) {
      var b = [];
      a = a.iterator(new WeakMap());
      var c = await a.next();
      while (!c.done) b.push(c.value[1]), (c = await a.next());
      return b;
    }
    async function w(a) {
      a = a.iterator(new WeakMap());
      a = await a.next();
      return a.done ? void 0 : a.value[1];
    }
    async function x(a) {
      a = a.iterator(new WeakMap());
      a = await a.next();
      if (a.done)
        throw c('unrecoverableViolation')(
          'expected result',
          'messenger_web_product',
        );
      return a.value[1];
    }
    g.prototype = h;
    g.key = a;
    g.empty = e;
    g.leftJoin = n;
    g.union = p;
    g.mergeJoin = r;
    g.fromTableAscending = t;
    g.fromTableDescending = u;
    g.toArrayAsync = v;
    g.firstAsync = w;
    g.firstExnAsync = x;
  },
  98,
);
__d(
  'ReStoreDefaultValuesMetadata',
  ['FBLogger'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function a(a) {
      var b = { c: 'string', t: 'string' };
      for (var d in b) {
        if (!Object.prototype.hasOwnProperty.call(a, d) || a[d] == null) {
          c('FBLogger')('messenger_web_product').warn(
            'Malformed default values data, missing key "%s"',
            d,
          );
          return null;
        }
        var e = a[d],
          f = b[d];
        e = typeof e;
        if (e !== f) {
          c('FBLogger')('messenger_web_product').warn(
            'Malformed default values data, key "%s" has type "%s" but expected "%s"',
            d,
            e,
            f,
          );
          return null;
        }
      }
      if (typeof a.c !== 'string' || typeof a.t !== 'string') return null;
      e = [];
      f = a.t;
      try {
        e = JSON.parse(a.c);
        for (d = 0; d < e.length; d++) {
          b = e[d];
          if (typeof b !== 'string') return null;
        }
      } catch (a) {
        return null;
      }
      return { columns: e, tableName: f };
    }
    function b(a) {
      return { c: JSON.stringify(a.columns), t: a.tableName };
    }
    d = '_db_defaults_meta';
    g.tryParseDefaultValuesData = a;
    g.defaultValuesColumnToValue = b;
    g.defaultValuesTableName = d;
  },
  98,
);
__d(
  'ReStoreIndexMetadata',
  ['FBLogger'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function h(a) {
      a = typeof a === 'string' ? a : null;
      if (a == null) return null;
      try {
        a = JSON.parse(a);
        for (
          var b = a,
            c = Array.isArray(b),
            d = 0,
            b = c
              ? b
              : b[
                  typeof Symbol === 'function' ? Symbol.iterator : '@@iterator'
                ]();
          ;

        ) {
          var e;
          if (c) {
            if (d >= b.length) break;
            e = b[d++];
          } else {
            d = b.next();
            if (d.done) break;
            e = d.value;
          }
          e = e;
          if (typeof e !== 'string') return null;
        }
        return a;
      } catch (a) {
        return null;
      }
    }
    function a(a) {
      var b = { indexName: 'string', keyIds: 'string', tableName: 'string' };
      for (var d in b) {
        if (!Object.prototype.hasOwnProperty.call(a, d) || a[d] == null) {
          c('FBLogger')('messenger_web_product').warn(
            'Malformed index data, missing key "%s"',
            d,
          );
          return null;
        }
        var e = a[d],
          f = b[d];
        e = typeof e;
        if (e !== f) {
          c('FBLogger')('messenger_web_product').warn(
            'Malformed index data, key "%s" has type "%s" but expected "%s"',
            d,
            e,
            f,
          );
          return null;
        }
      }
      e = h(a.keyIds);
      if (e == null) {
        c('FBLogger')('messenger_web_product').warn(
          'Malformed index data, key IDs "%s" are invalid',
          typeof a.keyIds === 'string' ? a.keyIds : '<' + typeof a.keyIds + '>',
        );
        return null;
      }
      return typeof a.indexName !== 'string' || typeof a.tableName !== 'string'
        ? null
        : { data: e, indexName: a.indexName, tableName: a.tableName };
    }
    function b(a, b) {
      if (a == null) return !0;
      if (a.length !== b.length) return !0;
      for (var c = 0; c < a.length; c++) if (a[c] !== b[c]) return !0;
      return !1;
    }
    function d(a) {
      return {
        indexName: a.indexName,
        keyIds: JSON.stringify(a.data),
        tableName: a.tableName,
      };
    }
    e = '_db_indices_meta';
    g.tryParseIndexData = a;
    g.indicesDiffer = b;
    g.indexDataToValue = d;
    g.indicesTableName = e;
  },
  98,
);
__d(
  'ReStoreVaulting',
  ['cr:2075', 'cr:2151', 'cr:2203'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function a(a) {
      return b('cr:2075') != null ? b('cr:2075').vault(a) : a;
    }
    function c(a) {
      return b('cr:2075') != null ? b('cr:2075').unvault(a) : a;
    }
    function d(a, c) {
      return b('cr:2151') != null && b('cr:2203') != null
        ? b('cr:2151').unvaultDbRow(
            a,
            c,
            b('cr:2203').PERSISTED_DB_VAULT_DEFINITIONS,
          )
        : a;
    }
    function e(a, c) {
      return b('cr:2151') != null && b('cr:2203') != null
        ? b('cr:2151').vaultDbRow(
            a,
            c,
            b('cr:2203').PERSISTED_DB_VAULT_DEFINITIONS,
          )
        : a;
    }
    g.maybeVault = a;
    g.maybeUnvault = c;
    g.maybeUnvaultDbRow = d;
    g.maybeVaultDbRow = e;
  },
  98,
);
__d(
  'MWChatTabEntryPoints.bs',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    a = {};
    f.tabEntryPoints = a;
  },
  66,
);
__d(
  'MessengerWebEntryPoint',
  [],
  function (a, b, c, d, e, f) {
    a = Object.freeze({
      ADD_PARTICIPANTS: 'add_participants',
      BIRTHDAYS: 'birthdays',
      CHAT_HEADS: 'chat_heads',
      CHAT_HEADS_OVERFLOW: 'chat_heads_overflow',
      CHAT_SEARCH: 'chat_search',
      CHAT_WITH_SIDEBAR: 'chat_with_sidebar',
      COMMUNITY_HELP: 'community_help',
      COMPAT: 'compat',
      COOKIE: 'cookie',
      CREATE_GROUP_DIALOG: 'create_group_dialog',
      CRISIS_LISTING_ATTACHMENT: 'crisis_listing_attachment',
      EVENTS_PERMALINK: 'events_permalink',
      FEED_POLL: 'feed_poll',
      FEED_STORY_CTA: 'feed_story_cta',
      FILES_TAB: 'files_tab',
      FRIENDS_TAB: 'friends_tab',
      FUNDRAISER: 'fundraiser',
      FUNDRAISER_SUPPORT_REACTIVE_FAQ: 'fundraiser_support:reactive_faq',
      FUNDRAISER_SUPPORT_REACTIVE_MORE_MENU:
        'fundraiser_support:reactive_more_menu',
      FUNDRAISER_SUPPORTERS_LIST: 'fundraiser_supporters_list',
      GRATITUDE: 'gratitude',
      GROUP_CHATS: 'group_chats',
      GROUP_EXPERTS_DISCOVERY_INVITE: 'group_experts_discovery_invite',
      GROUP_MEMBERS_TAB: 'group_members_tab',
      GROUP_QUALITY: 'group_quality',
      GROUP_REMOVE_POST_TOMBSTONE: 'group_remove_post_tombstone',
      GROUP_WELCOME_POST: 'group_welcome_post',
      HOVERCARD: 'hovercard',
      INBOX: 'inbox',
      INBOX_TRAY: 'inbox_tray',
      JEWEL: 'jewel',
      JEWEL_NEW_MESSAGE: 'jewel_new_message',
      JEWEL_SEARCH: 'jewel_search',
      JOBS: 'jobs',
      LINKS_TAB: 'links_tab',
      LOCAL_BUSINESSES_NEARBY: 'local_businesses_nearby',
      LWI_SUPPORT_BUTTON: 'lwi_support_button',
      MARKETPLACE: 'marketplace',
      MEDIA_TAB: 'media_tab',
      MEMORIES_HOME: 'memories_home',
      MENTAL_HEALTH: 'mental_health',
      MENTORSHIP: 'mentorship',
      MESSAGE_RECEIVED: 'message_received',
      MUTUAL_FRIENDS_DIALOG: 'mutual_friends_dialog',
      NEW_MESSAGE_BUTTON: 'new_msg_button',
      OFFER: 'offer',
      P2P_PAYMENTS: 'p2p_payments',
      PAGES_ABOUT: 'pages_about',
      PAGES_ADMIN_INVITE_ITEM: 'pages_admin_invite_item',
      PAGES_COMMENT_COMPOSER: 'pages_comment_composer',
      PAGES_COMMUNITY_FRIENDS_DIALOG: 'pages_community_friends_dialog',
      PAGES_CTA: 'pages_cta',
      PAGES_DISCOVER_SUGGESTED_PAGE: 'pages_discover_suggested_page',
      PAGES_HEADER: 'pages_header',
      PAGES_HOME_FRIENDS_DIALOG: 'pages_home_friends_dialog',
      PAGES_HOVERCARD: 'pages_hovercard',
      PAGES_LIKE_INVITE_ITEM: 'pages_like_invite_item',
      PAGES_POPUP_CHAT: 'pages_popup_chat',
      PAGES_PRIVATE_REPLY: 'pages_private_reply',
      PROFILE_SERVICES_MENU: 'profile_services_menu',
      REACTOR_LIST: 'reactor_list',
      RESHARES_DIALOG: 'reshares_dialog',
      RHC_SEARCH: 'rhc_search',
      RHC_SEARCH_ICON: 'rhc_search_icon',
      ROOMS_LOBBY: 'rooms_lobby',
      ROOMS_NULL_STATE: 'rooms_null_state',
      SEARCH: 'search',
      SEARCH_RESULT_PAGE: 'search_result_page',
      SHOP: 'shop',
      SIDEBAR: 'sidebar',
      STORIES_VIEWED_BY_LIST: 'stories_viewed_by_list',
      STORY_AGGREGATED_USERS: 'story_aggregated_users',
      STORY_SEEN_BY_LIST: 'story_seen_by_list',
      THREAD_DETAILS: 'thread_details',
      TIMELINE: 'timeline',
      UICE: 'uice',
      UNKNOWN: 'unknown',
      VOLUNTEERING: 'volunteering',
      WORK_SHIFT_SWAP: 'work_shift_swap',
    });
    f['default'] = a;
  },
  66,
);
__d(
  'MessengerWebEntryPointsUtil.bs',
  ['MessengerWebEntryPoint'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function a(a) {
      if (a === 'pagesLikeInviteThem') return 'pages_like_invite_item';
      else if (a === 'pagesPrivateReply') return 'pages_private_reply';
      else if (
        a === 'inboxActiveContacts' ||
        a === 'inboxArchived' ||
        a === 'inboxSpam' ||
        a === 'inboxFolder' ||
        a === 'inboxThreadList' ||
        a === 'inboxRecentThreads' ||
        a === 'inboxRemainingThreads' ||
        a === 'pendingRequests' ||
        a === 'inboxRestricted' ||
        a === 'archieve' ||
        a === 'inboxInThread' ||
        a === 'inboxPendingRequests'
      )
        return 'inbox';
      else if (a === 'jobs') return c('MessengerWebEntryPoint').jobs;
      else if (a === 'storySeenByList' || a === 'friendsTab')
        return 'story_seen_by_list';
      else if (a === 'chatParticipants') return 'add_participants';
      else if (a === 'compat') return 'compat';
      else if (a === 'cookie') return 'cookie';
      else if (a === 'pagesAdminInviteItem') return 'pages_admin_invite_item';
      else if (a === 'groupWelcomePost') return 'group_welcome_post';
      else if (a === 'sidebarContactsList' || a === 'sidebarGroupsList')
        return 'sidebar';
      else if (a === 'jewelNestedFolder' || a === 'jewel') return 'jewel';
      else if (a === 'shop') return 'shop';
      else if (a === 'pageLikeChaining')
        return c('MessengerWebEntryPoint').PAGE_LIKE_CHAINING;
      else if (a === 'chatheadsOverflow') return 'chat_heads_overflow';
      else if (a === 'feedDynamicHoverCard') return 'pages_hovercard';
      else if (a === 'messengerUniversalSearch') return 'search_result_page';
      else if (a === 'mentorship') return 'mentorship';
      else if (a === 'reactorList') return 'reactor_list';
      else if (a === 'feedPoll') return 'feed_poll';
      else if (a === 'timeline' || a === 'feedOrganicPost') return 'timeline';
      else if (a === 'pageResponsivenessCard' || a === 'pageAboutCard')
        return 'pages_about';
      else if (a === 'inboxSearch' || a === 'sidebarSearch' || a === 'search')
        return 'search';
      else if (a === 'storyAggregatedUsers') return 'story_aggregated_users';
      else if (a === 'fundraiserMoreMenu')
        return 'fundraiser_support:reactive_more_menu';
      else if (a === 'fundraiserFaq') return 'fundraiser_support:reactive_faq';
      else if (a === 'notificationInThreadReply') return 'message_received';
      else if (a === 'roomsNullState') return 'rooms_null_state';
      else if (a === 'storyViewerSheetRow') return 'stories_viewed_by_list';
      else if (a === 'feedOrganicPostNewsfeedPagePostCta') return 'pages_cta';
      else if (a === 'chatheadsNewMessage') return 'new_msg_button';
      else if (a === 'groupExperts' || a === 'groupCommunityFriendsDialog')
        return 'group_experts_discovery_invite';
      else if (a === 'hovercard') return 'hovercard';
      else if (a === 'crisisListingAttachment')
        return 'crisis_listing_attachment';
      else if (a === 'mentalHealth') return 'mental_health';
      else if (a === 'event') return 'events_permalink';
      else if (a === 'jewelSearch') return 'jewel_search';
      else if (a === 'pagePopupChat') return 'pages_popup_chat';
      else if (a === 'communityHelp') return 'community_help';
      else if (a === 'jewelNewMessage') return 'jewel_new_message';
      else if (a === 'fundraiser') return 'fundraiser';
      else if (a === 'memories') return 'memories_home';
      else if (a === 'fundraiserSupportersList')
        return 'fundraiser_supporters_list';
      else if (a === 'groupRemovePost') return 'group_remove_post_tombstone';
      else if (a === 'pagesHeader') return 'pages_header';
      else if (a === 'groupMembers') return 'group_members_tab';
      else if (a === 'chatheads') return 'chat_heads';
      else if (a === 'birthday') return 'birthdays';
      else if (a === 'localBusinessesNearby') return 'local_businesses_nearby';
      else if (a === 'marketplace') return 'marketplace';
      else if (a === 'mutualFriendsDialog') return 'mutual_friends_dialog';
      else if (a === 'feedOrganicPostViewAndMessage') return 'feed_story_cta';
      else if (a === 'profileServicesMenu') return 'profile_services_menu';
      else if (a === 'adsCta') return 'reshares_dialog';
      else if (a === 'offer') return 'offer';
      else if (a === 'payments') return 'p2p_payments';
      else if (a === 'groupQuality') return 'group_quality';
      else if (a === 'pagesHomeFriendsDialog')
        return 'pages_home_friends_dialog';
      else if (a === 'communityFriendsDialog')
        return 'pages_community_friends_dialog';
      else if (a === 'groupChats') return 'group_chats';
      else if (a === 'gratitude') return 'gratitude';
      else return 'unknown';
    }
    function b(a) {
      if (a === 'inboxThreadList') return !0;
      else return a === 'jewel';
    }
    g.cast = a;
    g.getEntryPointHasGroupNameAsThreadSnippet = b;
  },
  98,
);
__d(
  'MWChatLogOpenChatTab.bs',
  [
    'MWChatTabEntryPoints.bs',
    'MessengerWebEntryPointsUtil.bs',
    'MessengerWebEventsFalcoEvent.bs',
    'ODS',
  ],
  function (a, b, c, d, e, f) {
    'use strict';
    function a(a, c, d, e) {
      var f = a !== void 0 ? a : !1;
      b('ODS').bumpEntityKey(3185, 'mwchat_tab', 'open_user');
      var g = b('MessengerWebEntryPointsUtil.bs').cast(d);
      b('MWChatTabEntryPoints.bs').tabEntryPoints[c] = g;
      return b('MessengerWebEventsFalcoEvent.bs').log(function () {
        return {
          entry_point: g,
          event_name: 'open_chat_tab',
          is_secured: f,
          other_user_fbid: f ? null : c,
        };
      });
    }
    function c(a, c, d) {
      var e = a !== void 0 ? a : !1;
      b('ODS').bumpEntityKey(3185, 'mwchat_tab', 'open_group');
      var f = b('MessengerWebEntryPointsUtil.bs').cast(d);
      b('MWChatTabEntryPoints.bs').tabEntryPoints[c] = f;
      return b('MessengerWebEventsFalcoEvent.bs').log(function () {
        return {
          entry_point: f,
          event_name: 'open_chat_tab',
          is_secured: e,
          thread_fbid: e ? null : c,
        };
      });
    }
    function d(a, c, d, e) {
      var f = a !== void 0 ? a : !1;
      b('ODS').bumpEntityKey(3185, 'mwchat_tab', 'open_page');
      var g = b('MessengerWebEntryPointsUtil.bs').cast(d);
      b('MWChatTabEntryPoints.bs').tabEntryPoints[c] = g;
      return b('MessengerWebEventsFalcoEvent.bs').log(function () {
        return {
          entry_point: g,
          event_name: 'open_chat_tab',
          is_secured: f,
          other_user_fbid: f ? null : c,
        };
      });
    }
    f.logOpenUserTab = a;
    f.logOpenGroupTab = c;
    f.logOpenPageTab = d;
  },
  null,
);
__d(
  'MAWGating',
  ['gkx', 'qex'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function a() {
      if (c('gkx')('1224637') !== !0)
        if (c('qex')._('1506') === !0) return !0;
        else return c('qex')._('155') === !0;
      else return !1;
    }
    function b() {
      return c('qex')._('607') === !0;
    }
    function d() {
      return c('qex')._('1364') === !0;
    }
    function e() {
      if (c('qex')._('1513') === !0) return !0;
      else return c('qex')._('155') === !0;
    }
    function f() {
      return c('gkx')('7045');
    }
    function h() {
      return c('gkx')('5514');
    }
    function i() {
      return c('qex')._('1313') === !0;
    }
    function j() {
      return c('qex')._('396') === !0;
    }
    function k() {
      return c('gkx')('690');
    }
    function l() {
      return c('gkx')('5611');
    }
    function m() {
      return c('gkx')('1262');
    }
    function n() {
      if (c('qex')._('1514') === !0) return !0;
      else return c('qex')._('155') === !0;
    }
    function o() {
      return c('qex')._('354');
    }
    function p() {
      if (c('qex')._('1515') === !0) return !0;
      else return c('qex')._('408') === !0;
    }
    function q() {
      return c('qex')._('1516') === !0;
    }
    function r() {
      return c('gkx')('956');
    }
    function s() {
      return c('gkx')('6172');
    }
    function t() {
      return c('gkx')('6187');
    }
    function u() {
      if (c('gkx')('6172')) return c('qex')._('699') === !0;
      else return !1;
    }
    function v() {
      if (c('gkx')('6172')) return c('gkx')('956');
      else return !1;
    }
    function w() {
      if (c('gkx')('6187')) return c('qex')._('700') === !0;
      else return !1;
    }
    function x() {
      if (c('gkx')('6187')) return c('gkx')('956');
      else return !1;
    }
    function y() {
      if (c('qex')._('1520') === !0) return !0;
      else return c('qex')._('155') === !0;
    }
    function z() {
      return c('qex')._('205') === !0;
    }
    function A() {
      return c('gkx')('4470');
    }
    function B() {
      return c('qex')._('1523') === !0;
    }
    function C() {
      return c('gkx')('7348');
    }
    function D() {
      return c('qex')._('899') === !0;
    }
    function E() {
      return c('qex')._('588') === !0;
    }
    function F() {
      return c('qex')._('1525') === !0;
    }
    function G() {
      return c('qex')._('50') === !0;
    }
    function H() {
      return c('gkx')('8220');
    }
    function I() {
      return c('qex')._('1672') === !0;
    }
    function J() {
      return c('qex')._('1526') === !0;
    }
    function K() {
      return c('qex')._('386') === !0;
    }
    function L() {
      return c('qex')._('1527') === !0;
    }
    var M = c('gkx')('4725');
    function N() {
      return c('qex')._('1528') === !0;
    }
    function O() {
      return c('qex')._('1529') === !0;
    }
    function P() {
      if (c('gkx')('3890')) return !0;
      else return c('qex')._('923') === !0;
    }
    function Q() {
      return c('gkx')('6551') && c('gkx')('4471') && c('gkx')('4463');
    }
    function R() {
      if (c('qex')._('1530') === !0) return !0;
      else return c('qex')._('155') === !0;
    }
    function S() {
      return c('qex')._('714') === !0;
    }
    function T() {
      return c('qex')._('1532') === !0;
    }
    function U() {
      return c('qex')._('1533') === !0;
    }
    function V() {
      return c('qex')._('1534') === !0;
    }
    function W() {
      if (c('qex')._('189') === !0) return !0;
      else return c('qex')._('155') === !0;
    }
    function X() {
      return c('qex')._('729') === !0;
    }
    function Y() {
      return c('qex')._('883') === !0;
    }
    function Z() {
      return c('qex')._('1536') === !0;
    }
    function $() {
      return c('qex')._('41') === !0;
    }
    function aa() {
      if (c('qex')._('68') === !0) return !0;
      else return c('qex')._('310') === !0;
    }
    function ba() {
      if (c('qex')._('77') === !0 || c('qex')._('68') === !0) return !0;
      else return c('qex')._('1264') === !0;
    }
    function ca() {
      return c('qex')._('963') === !0;
    }
    function da() {
      return c('qex')._('981') === !0;
    }
    function ea() {
      if (c('qex')._('1746') === !0 && c('qex')._('160') === !0) return !0;
      else return c('qex')._('987') === !0 && c('qex')._('1059') === !0;
    }
    function fa() {
      return c('qex')._('1763') === !0;
    }
    function ga() {
      return c('qex')._('1091') === !0;
    }
    var ha = c('gkx')('5834');
    function ia() {
      return c('qex')._('351') === !0;
    }
    function ja() {
      return c('qex')._('114') === !0;
    }
    function ka() {
      return c('qex')._('1113') === !0;
    }
    function la() {
      return c('qex')._('323') === !0;
    }
    function ma() {
      return c('gkx')('6581');
    }
    function na() {
      return c('gkx')('3106');
    }
    function oa() {
      return c('qex')._('542') === !0;
    }
    function pa() {
      return c('qex')._('571') === !0;
    }
    function qa() {
      return c('gkx')('346');
    }
    function ra() {
      return c('gkx')('3883');
    }
    function sa() {
      return c('gkx')('8355');
    }
    function ta() {
      return c('gkx')('433');
    }
    var ua = c('gkx')('1115');
    function va() {
      return c('gkx')('964');
    }
    function wa() {
      return c('gkx')('4169');
    }
    function xa() {
      return c('gkx')('4662');
    }
    function ya() {
      return c('gkx')('7858');
    }
    function za() {
      return c('gkx')('2563');
    }
    function Aa() {
      return c('gkx')('6005');
    }
    function Ba() {
      return c('qex')._('1126') === !0;
    }
    function Ca() {
      return c('qex')._('1127') === !0;
    }
    function Da() {
      return c('gkx')('6464');
    }
    function Ea() {
      return c('qex')._('133') === !0;
    }
    function Fa() {
      return c('qex')._('1306') === !0;
    }
    function Ga() {
      return c('qex')._('342') === !0;
    }
    function Ha() {
      return c('gkx')('6940');
    }
    function Ia() {
      return c('qex')._('411') === !0;
    }
    function Ja() {
      return c('qex')._('1210') === !0;
    }
    function Ka() {
      return c('qex')._('598') === !0;
    }
    function La() {
      return c('qex')._('1396') === !0;
    }
    function Ma() {
      return c('gkx')('4483');
    }
    function Na() {
      return c('gkx')('7252');
    }
    function Oa() {
      return c('qex')._('1268') === !0;
    }
    function Pa() {
      return c('qex')._('1228') === !0;
    }
    function Qa() {
      return c('qex')._('1766') === !0;
    }
    function Ra() {
      return c('qex')._('1766') === !0;
    }
    function Sa() {
      return c('gkx')('3383');
    }
    function Ta() {
      return c('qex')._('1229') === !0;
    }
    function Ua() {
      return c('qex')._('1245') === !0;
    }
    function Va() {
      return c('qex')._('681');
    }
    function Wa() {
      return c('qex')._('1258') === !0;
    }
    function Xa() {
      return c('gkx')('8239');
    }
    function Ya() {
      return c('gkx')('8350');
    }
    function Za() {
      if (c('gkx')('5884')) return !0;
      else return c('qex')._('302') === !0;
    }
    function $a() {
      return c('gkx')('4214');
    }
    function ab() {
      return c('gkx')('8457');
    }
    function bb() {
      return c('gkx')('1573');
    }
    function cb() {
      return c('qex')._('328') === !0;
    }
    function db() {
      return c('gkx')('491');
    }
    function eb() {
      return c('gkx')('5911');
    }
    function fb() {
      return c('gkx')('7935');
    }
    function gb() {
      return c('gkx')('2061') || c('qex')._('248') === !0;
    }
    function hb() {
      return c('gkx')('1901');
    }
    function ib() {
      return c('qex')._('416') === !0;
    }
    function jb() {
      return c('gkx')('3273');
    }
    function kb() {
      return c('qex')._('55') === !0;
    }
    function lb() {
      return !c('gkx')('5534') && c('gkx')('6096');
    }
    function mb() {
      return c('gkx')('5534');
    }
    function nb() {
      return c('qex')._('235') === !0;
    }
    function ob() {
      return c('gkx')('5653');
    }
    function pb() {
      return c('gkx')('7831');
    }
    function qb() {
      return c('gkx')('6233');
    }
    g.isArmadillo = a;
    g.isTlcSearchEnabled = b;
    g.isEyebrowTextEnabled = d;
    g.isGifEnabled = e;
    g.isGifSearchEnabled = f;
    g.isGroupSKDMEnabled = h;
    g.isMobileTLCOverride = i;
    g.isSoftBlockEnabled = j;
    g.isDebugUIEnabled = k;
    g.isDevDebugEnabled = l;
    g.enableRawStanzaQueueStore = m;
    g.isStickerEnabled = n;
    g.getArmadilloDbVersion = o;
    g.wellBeingFeaturesEnabled = p;
    g.isEphemeralMessagesEnabled = q;
    g.isDualSendWebOrCrossApp = r;
    g.oneToOneDualSendKillswitch = s;
    g.groupDualSendKillswitch = t;
    g.isOneToOneDualSendTextEnabled = u;
    g.isOneToOneDualSendMediaEnabled = v;
    g.isGroupDualSendTextEnabled = w;
    g.isGroupDualSendMediaEnabled = x;
    g.isForwardEnabled = y;
    g.isCrossForwardEnabled = z;
    g.isVaultingEnabled = A;
    g.isReportingEnabled = B;
    g.isPullModeEnabled = C;
    g.isBulkGroupEncEnabled = D;
    g.isFeatureLimitEnabled = E;
    g.isReactionsEnabled = F;
    g.isCustomReactionsEnabled = G;
    g.isDbCleanupEnabled = H;
    g.isICDCHTTPRegEnabled = I;
    g.isICDCEnabled = J;
    g.isICDCErrorEnabled = K;
    g.isClientTimeoutsEnabled = L;
    g.isOptedOutOfTimeouts = M;
    g.isUnsendGlobalEnabled = N;
    g.isUnsendLocallyEnabled = O;
    g.isOccamadillo = P;
    g.isOccamadilloResumeSyncEnabled = Q;
    g.isEncryptionAtRestEnabled = R;
    g.isDevserverDeviceEnabled = S;
    g.isBlockEnabled = T;
    g.isRestrictEnabled = U;
    g.isReactionsCleanerEnabled = V;
    g.isRepliesEnabled = W;
    g.isSearchEnabled = X;
    g.isContentSearchEnabled = Y;
    g.isAppSyncDeleteThreadEnabled = Z;
    g.isSecurityAlertEnabled = $;
    g.isThreadLevelCutoverEnabled = aa;
    g.isXMAFeedPostShareEnabled = ba;
    g.isLabyrinthOnWebEnabled = ca;
    g.isUploadFlowEnabled = da;
    g.isXMABackupEnabled = ea;
    g.isAttachmentBackupEnabled = fa;
    g.isGroupInvitesEnabled = ga;
    g.isArmadilloMessageSortedOrderChanged = ha;
    g.isHotLikeEnabled = ia;
    g.isPushNotificationEnabled = ja;
    g.isPinCodeEnabled = ka;
    g.isPinCodeAccessibleInputEnabled = la;
    g.isGDriveIntegrationEnabled = ma;
    g.isE2EEAttributionAndPresenceEnabled = na;
    g.isMobileExternalIdFormatEnabled = oa;
    g.isAdminMsgOptEnabled = pa;
    g.isWebErrorStateM1Enabled = qa;
    g.isWebErrorStateM2Enabled = ra;
    g.isBulkifyHIMEnabled = sa;
    g.isWebLoadStateEnabled = ta;
    g.isInitSyncApiImprovementsEnabled = ua;
    g.isSenderKeyPredistributionEnabled = va;
    g.isPreEstablishSessionEnabled = wa;
    g.isSmartSenderKeyRotationEnabled = xa;
    g.isDeviceRegistrationDomainUniquenessEnabled = ya;
    g.isMultiDomainReRegRecoveryEnabled = za;
    g.isReregistrationOnSessionChangeEnabled = Aa;
    g.isLegacyThreadUploadEnabled = Ba;
    g.isDyiEnabled = Ca;
    g.isArmadilloTotalMessageCollectionEnabled = Da;
    g.shouldDisplayWeakPinPromptForEBSetup = Ea;
    g.isVirtualDeviceRevocationFlowEnabled = Fa;
    g.isDeviceAdminMessagesSnippetDisabled = Ga;
    g.isBulkContactUpdateEnabled = Ha;
    g.isQrCodeEnabled = Ia;
    g.isRetroactiveBackupsEnabled = Ja;
    g.isRetroactiveBackupsAttachmentsEnabled = Ka;
    g.isRetroactiveBackupsRetriesEnabled = La;
    g.isDetailedHandleIncomingMsgQPLEnabled = Ma;
    g.isBatchLoadParticipantsEnabled = Na;
    g.isFrankingEnabled = Oa;
    g.isEbEnabledOnIg = Pa;
    g.isCodeOnlyInitEnabled = Qa;
    g.isCodeOnlyWorkerEnabled = Ra;
    g.isSecurityToggleForDFEnabled = Sa;
    g.isOnboardingFlowEnabled = Ta;
    g.isRestoreFlowEnabled = Ua;
    g.getOrchestratorVersion = Va;
    g.isUserPartOfEncryptedBackupDebugging = Wa;
    g.isTlcPublicUser = Xa;
    g.isDownloadablePreviewsEnabled = Ya;
    g.isVoiceClipEnabled = Za;
    g.isJpegThumbnailOverChatdDisabled = $a;
    g.isForceNonPersistedJobsEnable = ab;
    g.shouldPreloadSessions = bb;
    g.isLoggingDisabled = cb;
    g.isBulkRetryReceiptProcessing = db;
    g.isEphemeralSettingsInMemoryEnabled = eb;
    g.isChatWithYourselfEnabled = fb;
    g.isNewJobIDBEnabled = gb;
    g.isCMCDMessengerWebEnabled = hb;
    g.isEncryptedBackupsUploadTrackingEnabled = ib;
    g.isBackendRegistrationEnabled = jb;
    g.isMediaBackupTableEnabled = kb;
    g.isMAWLoggerDisabled = lb;
    g.isFlushingLogsFromWorkerInBulkEnabled = mb;
    g.isSpamFetchEnabled = nb;
    g.isUseridAnnotationEnabled = ob;
    g.enableStanzaQueueChatProcessing = pb;
    g.isPersistedEBTableEnabled = qb;
  },
  98,
);
__d(
  'LSBitFlag.bs',
  ['bs_caml', 'bs_caml_int64', 'bs_int64'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function a(a, b) {
      return c('bs_caml').i64_eq(c('bs_caml_int64').and_(b, a), a);
    }
    function b(a, b) {
      return c('bs_caml_int64').or_(b, a);
    }
    function d(a, b) {
      return c('bs_caml_int64').and_(b, c('bs_int64').lognot(a));
    }
    g.has = a;
    g.set = b;
    g.clear = d;
    g.empty = c('bs_caml_int64').zero;
  },
  98,
);
__d(
  'LSDbKeyComparer.bs',
  ['LSDbKeyComparer'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    (g.cmp = d('LSDbKeyComparer').compareKey),
      (g.maxKey = d('LSDbKeyComparer').MAX_KEY);
  },
  98,
);
__d(
  'LSDbForeignKeys',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    a = {
      attachments: [
        { indexName: 'fk_attachments', tableName: 'attachment_items' },
        { indexName: 'fk_attachments', tableName: 'attachment_ctas' },
      ],
      community_chat_poll_options: [{ tableName: 'community_chat_poll_votes' }],
      community_chat_polls: [
        { tableName: 'community_chat_poll_options' },
        { tableName: 'community_chat_poll_votes' },
      ],
      messages: [{ indexName: 'fk_messages', tableName: 'attachments' }],
      pending_tasks: [
        { tableName: 'encrypted_backup_restore_task_payload_context' },
        {
          indexName: 'fk_pending_tasks',
          tableName: 'pending_backups_context_v2',
        },
        {
          indexName: 'fk_pending_tasks',
          tableName: 'secure_recovery_code_data',
        },
        {
          indexName: 'fk_pending_tasks',
          tableName: 'secure_encrypted_backups_message_thread_id_context',
        },
      ],
      rooms: [{ tableName: 'room_participants' }],
      secure_encrypted_backups_client_state: [
        {
          indexName: 'fk_secure_encrypted_backups_client_state',
          tableName: 'secure_encrypted_backups_epochs',
        },
      ],
      secure_encrypted_backups_devices: [
        {
          indexName:
            'fk_secure_encrypted_backups_device_supported_versions_device_id',
          tableName: 'secure_encrypted_backups_device_supported_versions',
        },
      ],
      threads: [
        { indexName: 'threadKeyCtaId', tableName: 'thread_nullstate_ctas' },
        { tableName: 'messages' },
        { tableName: 'attachments' },
        { tableName: 'thread_nullstate' },
        { tableName: 'messages_ranges_v2__generated' },
        { tableName: 'participants' },
        { indexName: 'fk_threads', tableName: 'mi_act_mapping_table' },
      ],
    };
    b = a;
    f['default'] = b;
  },
  66,
);
__d(
  'LSMetadata',
  [
    'LSDbForeignKeys',
    'LSTableSchemas',
    'ReStoreDefaultValuesMetadata',
    'ReStoreIndexMetadata',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function h(a) {
      var b = {},
        e = {},
        f = -1;
      for (var g = 0; g < a.length; g++) {
        var h = a[g];
        for (
          var h = h,
            i = Array.isArray(h),
            j = 0,
            h = i
              ? h
              : h[
                  typeof Symbol === 'function' ? Symbol.iterator : '@@iterator'
                ]();
          ;

        ) {
          var k, l;
          if (i) {
            if (j >= h.length) break;
            l = h[j++];
          } else {
            j = h.next();
            if (j.done) break;
            l = j.value;
          }
          l = l;
          k = {
            autoIncrement: (k = l.auto_increment) != null ? k : !1,
            cascadeUpdates: (k = c('LSDbForeignKeys')[l.name]) != null ? k : [],
            id: parseInt(l.id, 10),
            indexes: (k = l.indexes) != null ? k : {},
            name: l.name,
            primaryKeyIds: l.primary_key,
          };
          b[k.id] = k;
          e[k.name] = k;
          k.id > f && (f = k.id);
        }
      }
      l = {
        autoIncrement: !1,
        cascadeUpdates: [],
        id: ++f,
        indexes: {},
        name: d('ReStoreIndexMetadata').indicesTableName,
        primaryKeyIds: ['tableName', 'indexName'],
      };
      b[l.id] = l;
      e[l.name] = l;
      k = {
        autoIncrement: !1,
        cascadeUpdates: [],
        id: ++f,
        indexes: {},
        name: d('ReStoreDefaultValuesMetadata').defaultValuesTableName,
        primaryKeyIds: ['t'],
      };
      b[k.id] = k;
      e[k.name] = k;
      return { tableIds: b, tableNames: e };
    }
    function a(a) {
      a = h(a);
      var b = a.tableIds;
      a = a.tableNames;
      return { tableIds: b, tableNames: a };
    }
    b = a(c('LSTableSchemas'));
    g.buildTableData = h;
    g.buildMetadata = a;
    g.metadata = b;
  },
  98,
);
__d(
  'bs_js_dict',
  ['bs_caml_option'],
  function (a, b, c, d, e, f) {
    'use strict';
    function a(a, c) {
      if (c in a) return b('bs_caml_option').some(a[c]);
    }
    var g = function (a, b) {
      delete a[b];
    };
    function c(a) {
      var b = Object.keys(a),
        c = b.length,
        d = new Array(c);
      for (var e = 0; e < c; ++e) {
        var f = b[e];
        d[e] = [f, a[f]];
      }
      return d;
    }
    function d(a) {
      var b = Object.keys(a),
        c = b.length,
        d = new Array(c);
      for (var e = 0; e < c; ++e) d[e] = a[b[e]];
      return d;
    }
    function e(a) {
      var b = {};
      a = a;
      while (!0) {
        var c = a;
        if (!c) return b;
        var d = c.hd;
        b[d[0]] = d[1];
        a = c.tl;
        continue;
      }
    }
    function h(a) {
      var b = {},
        c = a.length;
      for (var d = 0; d < c; ++d) {
        var e = a[d];
        b[e[0]] = e[1];
      }
      return b;
    }
    function i(a, b) {
      var c = {},
        d = Object.keys(b),
        e = d.length;
      for (var f = 0; f < e; ++f) {
        var g = d[f];
        c[g] = a(b[g]);
      }
      return c;
    }
    f.get = a;
    f.unsafeDeleteKey = g;
    f.entries = c;
    f.values = d;
    f.fromList = e;
    f.fromArray = h;
    f.map = i;
  },
  null,
);
__d(
  'WAErr',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    function a(a) {
      a = new Error(a);
      if (a.stack === void 0)
        try {
          throw a;
        } catch (a) {}
      return a;
    }
    f['default'] = a;
  },
  66,
); /*FB_PKG_DELIM*/
__d(
  'CometComposerSproutPromotionActionsEndPromotionMutation_facebookRelayOperation',
  [],
  function (a, b, c, d, e, f) {
    e.exports = '4699225106842896';
  },
  null,
);
__d(
  'CometComposerSproutPromotionActionsEndPromotionMutation.graphql',
  [
    'CometComposerSproutPromotionActionsEndPromotionMutation_facebookRelayOperation',
  ],
  function (a, b, c, d, e, f) {
    'use strict';
    a = (function () {
      var a = [{ defaultValue: null, kind: 'LocalArgument', name: 'input' }],
        c = [
          {
            alias: null,
            args: [{ kind: 'Variable', name: 'data', variableName: 'input' }],
            concreteType: 'SproutPromotionEndResponsePayload',
            kind: 'LinkedField',
            name: 'sprout_promotion_end',
            plural: !1,
            selections: [
              {
                alias: null,
                args: null,
                kind: 'ScalarField',
                name: '__typename',
                storageKey: null,
              },
            ],
            storageKey: null,
          },
        ];
      return {
        fragment: {
          argumentDefinitions: a,
          kind: 'Fragment',
          metadata: null,
          name: 'CometComposerSproutPromotionActionsEndPromotionMutation',
          selections: c,
          type: 'Mutation',
          abstractKey: null,
        },
        kind: 'Request',
        operation: {
          argumentDefinitions: a,
          kind: 'Operation',
          name: 'CometComposerSproutPromotionActionsEndPromotionMutation',
          selections: c,
        },
        params: {
          id: b(
            'CometComposerSproutPromotionActionsEndPromotionMutation_facebookRelayOperation',
          ),
          metadata: {},
          name: 'CometComposerSproutPromotionActionsEndPromotionMutation',
          operationKind: 'mutation',
          text: null,
        },
      };
    })();
    e.exports = a;
  },
  null,
);
__d(
  'useCometComposerWithTagFriendsDataSourceQuery_facebookRelayOperation',
  [],
  function (a, b, c, d, e, f) {
    e.exports = '4936483286421335';
  },
  null,
);
__d(
  'useCometComposerWithTagFriendsDataSourceQuery.graphql',
  ['useCometComposerWithTagFriendsDataSourceQuery_facebookRelayOperation'],
  function (a, b, c, d, e, f) {
    'use strict';
    a = (function () {
      var a = [
          { defaultValue: null, kind: 'LocalArgument', name: 'id' },
          { defaultValue: null, kind: 'LocalArgument', name: 'query' },
          { defaultValue: null, kind: 'LocalArgument', name: 'scale' },
        ],
        c = [{ kind: 'Variable', name: 'id', variableName: 'id' }],
        d = [{ kind: 'Variable', name: 'named', variableName: 'query' }],
        e = {
          alias: null,
          args: null,
          kind: 'ScalarField',
          name: 'name',
          storageKey: null,
        },
        f = {
          alias: null,
          args: null,
          kind: 'ScalarField',
          name: 'id',
          storageKey: null,
        },
        g = {
          alias: 'photo',
          args: [
            { kind: 'Literal', name: 'height', value: 40 },
            { kind: 'Variable', name: 'scale', variableName: 'scale' },
            { kind: 'Literal', name: 'width', value: 40 },
          ],
          concreteType: 'Image',
          kind: 'LinkedField',
          name: 'profile_picture',
          plural: !1,
          selections: [
            {
              alias: null,
              args: null,
              kind: 'ScalarField',
              name: 'uri',
              storageKey: null,
            },
          ],
          storageKey: null,
        };
      return {
        fragment: {
          argumentDefinitions: a,
          kind: 'Fragment',
          metadata: null,
          name: 'useCometComposerWithTagFriendsDataSourceQuery',
          selections: [
            {
              alias: null,
              args: c,
              concreteType: 'User',
              kind: 'LinkedField',
              name: 'user',
              plural: !1,
              selections: [
                {
                  alias: null,
                  args: d,
                  concreteType: 'FriendsConnection',
                  kind: 'LinkedField',
                  name: 'friends',
                  plural: !1,
                  selections: [
                    {
                      alias: null,
                      args: null,
                      concreteType: 'FriendsEdge',
                      kind: 'LinkedField',
                      name: 'edges',
                      plural: !0,
                      selections: [
                        {
                          alias: null,
                          args: null,
                          concreteType: 'User',
                          kind: 'LinkedField',
                          name: 'node',
                          plural: !1,
                          selections: [
                            {
                              kind: 'InlineFragment',
                              selections: [e, f, g],
                              type: 'Profile',
                              abstractKey: '__isProfile',
                            },
                          ],
                          storageKey: null,
                        },
                      ],
                      storageKey: null,
                    },
                  ],
                  storageKey: null,
                },
              ],
              storageKey: null,
            },
          ],
          type: 'Query',
          abstractKey: null,
        },
        kind: 'Request',
        operation: {
          argumentDefinitions: a,
          kind: 'Operation',
          name: 'useCometComposerWithTagFriendsDataSourceQuery',
          selections: [
            {
              alias: null,
              args: c,
              concreteType: 'User',
              kind: 'LinkedField',
              name: 'user',
              plural: !1,
              selections: [
                {
                  alias: null,
                  args: d,
                  concreteType: 'FriendsConnection',
                  kind: 'LinkedField',
                  name: 'friends',
                  plural: !1,
                  selections: [
                    {
                      alias: null,
                      args: null,
                      concreteType: 'FriendsEdge',
                      kind: 'LinkedField',
                      name: 'edges',
                      plural: !0,
                      selections: [
                        {
                          alias: null,
                          args: null,
                          concreteType: 'User',
                          kind: 'LinkedField',
                          name: 'node',
                          plural: !1,
                          selections: [
                            f,
                            {
                              kind: 'InlineFragment',
                              selections: [e, g],
                              type: 'Profile',
                              abstractKey: '__isProfile',
                            },
                          ],
                          storageKey: null,
                        },
                      ],
                      storageKey: null,
                    },
                  ],
                  storageKey: null,
                },
                f,
              ],
              storageKey: null,
            },
          ],
        },
        params: {
          id: b(
            'useCometComposerWithTagFriendsDataSourceQuery_facebookRelayOperation',
          ),
          metadata: {},
          name: 'useCometComposerWithTagFriendsDataSourceQuery',
          operationKind: 'query',
          text: null,
        },
      };
    })();
    e.exports = a;
  },
  null,
);
__d(
  'useCometComposerWithTagSuggestionsDataSourceQuery_facebookRelayOperation',
  [],
  function (a, b, c, d, e, f) {
    e.exports = '4607110059412331';
  },
  null,
);
__d(
  'useCometComposerWithTagSuggestionsDataSourceQuery.graphql',
  ['useCometComposerWithTagSuggestionsDataSourceQuery_facebookRelayOperation'],
  function (a, b, c, d, e, f) {
    'use strict';
    a = (function () {
      var a = [
          { defaultValue: null, kind: 'LocalArgument', name: 'limit' },
          { defaultValue: null, kind: 'LocalArgument', name: 'scale' },
        ],
        c = [{ kind: 'Variable', name: 'first', variableName: 'limit' }],
        d = {
          alias: null,
          args: null,
          kind: 'ScalarField',
          name: 'name',
          storageKey: null,
        },
        e = {
          alias: null,
          args: null,
          kind: 'ScalarField',
          name: 'id',
          storageKey: null,
        },
        f = {
          alias: 'photo',
          args: [
            { kind: 'Literal', name: 'height', value: 40 },
            { kind: 'Variable', name: 'scale', variableName: 'scale' },
            { kind: 'Literal', name: 'width', value: 40 },
          ],
          concreteType: 'Image',
          kind: 'LinkedField',
          name: 'profile_picture',
          plural: !1,
          selections: [
            {
              alias: null,
              args: null,
              kind: 'ScalarField',
              name: 'uri',
              storageKey: null,
            },
          ],
          storageKey: null,
        };
      return {
        fragment: {
          argumentDefinitions: a,
          kind: 'Fragment',
          metadata: null,
          name: 'useCometComposerWithTagSuggestionsDataSourceQuery',
          selections: [
            {
              alias: null,
              args: null,
              concreteType: 'Viewer',
              kind: 'LinkedField',
              name: 'viewer',
              plural: !1,
              selections: [
                {
                  alias: null,
                  args: c,
                  concreteType: 'SuggestedWithTagsConnection',
                  kind: 'LinkedField',
                  name: 'suggested_with_tags',
                  plural: !1,
                  selections: [
                    {
                      alias: null,
                      args: null,
                      concreteType: 'SuggestedWithTagsEdge',
                      kind: 'LinkedField',
                      name: 'edges',
                      plural: !0,
                      selections: [
                        {
                          alias: null,
                          args: null,
                          concreteType: 'User',
                          kind: 'LinkedField',
                          name: 'node',
                          plural: !1,
                          selections: [
                            {
                              kind: 'InlineFragment',
                              selections: [d, e, f],
                              type: 'Profile',
                              abstractKey: '__isProfile',
                            },
                          ],
                          storageKey: null,
                        },
                      ],
                      storageKey: null,
                    },
                  ],
                  storageKey: null,
                },
              ],
              storageKey: null,
            },
          ],
          type: 'Query',
          abstractKey: null,
        },
        kind: 'Request',
        operation: {
          argumentDefinitions: a,
          kind: 'Operation',
          name: 'useCometComposerWithTagSuggestionsDataSourceQuery',
          selections: [
            {
              alias: null,
              args: null,
              concreteType: 'Viewer',
              kind: 'LinkedField',
              name: 'viewer',
              plural: !1,
              selections: [
                {
                  alias: null,
                  args: c,
                  concreteType: 'SuggestedWithTagsConnection',
                  kind: 'LinkedField',
                  name: 'suggested_with_tags',
                  plural: !1,
                  selections: [
                    {
                      alias: null,
                      args: null,
                      concreteType: 'SuggestedWithTagsEdge',
                      kind: 'LinkedField',
                      name: 'edges',
                      plural: !0,
                      selections: [
                        {
                          alias: null,
                          args: null,
                          concreteType: 'User',
                          kind: 'LinkedField',
                          name: 'node',
                          plural: !1,
                          selections: [
                            e,
                            {
                              kind: 'InlineFragment',
                              selections: [d, f],
                              type: 'Profile',
                              abstractKey: '__isProfile',
                            },
                          ],
                          storageKey: null,
                        },
                      ],
                      storageKey: null,
                    },
                  ],
                  storageKey: null,
                },
              ],
              storageKey: null,
            },
          ],
        },
        params: {
          id: b(
            'useCometComposerWithTagSuggestionsDataSourceQuery_facebookRelayOperation',
          ),
          metadata: {},
          name: 'useCometComposerWithTagSuggestionsDataSourceQuery',
          operationKind: 'query',
          text: null,
        },
      };
    })();
    e.exports = a;
  },
  null,
);
__d(
  'CometComposerPushPageGlimmer.react',
  [
    'CometComposerStylingConstants',
    'CometProgressRingIndeterminate.react',
    'react',
    'stylex',
    'withComposerViewStatePart',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react'),
      i = {
        popover: {
          alignItems: 'x6s0dn4',
          boxSizing: 'x9f619',
          display: 'x78zum5',
          height: 'x1vd4hg5',
          justifyContent: 'xl56j7k',
          width: 'xlro9se',
          $$css: !0,
        },
        pushview: {
          alignItems: 'x6s0dn4',
          boxSizing: 'x9f619',
          display: 'x78zum5',
          justifyContent: 'xl56j7k',
          width: 'xh8yej3',
          $$css: !0,
        },
      };
    function a(a) {
      var b = a.composerDialogHeight,
        e = a.withPopover;
      a = a.xstyle;
      return h.jsx('div', {
        className: c('stylex')(e && i.popover, !e && i.pushview, a),
        style: {
          minHeight:
            ((e = b) != null
              ? e
              : d('CometComposerStylingConstants').COMPOSER_ORIGINAL_HEIGHT) -
            d('CometComposerStylingConstants').PUSH_PAGE_HEADER_HEIGHT,
        },
        children: h.jsx(c('CometProgressRingIndeterminate.react'), {
          color: 'disabled',
          size: 24,
        }),
      });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    b = c('withComposerViewStatePart')(a, function (a) {
      return {
        composerDialogHeight:
          (a = a.composerSizeAndStyleMetadata) == null
            ? void 0
            : a.composerDialogHeight,
      };
    });
    g['default'] = b;
  },
  98,
);
__d(
  'CometComposerSproutButtonTooltip.react',
  ['CometScreenReaderText.react', 'CometTooltip.react', 'react'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    function a(a) {
      var b = a.children,
        d = a.id,
        e = a.isVisible;
      a = a.text;
      return !e
        ? b
        : h.jsxs(c('CometTooltip.react'), {
            position: 'above',
            tooltip: a,
            children: [
              b,
              h.jsx(c('CometScreenReaderText.react'), { id: d, text: a }),
            ],
          });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    g['default'] = a;
  },
  98,
);
__d(
  'ComposerSproutDisplayTypeContext',
  ['react'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    a = d('react');
    b = a.createContext({
      renderButtonCollapsed: !0,
      showLabelAsTooltip: !0,
      type: 'inline',
    });
    g['default'] = b;
  },
  98,
);
__d(
  'CometComposerPromotionContext',
  ['react'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    a = d('react');
    b = a.createContext({ isSproutPromoted: !1, listContainsPromotion: !1 });
    g['default'] = b;
  },
  98,
);
__d(
  'useSproutPromotionTooltip',
  ['CometComposerPromotionContext', 'react', 'useCometPulseNUX'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    b = d('react');
    var h = b.useContext,
      i = b.useState,
      j = { tooltipWidth: { width: 'xdzyupr', $$css: !0 } };
    function a() {
      var a,
        b,
        d = h(c('CometComposerPromotionContext')),
        e = i((d == null ? void 0 : d.isSproutPromoted) === !0),
        f = e[0],
        g = e[1];
      e = { position: 'above' };
      var k = d == null ? void 0 : d.promotionID;
      a = (a = d == null ? void 0 : d.subtitle) != null ? a : '';
      d = (d = d == null ? void 0 : d.helperTextLabel) != null ? d : '';
      a = {
        arrowStyle: 'inset',
        hasCloseButton: !0,
        label: a,
        position: 'above',
        type: 'accent',
        xstyle: j.tooltipWidth,
      };
      var l = { 'aria-label': d, overlayDisabled: !1 },
        m = k == null ? void 0 : k.toString();
      b = c('useCometPulseNUX')(
        (b = m) != null ? b : '0',
        { calloutProps: a, contextualLayerProps: e, pulseProps: l },
        m != null,
      );
      a = b.dismissNux;
      e = b.targetRef;
      l = b.view;
      return d.trim().length === 0 || k == null
        ? {
            dismissNux: a,
            hidePulse: function () {
              return g(!1);
            },
            isPulseVisible: !1,
            targetRef: e,
            view: l,
          }
        : {
            dismissNux: a,
            hidePulse: function () {
              return g(!1);
            },
            isPulseVisible: f,
            targetRef: e,
            view: l,
          };
    }
    g['default'] = a;
  },
  98,
);
__d(
  'FeedComposerCometSproutCollapsedButton.react',
  [
    'CometContextualLayerAnchorRoot.react',
    'CometPressable.react',
    'CometPressableChildrenWithOverlay.react',
    'CometTooltip.react',
    'ComposerSproutDisplayTypeContext',
    'ImageIconSource',
    'TetraIcon.react',
    'react',
    'useSproutPromotionTooltip',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react'),
      i = d('react').useContext,
      j = {
        circle: {
          borderTopStartRadius: 'x14yjl9h',
          borderTopEndRadius: 'xudhj91',
          borderBottomEndRadius: 'x18nykt9',
          borderBottomStartRadius: 'xww2gxu',
          $$css: !0,
        },
        icon: {
          alignItems: 'x6s0dn4',
          display: 'x78zum5',
          height: 'xc9qbxq',
          justifyContent: 'xl56j7k',
          position: 'x1n2onr6',
          width: 'x14qfxbe',
          $$css: !0,
        },
        inner: { height: 'x5yr21d', width: 'xh8yej3', $$css: !0 },
        outer: {
          height: 'xc9qbxq',
          position: 'x1n2onr6',
          width: 'x14qfxbe',
          $$css: !0,
        },
        pressable: {
          appearance: 'xjyslct',
          backgroundColor: 'xjbqb8w',
          borderTopStyle: 'x13fuv20',
          borderEndStyle: 'xu3j5b3',
          borderBottomStyle: 'x1q0q8m5',
          borderStartStyle: 'x26u7qi',
          borderTopWidth: 'x972fbf',
          borderEndWidth: 'xcfux6l',
          borderBottomWidth: 'x1qhh985',
          borderStartWidth: 'xm0m39n',
          boxSizing: 'x9f619',
          marginTop: 'xdj266r',
          marginEnd: 'x11i5rnm',
          marginBottom: 'xat24cr',
          marginStart: 'x1mh8g0r',
          paddingTop: 'xexx8yu',
          paddingEnd: 'x4uap5',
          paddingBottom: 'x18d9i69',
          paddingStart: 'xkhd6sd',
          position: 'x1n2onr6',
          textAlign: 'x16tdsg8',
          zIndex: 'x1ja2u2z',
          $$css: !0,
        },
        pressed: { transform: 'x1n5d1j9', $$css: !0 },
      };
    function a(a, b) {
      var d = a.activeColor,
        e = a.isActive,
        f = a.onFocusIn,
        g = a.onFocusOut,
        k = a.onHoverIn,
        l = a.overlayDisabled;
      l = l === void 0 ? !1 : l;
      a = babelHelpers.objectWithoutPropertiesLoose(a, [
        'activeColor',
        'isActive',
        'onFocusIn',
        'onFocusOut',
        'onHoverIn',
        'overlayDisabled',
      ]);
      var m = a['aria-describedby'],
        n = a.disabled,
        o = a.icon,
        p = a.label,
        q = a.onHoverOut,
        r = a.onPress;
      a = a.testid;
      var s = h.jsx(c('TetraIcon.react'), {
        color: 'disabled',
        icon: new (c('ImageIconSource'))(o, 24, 24),
        ref: b,
      });
      o = (a = c('useSproutPromotionTooltip')()) != null ? a : {};
      var t = o.hidePulse,
        u = o.isPulseVisible,
        v = o.targetRef,
        w = o.view;
      a = function (a) {
        t(), r && r(a);
      };
      o = i(c('ComposerSproutDisplayTypeContext'));
      m = h.jsx(c('CometPressable.react'), {
        'aria-describedby': m,
        'aria-label': p,
        disabled: !1,
        label: p,
        onFocusIn: f,
        onFocusOut: g,
        onHoverIn: k,
        onHoverOut: q,
        onPress: n === !0 ? void 0 : a,
        overlayDisabled: n === !0 || l,
        ref: b,
        testid: void 0,
        xstyle: function (a) {
          a = a.pressed;
          return [j.pressable, a && n !== !0 && j.pressed];
        },
        children: function (a) {
          a = a.overlay;
          return h.jsx('div', {
            children: h.jsx(c('CometContextualLayerAnchorRoot.react'), {
              children: h.jsxs('div', {
                ref: v,
                children: [
                  h.jsx('div', {
                    className:
                      'xc9qbxq x1n2onr6 x14qfxbe x14yjl9h xudhj91 x18nykt9 xww2gxu',
                    children: h.jsx(
                      c('CometPressableChildrenWithOverlay.react'),
                      {
                        overlay: a,
                        children: h.jsx('div', {
                          className:
                            'x6s0dn4 x78zum5 x5yr21d xl56j7k x1n2onr6 xh8yej3',
                          children: s,
                        }),
                      },
                    ),
                  }),
                  u && n !== !0 && !e && w,
                ],
              }),
            }),
          });
        },
      });
      n === !1 &&
        o.showLabelAsTooltip &&
        (m = h.jsx(c('CometTooltip.react'), {
          position: 'above',
          tooltip: p,
          children: m,
        }));
      e &&
        (m = h.jsx('div', {
          className:
            'xc9qbxq x1n2onr6 x14qfxbe x14yjl9h xudhj91 x18nykt9 xww2gxu',
          ref: b,
          style: { backgroundColor: d },
          children: m,
        }));
      return m;
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    b = h.forwardRef(a);
    g['default'] = b;
  },
  98,
);
__d(
  'FeedComposerCometSproutExpandedButton.react',
  [
    'ix',
    'CometComposerPromotionContext',
    'CometTooltip.react',
    'ComposerSproutDisplayTypeContext',
    'ImageIconSource',
    'JSResourceForInteraction',
    'TetraAccessoryListCell.react',
    'fbicon',
    'lazyLoadComponent',
    'react',
  ],
  function (a, b, c, d, e, f, g, h) {
    'use strict';
    var i = d('react');
    b = d('react');
    var j = b.useContext,
      k = b.useState,
      l = c('lazyLoadComponent')(
        c('JSResourceForInteraction')(
          'FeedComposerCometSproutExpandedPromotedLabel.react',
        ).__setRef('FeedComposerCometSproutExpandedButton.react'),
      );
    function a(a) {
      var b,
        e = j(c('ComposerSproutDisplayTypeContext')),
        f = j(c('CometComposerPromotionContext'));
      b = (b = f == null ? void 0 : f.isSproutPromoted) != null ? b : !1;
      var g = k(!1),
        m = g[0],
        n = g[1];
      if (e.type !== 'push_view' && e.type !== 'wing_expanded') return null;
      g = a['aria-describedby'];
      var o = a.disabled,
        p = a.icon,
        q = a.isActive,
        r = a.label,
        s = a.onClick,
        t = a.opensExternally;
      t = t === void 0 ? !1 : t;
      a = a.testid;
      a = null;
      var u = r,
        v = 4;
      b &&
        ((a = f == null ? void 0 : f.subtitle),
        (u = i.jsx(l, { label: r })),
        (v = 0));
      b = i.jsx(c('TetraAccessoryListCell.react'), {
        addOnPrimary: {
          icon: new (c('ImageIconSource'))(p, 24, 24),
          type: 'icon',
        },
        addOnPrimaryVerticalAlign: 'center',
        addOnSecondary:
          q === !0
            ? {
                color: 'highlight',
                icon: d('fbicon')._(h('477815'), 24),
                type: 'icon',
              }
            : t && m
            ? {
                color: 'tertiary',
                icon: d('fbicon')._(h('538182'), 16),
                type: 'icon',
              }
            : void 0,
        body: a,
        describedby: g,
        disabled: o,
        emphasized: !0,
        headline: u,
        headlineLineLimit: e.forceSingleLineLabel === !0 ? 1 : void 0,
        onHoverIn: function () {
          return n(!0);
        },
        onHoverOut: function () {
          return n(!1);
        },
        onPress: function () {
          e.popPage && e.popPage(), s && s();
        },
        paddingHorizontal: v,
        selected: q === !0,
      });
      o === !1 &&
        e.showLabelAsTooltip &&
        (b = i.jsx(c('CometTooltip.react'), {
          position: 'above',
          tooltip: r,
          children: b,
        }));
      return i.jsx('div', { 'data-testid': void 0, children: b });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    g['default'] = a;
  },
  98,
);
__d(
  'CometComposerSproutPromotionActions',
  [
    'CometComposerSproutPromotionActionsEndPromotionMutation.graphql',
    'CometRelay',
    'recoverableViolation',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h,
      i =
        h !== void 0
          ? h
          : (h = b(
              'CometComposerSproutPromotionActionsEndPromotionMutation.graphql',
            ));
    function a(a) {
      var b = a.environment,
        e = a.input,
        f = a.onCompleted,
        g = a.onError;
      d('CometRelay').commitMutation(b, {
        mutation: i,
        onCompleted: f,
        onError: function (a) {
          c('recoverableViolation')(
            'Unable to end sprout promotion',
            'comet_composer',
          ),
            g && g();
        },
        variables: { input: e },
      });
    }
    g.endPromotion = a;
  },
  98,
);
__d(
  'CometComposerSproutVisibilitiesContext',
  ['emptyFunction', 'react'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    a = d('react');
    b = a.createContext({
      onRender: c('emptyFunction'),
      onVisible: c('emptyFunction'),
    });
    g['default'] = b;
  },
  98,
);
__d(
  'ComposerFeatureIntentLoggingDispatcher',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    function a(a, b) {
      return { featureType: a, source: b };
    }
    f['default'] = a;
  },
  66,
);
__d(
  'useCometComposerLoggerDispatcher',
  ['CometComposerLoggerDispatcherContext', 'react'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react').useContext;
    function a() {
      return h(c('CometComposerLoggerDispatcherContext'));
    }
    g['default'] = a;
  },
  98,
);
__d(
  'useComposerFeatureIneligibility',
  ['CometComposerIneligibilityContext', 'react'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react').useContext;
    function a() {
      return h(c('CometComposerIneligibilityContext'));
    }
    g['default'] = a;
  },
  98,
);
__d(
  'getActiveAttachmentFeatureDefinition',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    function a(a, b) {
      return a.find(function (a) {
        return (
          (a.featureType === 'ATTACHMENT' ||
            a.featureType === 'READ_ONLY_ATTACHMENT') &&
          a.attachmentType === b
        );
      });
    }
    f['default'] = a;
  },
  66,
);
__d(
  'getFeatureDefinition',
  [
    'CometComposerAttachmentPluginTypes',
    'getActiveAttachmentFeatureDefinition',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function a(a, b) {
      a = a.attachments;
      var d = Object.keys(c('CometComposerAttachmentPluginTypes')).find(
        function (a) {
          return a === b;
        },
      );
      a =
        d != null
          ? c('getActiveAttachmentFeatureDefinition')(
              (a = a) != null ? a : [],
              d,
            )
          : null;
      return [a].filter(Boolean)[0];
    }
    g['default'] = a;
  },
  98,
);
__d(
  'useCometComposerFeatureDefinitions',
  ['CometComposerFeatureDefinitionsContext', 'react'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react').useContext;
    function a() {
      return h(c('CometComposerFeatureDefinitionsContext')).featureDefinitions;
    }
    g['default'] = a;
  },
  98,
);
__d(
  'useFeatureDefinitionMissingErrorHandler',
  [
    'CometComposerAttachmentPluginTypes',
    'FBLogger',
    'emptyFunction',
    'getFeatureDefinition',
    'useCometComposerFeatureDefinitions',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h =
      'https://www.internalfb.com/intern/wiki/Building_with_Comet_Composer/Building_on_Top_of_Composer/Adding_a_Sprout/Attachment_Feature_Definitions/';
    function a(a, b) {
      var d = c('useCometComposerFeatureDefinitions')();
      return a !== !0 || d == null
        ? c('emptyFunction')
        : function () {
            var a = Object.keys(c('CometComposerAttachmentPluginTypes')).find(
              function (a) {
                return a === b;
              },
            );
            if (a != null) {
              a = c('getFeatureDefinition')(d, a);
              a == null &&
                c('FBLogger')('comet_composer').mustfix(
                  'Missing feature definition for attachment sprout %s\nPlease see this guide for more details %s',
                  b,
                  h,
                );
            }
          };
    }
    g['default'] = a;
  },
  98,
);
__d(
  'CometComposerSproutButtonInternal.react',
  [
    'fbt',
    'CometComposerPromotionContext',
    'CometComposerSproutButtonTooltip.react',
    'CometComposerSproutPromotionActions',
    'CometComposerSproutVisibilitiesContext',
    'ComposerFeatureIntentLoggingDispatcher',
    'ComposerSproutDisplayTypeContext',
    'FeedComposerCometSproutCollapsedButton.react',
    'FeedComposerCometSproutExpandedButton.react',
    'RelayHooks',
    'react',
    'useCometComposerLoggerDispatcher',
    'useCometUniqueID',
    'useComposerFeatureIneligibility',
    'useFeatureDefinitionMissingErrorHandler',
    'usePartialViewImpression',
    'withComposerViewStatePart',
  ],
  function (a, b, c, d, e, f, g, h) {
    'use strict';
    var i = d('react');
    b = d('react');
    var j = b.useCallback,
      k = b.useContext,
      l = b.useEffect,
      m = b.useRef;
    function a(a, b) {
      var e,
        f = d('RelayHooks').useRelayEnvironment(),
        g = a.activeColor,
        n = a.disabled;
      n = n === void 0 ? !1 : n;
      var o = a.disabledTooltip;
      a.hasData;
      var p = a.icon,
        q = a.isActive;
      q = q === void 0 ? !1 : q;
      var r = a.label,
        s = a.onClick,
        t = a.opensExternally,
        u = a.pluginName,
        v = a.sproutName,
        w = a.testid;
      w = a.useFeatureDefinitions;
      a = babelHelpers.objectWithoutPropertiesLoose(a, [
        'activeColor',
        'disabled',
        'disabledTooltip',
        'hasData',
        'icon',
        'isActive',
        'label',
        'onClick',
        'opensExternally',
        'pluginName',
        'sproutName',
        'testid',
        'useFeatureDefinitions',
      ]);
      var x = c('useComposerFeatureIneligibility')();
      x = x.has(u) || n;
      n = k(c('ComposerSproutDisplayTypeContext'));
      n = n.renderButtonCollapsed;
      var y = m(!1),
        z = c('useCometComposerLoggerDispatcher')(),
        A = k(c('CometComposerPromotionContext')),
        B = (e = A == null ? void 0 : A.isSproutPromoted) != null ? e : !1,
        C =
          (A =
            A == null
              ? void 0
              : (e = A.promotionID) == null
              ? void 0
              : e.toString()) != null
            ? A
            : '',
        D = c('useFeatureDefinitionMissingErrorHandler')(w, u);
      e = function () {
        if (B) {
          var a = { promotion_id: C };
          d('CometComposerSproutPromotionActions').endPromotion({
            environment: f,
            input: a,
          });
        }
        a = c('ComposerFeatureIntentLoggingDispatcher')(v, 'inline_sprouts');
        z({ fields: a, type: 'COMPOSER_FEATURE_INTENT' });
        D();
        s && s();
      };
      A = k(c('CometComposerSproutVisibilitiesContext'));
      var E = A.onRender,
        F = A.onVisible;
      l(
        function () {
          !y.current && E != null && (E(v), (y.current = !0));
        },
        [E, v],
      );
      w = j(
        function () {
          F != null && F(v);
        },
        [v, F],
      );
      u = c('usePartialViewImpression')({ onImpressionStart: w });
      A = c('useCometUniqueID')();
      w = n
        ? i.jsx(
            c('FeedComposerCometSproutCollapsedButton.react'),
            babelHelpers['extends']({}, a, {
              activeColor: g,
              'aria-describedby': x ? A : void 0,
              disabled: x,
              icon: p,
              isActive: q,
              label: r,
              onPress: e,
              ref: b,
              testid: void 0,
            }),
          )
        : i.jsx(c('FeedComposerCometSproutExpandedButton.react'), {
            'aria-describedby': x ? A : void 0,
            disabled: x,
            icon: p,
            isActive: q,
            label: r,
            onClick: e,
            opensExternally: t,
            testid: void 0,
          });
      g = (a = o) != null ? a : h._('__JHASH__g2sisVIjb2l__JHASH__');
      return i.jsx('div', {
        className:
          '' +
          ((!n && B
            ? ' x1l7klhg x4uap5 xkhd6sd x1wpzbip x1lq5wgf xgqcy7u x30kzoy x9jhf4c xw3qccf xsgj6o6'
            : '' + (n ? '' : ' x4pfjvb xi32u7y x1pe1cjp')) +
            ((n ? '' : ' x12nagc x1gslohp') +
              (x
                ? ' x1sqbtui x3q8yk8 x197sbye'
                : '' + (!n && B ? '' : '' + (n ? '' : ''))))),
        'data-testid': void 0,
        ref: u,
        children: i.jsx(c('CometComposerSproutButtonTooltip.react'), {
          id: A,
          isVisible: x,
          text: g,
          children: w,
        }),
      });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    e = c('withComposerViewStatePart')(i.forwardRef(a), function (a) {
      return {
        useFeatureDefinitions: (a = a.useFeatureDefinitions) != null ? a : !1,
      };
    });
    g['default'] = e;
  },
  98,
);
__d(
  'addTagsToWithTagsIDsTracker',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    function a(a, b, c) {
      var d = new Map(c);
      b.forEach(function (b) {
        var c;
        c =
          (c = d.get(b)) != null
            ? c
            : { isDisplayedInSocialSentence: !0, withTagSourceIDs: [] };
        var e = c.isDisplayedInSocialSentence;
        c = c.withTagSourceIDs;
        c.includes(a) || c.push(a);
        d.set(b, { isDisplayedInSocialSentence: e, withTagSourceIDs: c });
      });
      return d;
    }
    f['default'] = a;
  },
  66,
);
__d(
  'CometAlbumMediaItemOrderType',
  ['$InternalEnum'],
  function (a, b, c, d, e, f) {
    'use strict';
    a = b('$InternalEnum').Mirrored(['ASCENDING', 'DESCENDING', 'DEFAULT']);
    f.MediaAttachmentOrderType = a;
  },
  66,
);
__d(
  'addMediaUploadStatuses',
  ['Promise'],
  function (a, b, c, d, e, f) {
    'use strict';
    function a(a, c) {
      return a.reduce(function (a, c) {
        if (c.file == null) return a;
        var d = c.file.uploadID;
        if (d == null) return a;
        if (a[d] != null) return a;
        var e = null,
          f = new (b('Promise'))(function (a) {
            e = a;
          }),
          g = null,
          h = new (b('Promise'))(function (a) {
            g = a;
          });
        e &&
          g &&
          (c.fileType === 'PHOTO' || c.fileType === 'VIDEO') &&
          (a[d] = {
            cancelUpload: g,
            onFileComplete: f,
            onUploadCancel: h,
            resolveFileUpload: e,
          });
        return a;
      }, c);
    }
    f.addMediaUploadStatuses = a;
  },
  66,
);
__d(
  'convertVideoToPhoto',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    function a(a) {
      var b = a.data.id;
      a.trimData;
      a.videoAttachmentMetadata;
      a = babelHelpers.objectWithoutPropertiesLoose(a, [
        'trimData',
        'videoAttachmentMetadata',
      ]);
      if (b == null) return null;
      switch (a.state) {
        case 'NEW':
          return babelHelpers['extends']({}, a, {
            data: { id: b },
            fileType: 'PHOTO',
          });
        case 'CLIENT_PROCESSING_COMPLETE':
          return babelHelpers['extends']({}, a, {
            data: { id: b },
            fileType: 'PHOTO',
          });
        case 'CLIENT_PROCESSING':
          return babelHelpers['extends']({}, a, {
            data: { id: b },
            fileType: 'PHOTO',
          });
        case 'QUEUED':
          return babelHelpers['extends']({}, a, {
            data: { id: b },
            fileType: 'PHOTO',
          });
        case 'FAILED':
          return babelHelpers['extends']({}, a, {
            data: { id: b },
            fileType: 'PHOTO',
          });
      }
    }
    f['default'] = a;
  },
  66,
);
__d(
  'getIDFromMediaAttachment',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    function a(a) {
      switch (a.state) {
        case 'PREEXISTING':
          return a.data.id;
        case 'OPTIMISTIC_UPLOADED':
          return a.uploadID;
        default:
          return a.file.uploadID;
      }
    }
    f['default'] = a;
  },
  66,
);
__d(
  'getMediaAttachmentDateNumber',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    function a(a) {
      return a.state === 'UPLOADED'
        ? a.takenTime != null
          ? a.takenTime
          : a.file.lastModified
        : 0;
    }
    f['default'] = a;
  },
  66,
);
__d(
  'processNewMediaAttachments',
  ['cometIsMimeTypeForMedia', 'cometUniqueID'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function a(a, b) {
      return ((a = a) != null ? a : [])
        .map(function (a) {
          if (a == null) return null;
          var c = a.uploadID;
          c = c != null && b != null ? b[c] : void 0;
          return h(a, c);
        })
        .filter(Boolean);
    }
    function h(a, b) {
      var e;
      e = (e = a.uploadID) != null ? e : c('cometUniqueID')();
      a.uploadID = e;
      var f = URL.createObjectURL(a);
      if (d('cometIsMimeTypeForMedia').isMimeTypeForPhoto(a.type)) {
        var g =
          (b == null ? void 0 : b.type) === 'PHOTO'
            ? b == null
              ? void 0
              : b.data
            : void 0;
        return babelHelpers['extends'](
          {
            data: { id: e },
            file: a,
            fileObjectURL: f,
            fileType: 'PHOTO',
            state: 'NEW',
          },
          g,
        );
      } else if (d('cometIsMimeTypeForMedia').isMimeTypeForVideo(a.type)) {
        g =
          (b == null ? void 0 : b.type) === 'VIDEO'
            ? b == null
              ? void 0
              : b.data
            : void 0;
        return babelHelpers['extends'](
          {
            data: { id: e },
            file: a,
            fileObjectURL: f,
            fileType: 'VIDEO',
            state: 'NEW',
          },
          g,
        );
      } else
        return {
          data: { id: e },
          file: a,
          fileObjectURL: f,
          fileType: 'UNKNOWN',
          state: 'NEW',
        };
    }
    g.processNewMediaAttachments = a;
    g.getNewMediaAttachment = h;
  },
  98,
);
__d(
  'removeMediaUploadStatuses',
  ['getIDFromMediaAttachment'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function a(a, b) {
      var d = {},
        e = function (e) {
          a.some(function (a) {
            return e === c('getIDFromMediaAttachment')(a);
          }) || (d[e] = b[e]);
        };
      for (var f in b) e(f);
      return d;
    }
    g['default'] = a;
  },
  98,
);
__d(
  'removeTagsFromMedia',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    function a(a, b) {
      var c = new Map(b),
        d = a.data.id;
      if (d == null) return c;
      b =
        ((a == null ? void 0 : a.fileType) === 'PHOTO' ||
          (a == null ? void 0 : a.fileType) === 'VIDEO') &&
        a.data.tags != null
          ? [].concat(a.data.tags).filter(Boolean)
          : [];
      a = b.reduce(function (a, b) {
        b.taggee.id != null &&
          b.taggee.taggee_type !== 'PRODUCT_ITEM' &&
          a.push(b.taggee.id);
        return a;
      }, []);
      a.forEach(function (a) {
        var b = c.get(a);
        if (b != null) {
          b = {
            isDisplayedInSocialSentence: b.isDisplayedInSocialSentence,
            withTagSourceIDs: b.withTagSourceIDs.filter(function (a) {
              return a !== d;
            }),
          };
          b.withTagSourceIDs.length === 0 ? c['delete'](a) : c.set(a, b);
        }
      });
      return c;
    }
    f['default'] = a;
  },
  66,
);
__d(
  'rotatePhotoAttachmentTags',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    var g = 100;
    function h(a) {
      if (a == null) return a;
      var b = a.x,
        c = a.y;
      return babelHelpers['extends']({}, a, { x: c, y: g - b });
    }
    function i(a) {
      if (a == null) return a;
      var b = a.x,
        c = a.y;
      return babelHelpers['extends']({}, a, { x: g - c, y: b });
    }
    function a(a, b) {
      switch (b) {
        case 'LEFT':
          return a.map(h);
        case 'RIGHT':
          return a.map(i);
        default:
          return a;
      }
    }
    f['default'] = a;
  },
  66,
);
__d(
  'updateMediaUploadStatuses',
  ['getIDFromMediaAttachment'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function a(a, b) {
      return a.reduce(function (a, d) {
        d = c('getIDFromMediaAttachment')(d);
        d != null && b != null && (a[d] = b[d]);
        return a;
      }, {});
    }
    g['default'] = a;
  },
  98,
);
__d(
  'composerMediaAttachmentReducer',
  [
    'CometAlbumMediaItemOrderType',
    'CometComposerAttachmentPluginTypes',
    'Promise',
    'addMediaUploadStatuses',
    'addTagsToWithTagsIDsTracker',
    'composerAttachmentAreaReducer',
    'convertVideoToPhoto',
    'getIDFromMediaAttachment',
    'getMediaAttachmentDateNumber',
    'gkx',
    'killswitch',
    'processNewMediaAttachments',
    'removeMediaUploadStatuses',
    'removeTagsFromMedia',
    'rotatePhotoAttachmentTags',
    'unrecoverableViolation',
    'updateMediaUploadStatuses',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function h(a, b) {
      var c = b.allExtraData;
      b = b.files;
      b = d('processNewMediaAttachments').processNewMediaAttachments(b, c);
      c = (a.mediaAttachments || []).concat(b);
      return babelHelpers['extends']({}, a, {
        mediaAttachments: c,
        mediaUploadStatuses: d('addMediaUploadStatuses').addMediaUploadStatuses(
          b,
          babelHelpers['extends']({}, a.mediaUploadStatuses),
        ),
      });
    }
    function i(a, b) {
      if (!a.mediaAttachments) return babelHelpers['extends']({}, a);
      var c = a.mediaAttachments.map(function (a) {
        if (b.retryAttachments.has(a) && a.file)
          return d('processNewMediaAttachments').getNewMediaAttachment(a.file);
        else return a;
      });
      return babelHelpers['extends']({}, a, { mediaAttachments: c });
    }
    function j(a, c) {
      var d,
        e = a.mediaAttachments || [];
      c = c.photo;
      var f = {
        data: { id: c.id, message: null, tags: [] },
        entID: c.id,
        fileType: 'PHOTO',
        height: c.height,
        state: 'PREEXISTING',
        url: c.url,
        useCDNPreview: !0,
        width: c.width,
      };
      e = [].concat(e, [f]);
      f = babelHelpers['extends']({}, a.mediaUploadStatuses);
      Object.assign(
        f,
        ((d = {}),
        (d[c.id] = {
          onFileComplete: b('Promise').resolve({
            attachmentID: c.id,
            attachmentType: 'PHOTO',
          }),
          resolveFileUpload: function () {},
        }),
        d),
      );
      return babelHelpers['extends']({}, a, {
        mediaAttachments: e,
        mediaUploadStatuses: f,
      });
    }
    function k(a, c) {
      var d,
        e = a.mediaAttachments || [];
      c = c.video;
      var f = c.thumbnail;
      d = babelHelpers['extends'](
        {
          data: { id: c.id, title: c.title },
          entID: c.id,
          fileType: 'VIDEO',
          imageURL: (d = f == null ? void 0 : f.url) != null ? d : '',
          state: 'PREEXISTING',
          useCDNPreview: !0,
        },
        f != null
          ? { height: f.height, width: f.width }
          : { usePlaceHolderPreview: !0 },
      );
      f = [].concat(e, [d]);
      e = babelHelpers['extends']({}, a.mediaUploadStatuses);
      Object.assign(
        e,
        ((d = {}),
        (d[c.id] = {
          onFileComplete: b('Promise').resolve({
            attachmentID: c.id,
            attachmentType: 'VIDEO',
          }),
          resolveFileUpload: function () {},
        }),
        d),
      );
      return babelHelpers['extends']({}, a, {
        mediaAttachments: f,
        mediaUploadStatuses: e,
      });
    }
    function l(a, b) {
      if (a.mediaAttachments == null) return a;
      else {
        var d = a.mediaAttachments.filter(function (a) {
            if (
              c('getIDFromMediaAttachment')(b.attachment) ===
              c('getIDFromMediaAttachment')(a)
            ) {
              a.fileObjectURL != null && URL.revokeObjectURL(a.fileObjectURL);
              return !1;
            } else return !0;
          }),
          e = c('removeTagsFromMedia')(
            b.attachment,
            new Map(a.withTagIDsTracker),
          );
        return d.length > 0 || a.isMediaAttachmentsRequired === !0
          ? babelHelpers['extends']({}, a, {
              mediaAttachments: d,
              mediaUploadStatuses: c('removeMediaUploadStatuses')(
                [b.attachment],
                babelHelpers['extends']({}, a.mediaUploadStatuses),
              ),
              withTagIDsTracker: e,
            })
          : babelHelpers['extends']({}, a, {
              attachmentArea: void 0,
              mediaAttachments: void 0,
              mediaUploadStatuses: void 0,
            });
      }
    }
    function m(a, b) {
      return (a.mediaAttachments || []).length > 0
        ? n(a, b, !0)
        : babelHelpers['extends']({}, a, {
            attachmentArea: babelHelpers['extends']({}, a.attachmentArea, {
              activeAttachmentType: void 0,
              previousAttachmentType: c('CometComposerAttachmentPluginTypes')
                .GET_MESSAGES,
            }),
            isGetMessagesPost: null,
          });
    }
    function n(a, b, d) {
      d === void 0 && (d = !1);
      if (
        !d &&
        [
          c('CometComposerAttachmentPluginTypes').GET_MESSAGES,
          c('CometComposerAttachmentPluginTypes').GET_WHATSAPP_MESSAGES,
        ].includes(
          (b = a.attachmentArea) == null ? void 0 : b.activeAttachmentType,
        )
      )
        return a;
      if (
        !d &&
        [
          c('CometComposerAttachmentPluginTypes').GET_MESSAGES,
          c('CometComposerAttachmentPluginTypes').GET_WHATSAPP_MESSAGES,
        ].includes(
          (b = a.attachmentArea) == null ? void 0 : b.previousAttachmentType,
        )
      )
        return a;
      var e = new Map(a.withTagIDsTracker);
      ((d = a.mediaAttachments) != null ? d : []).forEach(function (a) {
        e = c('removeTagsFromMedia')(a, e);
      });
      (a.mediaAttachments || []).forEach(function (b) {
        b.fileObjectURL != null && URL.revokeObjectURL(b.fileObjectURL);
        if (
          b.state !== 'PREEXISTING' &&
          b.fileType === 'VIDEO' &&
          a.mediaUploadStatuses != null
        ) {
          var c;
          c = (c = b.file.uploadID) != null ? c : '';
          if (c !== '') {
            var d = a.mediaUploadStatuses[c];
            d &&
              d.cancelUpload({ attachmentID: c, attachmentType: b.fileType });
          }
        }
      });
      return babelHelpers['extends']({}, a, {
        animatedImageAttachments: void 0,
        mediaAttachments: void 0,
        mediaUploadStatuses: void 0,
        withTagIDsTracker: e,
      });
    }
    function o(a, b) {
      var c = a.mediaAttachments;
      if (c == null) return a;
      else
        return babelHelpers['extends']({}, a, {
          mediaAttachments: c
            .map(function (a) {
              if (a.state === 'NEW' && b.uploadIDs.includes(a.file.uploadID))
                switch (a.fileType) {
                  case 'PHOTO':
                    return {
                      data: a.data,
                      file: a.file,
                      fileObjectURL: a.fileObjectURL,
                      fileType: 'PHOTO',
                      replaceMediaItemUploadID: a.replaceMediaItemUploadID,
                      sphericalEncoding: a.sphericalEncoding,
                      state: 'CLIENT_PROCESSING',
                      useCDNPreview: a.useCDNPreview,
                    };
                  case 'VIDEO':
                    return {
                      data: a.data,
                      file: a.file,
                      fileObjectURL: a.fileObjectURL,
                      fileType: 'VIDEO',
                      replaceMediaItemUploadID: a.replaceMediaItemUploadID,
                      state: 'CLIENT_PROCESSING',
                      trimData: a.trimData,
                      useCDNPreview: a.useCDNPreview,
                    };
                  case 'FILE':
                    return {
                      data: a.data,
                      file: a.file,
                      fileObjectURL: a.fileObjectURL,
                      fileType: 'FILE',
                      state: 'CLIENT_PROCESSING',
                    };
                  case 'UNKNOWN':
                    return {
                      data: a.data,
                      file: a.file,
                      fileObjectURL: a.fileObjectURL,
                      fileType: 'UNKNOWN',
                      state: 'CLIENT_PROCESSING',
                    };
                }
              else return a;
            })
            .filter(Boolean),
        });
    }
    function p(a, b) {
      var c = a.mediaAttachments;
      if (c == null) return a;
      else
        return babelHelpers['extends']({}, a, {
          mediaAttachments: c.map(function (a) {
            if (
              a.file &&
              a.fileType === 'UNKNOWN' &&
              b.uploadIDs.includes(a.file.uploadID)
            )
              switch (a.state) {
                case 'NEW':
                  return babelHelpers['extends']({}, a, {
                    data: { id: a.data.id },
                    fileType: 'PHOTO',
                  });
                case 'CLIENT_PROCESSING_COMPLETE':
                  return babelHelpers['extends']({}, a, {
                    data: { id: a.data.id },
                    fileType: 'PHOTO',
                  });
                case 'CLIENT_PROCESSING':
                case 'QUEUED':
                case 'UPLOADING':
                case 'UPLOADED':
                case 'FAILED':
                  return babelHelpers['extends']({}, a, {
                    data: { id: a.data.id },
                    fileType: 'PHOTO',
                  });
              }
            return a;
          }),
        });
    }
    function q(a, b) {
      b = a.mediaAttachments;
      if (b == null) return a;
      else
        return babelHelpers['extends']({}, a, {
          mediaAttachments: b.map(function (a) {
            if (a.state === 'UPLOADED')
              switch (a.fileType) {
                case 'PHOTO':
                  return babelHelpers['extends']({}, a, {
                    partOfCompleteBatch: !0,
                  });
                case 'VIDEO':
                  return babelHelpers['extends']({}, a, {
                    partOfCompleteBatch: !0,
                  });
                case 'FILE':
                  return babelHelpers['extends']({}, a, {
                    partOfCompleteBatch: !0,
                  });
              }
            return a;
          }),
        });
    }
    function r(a, b) {
      var d = a.mediaAttachments;
      if (d == null) return a;
      else
        return babelHelpers['extends']({}, a, {
          mediaAttachments: d.map(function (a) {
            if (
              a.file &&
              a.fileType === 'VIDEO' &&
              b.uploadIDs.includes(a.file.uploadID)
            ) {
              var d;
              return (d = c('convertVideoToPhoto')(a)) != null ? d : a;
            }
            return a;
          }),
        });
    }
    function s(a, b) {
      var c = a.mediaAttachments;
      if (c == null) return a;
      else
        return babelHelpers['extends']({}, a, {
          mediaAttachments: c.map(function (a) {
            if (
              a.file &&
              a.fileType === 'UNKNOWN' &&
              b.uploadIDs.includes(a.file.uploadID)
            )
              switch (a.state) {
                case 'NEW':
                  return babelHelpers['extends']({}, a, {
                    data: { id: a.data.id },
                    fileType: 'VIDEO',
                  });
                case 'CLIENT_PROCESSING_COMPLETE':
                  return babelHelpers['extends']({}, a, {
                    data: { id: a.data.id },
                    fileType: 'VIDEO',
                  });
                case 'CLIENT_PROCESSING':
                case 'QUEUED':
                case 'UPLOADING':
                case 'UPLOADED':
                case 'FAILED':
                  return babelHelpers['extends']({}, a, {
                    data: { id: a.data.id },
                    fileType: 'VIDEO',
                  });
              }
            return a;
          }),
        });
    }
    function t(a, b) {
      var c = a.mediaAttachments;
      if (c == null) return a;
      else
        return babelHelpers['extends']({}, a, {
          mediaAttachments: c
            .map(function (a) {
              if (
                (a.state === 'NEW' || a.state === 'CLIENT_PROCESSING') &&
                b.uploadIDs.includes(a.file.uploadID)
              )
                switch (a.fileType) {
                  case 'PHOTO':
                    return {
                      data: a.data,
                      file: a.file,
                      fileObjectURL: a.fileObjectURL,
                      fileType: 'PHOTO',
                      height: a.height,
                      replaceMediaItemUploadID: a.replaceMediaItemUploadID,
                      sphericalEncoding: a.sphericalEncoding,
                      state: 'CLIENT_PROCESSING_COMPLETE',
                      useCDNPreview: a.useCDNPreview,
                      width: a.width,
                    };
                  case 'VIDEO':
                    return {
                      data: a.data,
                      file: a.file,
                      fileObjectURL: a.fileObjectURL,
                      fileType: 'VIDEO',
                      height: a.height,
                      replaceMediaItemUploadID: a.replaceMediaItemUploadID,
                      state: 'CLIENT_PROCESSING_COMPLETE',
                      trimData: a.trimData,
                      useCDNPreview: a.useCDNPreview,
                      videoAttachmentMetadata: a.videoAttachmentMetadata,
                      width: a.width,
                    };
                  case 'FILE':
                    return {
                      data: a.data,
                      file: a.file,
                      fileObjectURL: a.fileObjectURL,
                      fileType: 'FILE',
                      state: 'CLIENT_PROCESSING_COMPLETE',
                    };
                  case 'UNKNOWN':
                    return {
                      data: a.data,
                      file: a.file,
                      fileObjectURL: a.fileObjectURL,
                      fileType: 'UNKNOWN',
                      state: 'CLIENT_PROCESSING_COMPLETE',
                    };
                }
              else return a;
            })
            .filter(Boolean),
        });
    }
    function u(a, b) {
      var c = a.mediaAttachments;
      if (c == null) return a;
      else
        return babelHelpers['extends']({}, a, {
          mediaAttachments: c.map(function (a) {
            if (
              a.state === 'CLIENT_PROCESSING_COMPLETE' &&
              b.uploadIDs.includes(a.file.uploadID)
            )
              switch (a.fileType) {
                case 'PHOTO':
                  return {
                    data: a.data,
                    file: a.file,
                    fileObjectURL: a.fileObjectURL,
                    fileType: 'PHOTO',
                    height: a.height,
                    replaceMediaItemUploadID: a.replaceMediaItemUploadID,
                    sphericalEncoding: a.sphericalEncoding,
                    state: 'QUEUED',
                    useCDNPreview: a.useCDNPreview,
                    width: a.width,
                  };
                case 'VIDEO':
                  return {
                    data: a.data,
                    file: a.file,
                    fileObjectURL: a.fileObjectURL,
                    fileType: 'VIDEO',
                    height: a.height,
                    replaceMediaItemUploadID: a.replaceMediaItemUploadID,
                    state: 'QUEUED',
                    trimData: a.trimData,
                    videoAttachmentMetadata: a.videoAttachmentMetadata,
                    width: a.width,
                  };
                default:
                  return {
                    data: a.data,
                    file: a.file,
                    fileType: 'FILE',
                    state: 'QUEUED',
                  };
              }
            else return a;
          }),
          mediaUploadStatuses: d(
            'addMediaUploadStatuses',
          ).addMediaUploadStatuses(
            c.filter(function (a) {
              return a.file != null && b.uploadIDs.includes(a.file.uploadID);
            }),
            babelHelpers['extends']({}, a.mediaUploadStatuses),
          ),
        });
    }
    function v(a, b) {
      if (a.mediaAttachments == null) return a;
      else
        return babelHelpers['extends']({}, a, {
          mediaAttachments: a.mediaAttachments.map(function (a) {
            if (
              a.state !== 'CLIENT_PROCESSING' &&
              a.state !== 'UPLOADING' &&
              a.state !== 'UPLOADED' &&
              a.state !== 'PREEXISTING' &&
              a.file.uploadID === b.uploadID
            )
              switch (a.fileType) {
                case 'PHOTO':
                  return {
                    data: a.data,
                    file: a.file,
                    fileObjectURL: a.fileObjectURL,
                    fileType: 'PHOTO',
                    height: a.height,
                    percentComplete: 0,
                    replaceMediaItemUploadID: a.replaceMediaItemUploadID,
                    sphericalEncoding: a.sphericalEncoding,
                    state: 'UPLOADING',
                    useCDNPreview: a.useCDNPreview,
                    width: a.width,
                  };
                case 'VIDEO':
                  return {
                    data: a.data,
                    file: a.file,
                    fileObjectURL: a.fileObjectURL,
                    fileType: 'VIDEO',
                    height: a.height,
                    percentComplete: 0,
                    replaceMediaItemUploadID: a.replaceMediaItemUploadID,
                    state: 'UPLOADING',
                    trimData: a.trimData,
                    videoAttachmentMetadata: a.videoAttachmentMetadata,
                    width: a.width,
                  };
                default:
                  return {
                    data: a.data,
                    file: a.file,
                    fileType: 'FILE',
                    percentComplete: 0,
                    state: 'UPLOADING',
                  };
              }
            else return a;
          }),
        });
    }
    function w(a, b) {
      if (a.mediaAttachments == null) return a;
      else
        return babelHelpers['extends']({}, a, {
          mediaAttachments: a.mediaAttachments.map(function (a) {
            if (a.state === 'UPLOADING' && a.file.uploadID === b.uploadID)
              switch (a.fileType) {
                case 'PHOTO':
                  return babelHelpers['extends']({}, a, {
                    fileType: 'PHOTO',
                    percentComplete: b.percentComplete,
                  });
                case 'VIDEO':
                  return babelHelpers['extends']({}, a, {
                    entID: b.entID,
                    fileType: 'VIDEO',
                    percentComplete: b.percentComplete,
                  });
                default:
                  return babelHelpers['extends']({}, a, {
                    fileType: 'FILE',
                    percentComplete: b.percentComplete,
                  });
              }
            else return a;
          }),
        });
    }
    function x(a, b) {
      if (a.mediaAttachments == null) return a;
      else {
        var d,
          e = a.mediaAttachments.map(function (a) {
            if (
              a.state !== 'CLIENT_PROCESSING' &&
              a.state !== 'CLIENT_PROCESSING_COMPLETE' &&
              a.state !== 'UPLOADED' &&
              a.state !== 'PREEXISTING' &&
              a.file.uploadID === b.uploadID
            )
              switch (a.fileType) {
                case 'PHOTO':
                  var e = {
                    data: { id: b.entID },
                    entID: b.entID,
                    file: a.file,
                    fileObjectURL: a.fileObjectURL,
                    fileType: 'PHOTO',
                    height: a.height,
                    replaceMediaItemUploadID: a.replaceMediaItemUploadID,
                    sphericalEncoding: a.sphericalEncoding,
                    state: 'UPLOADED',
                    takenTime: b.takenTime,
                    uploadedImageURL: b.imageURL,
                    useCDNPreview: a.useCDNPreview,
                    width: a.width,
                  };
                  a.replaceMediaItemUploadID != null && (d = e);
                  return e;
                case 'VIDEO':
                  e = {};
                  !c('gkx')('7178') &&
                    c('gkx')('1224637') &&
                    c('gkx')('5671') &&
                    (e.closed_caption_settings = {
                      autogenerate_captions_on_upload: !0,
                      should_review_all_captions: !1,
                    });
                  e = {
                    data: babelHelpers['extends']({}, e, a.data, {
                      id: b.entID,
                    }),
                    entID: b.entID,
                    file: a.file,
                    fileObjectURL: a.fileObjectURL,
                    fileType: 'VIDEO',
                    height: a.height,
                    replaceMediaItemUploadID: a.replaceMediaItemUploadID,
                    state: 'UPLOADED',
                    trimData: a.trimData,
                    useCDNPreview: a.useCDNPreview,
                    videoAttachmentMetadata: a.videoAttachmentMetadata || {},
                    width: a.width,
                  };
                  a.replaceMediaItemUploadID != null && (d = e);
                  return e;
                default:
                  return {
                    data: { id: b.entID },
                    entID: b.entID,
                    file: a.file,
                    fileType: 'FILE',
                    state: 'UPLOADED',
                  };
              }
            else return a;
          }),
          f;
        d != null &&
          ((e = e
            .map(function (a) {
              var b;
              if (
                ((b = a.file) == null ? void 0 : b.uploadID) ===
                d.replaceMediaItemUploadID
              ) {
                b = d;
                b.replaceMediaItemUploadID;
                b = babelHelpers.objectWithoutPropertiesLoose(b, [
                  'replaceMediaItemUploadID',
                ]);
                return b;
              }
              return ((b = a.file) == null ? void 0 : b.uploadID) ===
                d.file.uploadID
                ? null
                : a;
            })
            .filter(Boolean)),
          (f = c('updateMediaUploadStatuses')(e, a.mediaUploadStatuses)));
        return babelHelpers['extends']({}, a, {
          mediaAttachments: e,
          mediaUploadStatuses: f != null ? f : a.mediaUploadStatuses,
        });
      }
    }
    function y(a, b) {
      var c = a.mediaAttachments;
      if (c == null) return a;
      else
        return babelHelpers['extends']({}, a, {
          mediaAttachments: c.map(function (a) {
            if (a.state !== 'PREEXISTING' && a.file.uploadID === b.uploadID)
              switch (a.fileType) {
                case 'PHOTO':
                  return {
                    data: { id: b.uploadID },
                    error: b.error,
                    file: a.file,
                    fileObjectURL: a.fileObjectURL,
                    fileType: 'PHOTO',
                    height: a.height,
                    replaceMediaItemUploadID: a.replaceMediaItemUploadID,
                    sphericalEncoding: a.sphericalEncoding,
                    state: 'FAILED',
                    useCDNPreview: a.useCDNPreview,
                    width: a.width,
                  };
                case 'VIDEO':
                  return {
                    data: { id: b.uploadID },
                    error: b.error,
                    file: a.file,
                    fileObjectURL: a.fileObjectURL,
                    fileType: 'VIDEO',
                    height: a.height,
                    replaceMediaItemUploadID: a.replaceMediaItemUploadID,
                    state: 'FAILED',
                    trimData: a.trimData,
                    useCDNPreview: a.useCDNPreview,
                    width: a.width,
                  };
                default:
                  return {
                    data: { id: b.uploadID },
                    error: b.error,
                    file: a.file,
                    fileObjectURL: a.fileObjectURL,
                    fileType: 'FILE',
                    state: 'FAILED',
                  };
              }
            else return a;
          }),
        });
    }
    function z(a, b) {
      var d;
      if (a.mediaAttachments == null) return a;
      var e = new Map(a.withTagIDsTracker),
        f = [],
        g = [],
        h = b.media.data.id;
      ((d = b.media.data.tags) != null ? d : []).forEach(function (a) {
        var c;
        if (
          (a == null ? void 0 : (c = a.taggee) == null ? void 0 : c.id) != null
        ) {
          c = a.taggee.id;
          a.taggee.taggee_type === 'PRODUCT_ITEM'
            ? f.push(c)
            : b.actorID !== c && g.push(c);
        }
      });
      var i = b.media.originalEntID != null ? b.media.originalEntID : h;
      d = (a.mediaAttachments || []).find(function (a) {
        a = a.originalEntID != null ? a.originalEntID : a.data.id;
        return a === i;
      });
      if (i == null || d == null)
        throw c('unrecoverableViolation')(
          'Invalid action taken to save media edits of a media attachment that does not exist',
          'comet_composer',
        );
      e = c('removeTagsFromMedia')(d, e);
      e = c('addTagsToWithTagsIDsTracker')(i, g, e);
      return babelHelpers['extends']({}, a, {
        mediaAttachments:
          (h = a.mediaAttachments) == null
            ? void 0
            : h.map(function (a, c) {
                return c !== b.index ? a : b.media;
              }),
        taggedProductIDs: f,
        withTagIDsTracker: e,
      });
    }
    function A(a, b) {
      if (a.mediaAttachments != null) {
        var d = [].concat(a.mediaAttachments);
        d.splice(b.targetIndex, 0, d.splice(b.sourceIndex, 1)[0]);
        b = c('updateMediaUploadStatuses')(d, a.mediaUploadStatuses);
        return babelHelpers['extends']({}, a, {
          mediaAttachments: d,
          mediaUploadStatuses: b,
        });
      } else return a;
    }
    function B(a, b) {
      return babelHelpers['extends']({}, a, {
        mediaAttachments: (a.mediaAttachments || []).map(function (a) {
          if (
            a.data.id === b.entID &&
            a.fileType === 'PHOTO' &&
            a.state === 'UPLOADED'
          ) {
            var d = babelHelpers['extends']({}, a, {
                height: b.height,
                uploadedImageURL: b.imageURI,
                useCDNPreview: !0,
                width: b.width,
              }),
              e = d.data.tags;
            return e != null && e.length > 0
              ? babelHelpers['extends']({}, d, {
                  data: babelHelpers['extends']({}, d.data, {
                    tags: c('rotatePhotoAttachmentTags')(e, b.direction),
                  }),
                })
              : d;
          }
          return a;
        }),
      });
    }
    function C(a, b) {
      var c = a.mediaAttachments;
      return c == null
        ? a
        : babelHelpers['extends']({}, a, {
            mediaAttachments: c.map(function (a) {
              return (a.entID === b.attachmentId ||
                a.data.id === b.attachmentId) &&
                a.fileType === 'VIDEO' &&
                a.state === 'UPLOADED'
                ? babelHelpers['extends']({}, a, {
                    data: babelHelpers['extends']({}, a.data, {
                      closed_caption_settings: babelHelpers['extends'](
                        {},
                        a.data.closed_caption_settings,
                        {
                          autogenerate_captions_on_upload:
                            b.autoGenerateCaptionOnUpload,
                          should_review_all_captions: b.shouldReviewAllCaptions,
                        },
                      ),
                    }),
                  })
                : a;
            }),
          });
    }
    function D(a, b) {
      return babelHelpers['extends']({}, a, {
        mediaAttachments: (a.mediaAttachments || []).map(function (a) {
          if (a === b.attachment) {
            switch (a.state) {
              case 'NEW':
                switch (a.fileType) {
                  case 'PHOTO':
                    return babelHelpers['extends']({}, a, {
                      data: babelHelpers['extends']({}, a.data, {
                        message: { text: b.caption },
                      }),
                      fileType: 'PHOTO',
                    });
                  case 'VIDEO':
                    return babelHelpers['extends']({}, a, {
                      data: babelHelpers['extends']({}, a.data, {
                        message: { text: b.caption },
                      }),
                      fileType: 'VIDEO',
                    });
                  default:
                    return a;
                }
              case 'QUEUED':
                switch (a.fileType) {
                  case 'PHOTO':
                    return babelHelpers['extends']({}, a, {
                      data: babelHelpers['extends']({}, a.data, {
                        message: { text: b.caption },
                      }),
                      fileType: 'PHOTO',
                    });
                  case 'VIDEO':
                    return babelHelpers['extends']({}, a, {
                      data: babelHelpers['extends']({}, a.data, {
                        message: { text: b.caption },
                      }),
                      fileType: 'VIDEO',
                    });
                  default:
                    return a;
                }
              case 'UPLOADING':
                switch (a.fileType) {
                  case 'PHOTO':
                    return babelHelpers['extends']({}, a, {
                      data: babelHelpers['extends']({}, a.data, {
                        message: { text: b.caption },
                      }),
                      fileType: 'PHOTO',
                    });
                  case 'VIDEO':
                    return babelHelpers['extends']({}, a, {
                      data: babelHelpers['extends']({}, a.data, {
                        message: { text: b.caption },
                      }),
                      fileType: 'VIDEO',
                    });
                  default:
                    return a;
                }
              case 'UPLOADED':
                switch (a.fileType) {
                  case 'PHOTO':
                    return babelHelpers['extends']({}, a, {
                      data: babelHelpers['extends']({}, a.data, {
                        message: { text: b.caption },
                      }),
                      fileType: 'PHOTO',
                    });
                  case 'VIDEO':
                    return babelHelpers['extends']({}, a, {
                      data: babelHelpers['extends']({}, a.data, {
                        message: { text: b.caption },
                      }),
                      fileType: 'VIDEO',
                    });
                  default:
                    return a;
                }
              case 'PREEXISTING':
                switch (a.fileType) {
                  case 'PHOTO':
                    return babelHelpers['extends']({}, a, {
                      data: babelHelpers['extends']({}, a.data, {
                        message: { text: b.caption },
                      }),
                      fileType: 'PHOTO',
                    });
                  case 'VIDEO':
                    return babelHelpers['extends']({}, a, {
                      data: babelHelpers['extends']({}, a.data, {
                        message: { text: b.caption },
                      }),
                      fileType: 'VIDEO',
                    });
                  case 'UNKNOWN':
                    return babelHelpers['extends']({}, a, {
                      data: babelHelpers['extends']({}, a.data, {
                        message: { text: b.caption },
                      }),
                      fileType: 'UNKNOWN',
                    });
                }
                return a;
              case 'FAILED':
                switch (a.fileType) {
                  case 'PHOTO':
                    return babelHelpers['extends']({}, a, {
                      data: babelHelpers['extends']({}, a.data, {
                        message: { text: b.caption },
                      }),
                      fileType: 'PHOTO',
                    });
                  case 'VIDEO':
                    return babelHelpers['extends']({}, a, {
                      data: babelHelpers['extends']({}, a.data, {
                        message: { text: b.caption },
                      }),
                      fileType: 'VIDEO',
                    });
                  default:
                    return a;
                }
            }
            return a;
          } else return a;
        }),
      });
    }
    function E(a, b) {
      return babelHelpers['extends']({}, a, {
        mediaAttachments: (a.mediaAttachments || []).map(function (a) {
          if (
            c('getIDFromMediaAttachment')(a) ===
            c('getIDFromMediaAttachment')(b.attachment)
          ) {
            switch (a.state) {
              case 'NEW':
                switch (a.fileType) {
                  case 'PHOTO':
                    return babelHelpers['extends']({}, a, {
                      fileType: 'PHOTO',
                      useCDNPreview: !0,
                    });
                  case 'VIDEO':
                    return babelHelpers['extends']({}, a, {
                      fileType: 'VIDEO',
                      useCDNPreview: !0,
                    });
                  default:
                    return a;
                }
              case 'QUEUED':
                switch (a.fileType) {
                  case 'PHOTO':
                    return babelHelpers['extends']({}, a, {
                      fileType: 'PHOTO',
                      useCDNPreview: !0,
                    });
                  case 'VIDEO':
                    return babelHelpers['extends']({}, a, {
                      fileType: 'VIDEO',
                      useCDNPreview: !0,
                    });
                  default:
                    return a;
                }
              case 'UPLOADING':
                switch (a.fileType) {
                  case 'PHOTO':
                    return babelHelpers['extends']({}, a, {
                      fileType: 'PHOTO',
                      useCDNPreview: !0,
                    });
                  case 'VIDEO':
                    return babelHelpers['extends']({}, a, {
                      fileType: 'VIDEO',
                      useCDNPreview: !0,
                    });
                  default:
                    return a;
                }
              case 'UPLOADED':
                switch (a.fileType) {
                  case 'PHOTO':
                    return babelHelpers['extends']({}, a, {
                      fileType: 'PHOTO',
                      useCDNPreview: !0,
                    });
                  case 'VIDEO':
                    return babelHelpers['extends']({}, a, {
                      fileType: 'VIDEO',
                      useCDNPreview: !0,
                    });
                  default:
                    return a;
                }
              case 'FAILED':
                switch (a.fileType) {
                  case 'PHOTO':
                    return babelHelpers['extends']({}, a, {
                      fileType: 'PHOTO',
                      useCDNPreview: !0,
                    });
                  case 'VIDEO':
                    return babelHelpers['extends']({}, a, {
                      fileType: 'VIDEO',
                      useCDNPreview: !0,
                    });
                  default:
                    return a;
                }
              case 'CLIENT_PROCESSING':
                switch (a.fileType) {
                  case 'PHOTO':
                    return babelHelpers['extends']({}, a, {
                      fileType: 'PHOTO',
                      useCDNPreview: !0,
                    });
                  case 'VIDEO':
                    return babelHelpers['extends']({}, a, {
                      fileType: 'VIDEO',
                      useCDNPreview: !0,
                    });
                  default:
                    return a;
                }
              case 'PREEXISTING':
                switch (a.fileType) {
                  case 'PHOTO':
                    return babelHelpers['extends']({}, a, {
                      fileType: 'PHOTO',
                      useCDNPreview: !0,
                    });
                  case 'VIDEO':
                    return babelHelpers['extends']({}, a, {
                      fileType: 'VIDEO',
                      useCDNPreview: !0,
                    });
                  default:
                    return babelHelpers['extends']({}, a, {
                      fileType: 'UNKNOWN',
                      useCDNPreview: !0,
                    });
                }
            }
            return a;
          } else return a;
        }),
      });
    }
    function F(a, b) {
      return babelHelpers['extends']({}, a, {
        mediaAttachments: (a.mediaAttachments || []).map(function (a) {
          if (a.data.id === b.entID && a.state === 'UPLOADED')
            switch (a.fileType) {
              case 'PHOTO':
                return babelHelpers['extends']({}, a, {
                  fileType: 'PHOTO',
                  height: b.height,
                  width: b.width,
                });
              case 'VIDEO':
                return babelHelpers['extends']({}, a, {
                  fileType: 'VIDEO',
                  height: b.height,
                  width: b.width,
                });
              case 'UNKOWN':
                return babelHelpers['extends']({}, a, {
                  fileType: 'UNKNOWN',
                  height: b.height,
                  width: b.width,
                });
              default:
                return a;
            }
          else return a;
        }),
      });
    }
    function G(a, b) {
      return babelHelpers['extends']({}, a, {
        mediaAttachments: (a.mediaAttachments || []).map(function (a) {
          return c('getIDFromMediaAttachment')(a) ===
            c('getIDFromMediaAttachment')(b.attachment)
            ? L(b.height, b.width, a)
            : a;
        }),
      });
    }
    function H(a, b) {
      var c = URL.createObjectURL(b.placeholderImage.file);
      a.photo3dAttachment &&
        URL.revokeObjectURL(a.photo3dAttachment.inputData.placeholderImageSrc);
      return babelHelpers['extends']({}, a, {
        photo3dAttachment: {
          inputData: {
            colorImageIds: b.colorImageIds,
            depthImageIds: b.depthImageIds,
            placeholderImageHeight:
              (a = b.placeholderImage.height) != null ? a : 0,
            placeholderImageSrc: c,
            placeholderImageWidth:
              (a = b.placeholderImage.width) != null ? a : 0,
          },
          renderData: void 0,
        },
      });
    }
    function I(a, b) {
      if (a.mediaAttachments != null) {
        var e = [].concat(a.mediaAttachments);
        e.sort(function (a, e) {
          a = c('getMediaAttachmentDateNumber')(a);
          e = c('getMediaAttachmentDateNumber')(e);
          return (a < e &&
            b.orderType ===
              d('CometAlbumMediaItemOrderType').MediaAttachmentOrderType
                .ASCENDING) ||
            (a > e &&
              b.orderType ===
                d('CometAlbumMediaItemOrderType').MediaAttachmentOrderType
                  .DESCENDING)
            ? -1
            : 1;
        });
        return babelHelpers['extends']({}, a, { mediaAttachments: e });
      } else return a;
    }
    function J(a, b) {
      return babelHelpers['extends']({}, a, {
        mediaAttachments: (a.mediaAttachments || []).map(function (a, c) {
          if (c !== b.currentIndex) return a;
          switch (a.state) {
            case 'NEW':
              switch (a.fileType) {
                case 'VIDEO':
                  return babelHelpers['extends']({}, a, {
                    videoAttachmentMetadata: babelHelpers['extends'](
                      {},
                      a.videoAttachmentMetadata,
                      b.videoAttachmentMetadata,
                    ),
                  });
                default:
                  return a;
              }
            case 'CLIENT_PROCESSING':
              switch (a.fileType) {
                case 'VIDEO':
                  return babelHelpers['extends']({}, a, {
                    videoAttachmentMetadata: babelHelpers['extends'](
                      {},
                      a.videoAttachmentMetadata,
                      b.videoAttachmentMetadata,
                    ),
                  });
                default:
                  return a;
              }
            case 'CLIENT_PROCESSING_COMPLETE':
              switch (a.fileType) {
                case 'VIDEO':
                  return babelHelpers['extends']({}, a, {
                    videoAttachmentMetadata: babelHelpers['extends'](
                      {},
                      a.videoAttachmentMetadata,
                      b.videoAttachmentMetadata,
                    ),
                  });
                default:
                  return a;
              }
            case 'UPLOADING':
              switch (a.fileType) {
                case 'VIDEO':
                  return babelHelpers['extends']({}, a, {
                    videoAttachmentMetadata: babelHelpers['extends'](
                      {},
                      a.videoAttachmentMetadata,
                      b.videoAttachmentMetadata,
                    ),
                  });
                default:
                  return a;
              }
            case 'UPLOADED':
              switch (a.fileType) {
                case 'VIDEO':
                  return babelHelpers['extends']({}, a, {
                    videoAttachmentMetadata: babelHelpers['extends'](
                      {},
                      a.videoAttachmentMetadata,
                      b.videoAttachmentMetadata,
                    ),
                  });
                default:
                  return a;
              }
            case 'PREEXISTING':
              switch (a.fileType) {
                case 'VIDEO':
                  return babelHelpers['extends']({}, a, {
                    videoAttachmentMetadata: babelHelpers['extends'](
                      {},
                      a.videoAttachmentMetadata,
                      b.videoAttachmentMetadata,
                    ),
                  });
                default:
                  return a;
              }
            default:
              return a;
          }
        }),
      });
    }
    function K(a, b) {
      return babelHelpers['extends']({}, a, {
        mediaAttachments: (a.mediaAttachments || []).map(function (a) {
          if (a.file && a.file.uploadID === b.uploadID)
            switch (a.state) {
              case 'NEW':
                switch (a.fileType) {
                  case 'PHOTO':
                    return babelHelpers['extends']({}, a, {
                      fileType: 'PHOTO',
                      sphericalEncoding: b.sphericalEncoding,
                    });
                  default:
                    return a;
                }
              case 'QUEUED':
                switch (a.fileType) {
                  case 'PHOTO':
                    return babelHelpers['extends']({}, a, {
                      fileType: 'PHOTO',
                      sphericalEncoding: b.sphericalEncoding,
                    });
                  default:
                    return a;
                }
              case 'UPLOADING':
                switch (a.fileType) {
                  case 'PHOTO':
                    return babelHelpers['extends']({}, a, {
                      fileType: 'PHOTO',
                      sphericalEncoding: b.sphericalEncoding,
                    });
                  default:
                    return a;
                }
              case 'UPLOADED':
                switch (a.fileType) {
                  case 'PHOTO':
                    return babelHelpers['extends']({}, a, {
                      fileType: 'PHOTO',
                      sphericalEncoding: b.sphericalEncoding,
                    });
                  default:
                    return a;
                }
              case 'FAILED':
                switch (a.fileType) {
                  case 'PHOTO':
                    return babelHelpers['extends']({}, a, {
                      fileType: 'PHOTO',
                      sphericalEncoding: b.sphericalEncoding,
                    });
                  default:
                    return a;
                }
              case 'CLIENT_PROCESSING':
                switch (a.fileType) {
                  case 'PHOTO':
                    return babelHelpers['extends']({}, a, {
                      fileType: 'PHOTO',
                      sphericalEncoding: b.sphericalEncoding,
                    });
                  default:
                    return a;
                }
              case 'PREEXISTING':
                switch (a.fileType) {
                  case 'PHOTO':
                    return babelHelpers['extends']({}, a, {
                      fileType: 'PHOTO',
                      sphericalEncoding: b.sphericalEncoding,
                    });
                  default:
                    return a;
                }
              default:
                return a;
            }
          else return a;
        }),
      });
    }
    function L(a, b, c) {
      switch (c.fileType) {
        case 'PHOTO':
          switch (c.state) {
            case 'NEW':
              return babelHelpers['extends']({}, c, {
                fileType: 'PHOTO',
                height: a,
                width: b,
              });
            case 'CLIENT_PROCESSING':
              return babelHelpers['extends']({}, c, {
                fileType: 'PHOTO',
                height: a,
                width: b,
              });
            case 'CLIENT_PROCESSING_COMPLETE':
              return babelHelpers['extends']({}, c, {
                fileType: 'PHOTO',
                height: a,
                width: b,
              });
            case 'QUEUED':
              return babelHelpers['extends']({}, c, {
                fileType: 'PHOTO',
                height: a,
                width: b,
              });
            case 'UPLOADING':
              return babelHelpers['extends']({}, c, {
                fileType: 'PHOTO',
                height: a,
                width: b,
              });
            case 'UPLOADED':
              return babelHelpers['extends']({}, c, {
                fileType: 'PHOTO',
                height: a,
                width: b,
              });
            case 'FAILED':
              return babelHelpers['extends']({}, c, {
                fileType: 'PHOTO',
                height: a,
                width: b,
              });
            case 'PREEXISTING':
              return babelHelpers['extends']({}, c, {
                fileType: 'PHOTO',
                height: a,
                width: b,
              });
            default:
              return c;
          }
        case 'VIDEO':
          switch (c.state) {
            case 'NEW':
              return babelHelpers['extends']({}, c, {
                fileType: 'VIDEO',
                height: a,
                width: b,
              });
            case 'CLIENT_PROCESSING':
              return babelHelpers['extends']({}, c, {
                fileType: 'VIDEO',
                height: a,
                width: b,
              });
            case 'CLIENT_PROCESSING_COMPLETE':
              return babelHelpers['extends']({}, c, {
                fileType: 'VIDEO',
                height: a,
                width: b,
              });
            case 'QUEUED':
              return babelHelpers['extends']({}, c, {
                fileType: 'VIDEO',
                height: a,
                width: b,
              });
            case 'UPLOADING':
              return babelHelpers['extends']({}, c, {
                fileType: 'VIDEO',
                height: a,
                width: b,
              });
            case 'UPLOADED':
              return babelHelpers['extends']({}, c, {
                fileType: 'VIDEO',
                height: a,
                width: b,
              });
            case 'FAILED':
              return babelHelpers['extends']({}, c, {
                fileType: 'VIDEO',
                height: a,
                width: b,
              });
            case 'PREEXISTING':
              return babelHelpers['extends']({}, c, {
                fileType: 'VIDEO',
                height: a,
                width: b,
              });
            default:
              return c;
          }
        default:
          return c;
      }
    }
    function M(a, b) {
      return babelHelpers['extends']({}, a, {
        shouldShowDefaultToReelsDialog: b.shouldShowDefaultToReelsDialog,
      });
    }
    function a(a, b) {
      switch (b.type) {
        case 'ADD_MEDIA_ATTACHMENT_ITEMS':
          return h(a, b);
        case 'ADD_PREEXISTING_PHOTO':
          return j(a, b);
        case 'ADD_PREEXISTING_VIDEO':
          return k(a, b);
        case 'REMOVE_MEDIA_ATTACHMENT_ITEM':
          return l(a, b);
        case 'REMOVE_ALL_MEDIA_ATTACHMENT_ITEMS':
          return n(a, b);
        case 'REMOVE_GET_MESSAGE_MEDIA_ATTACHMENT_ITEMS':
          return m(a, b);
        case 'RETRY_MEDIA_ATTACHMENT_ITEMS':
          return i(a, b);
        case 'MEDIA_ATTACHMENT_CLIENT_PROCESSING_COMPLETED':
          return t(a, b);
        case 'QUEUE_UPLOADS':
          return u(a, b);
        case 'MARK_UPLOADS_CLIENT_PROCESSING':
          return o(a, b);
        case 'MARK_UNKNOWN_UPLOADS_AS_PHOTO':
          return p(a, b);
        case 'MARK_UPLOADS_AS_PART_OF_COMPLETE_BATCH':
          return q(a, b);
        case 'MARK_UPLOADS_AS_PHOTO':
          return r(a, b);
        case 'MARK_UNKNOWN_UPLOADS_AS_VIDEO':
          return s(a, b);
        case 'MEDIA_UPLOAD_STARTED':
          return v(a, b);
        case 'MEDIA_UPLOAD_PROGRESS':
          return w(a, b);
        case 'MEDIA_UPLOAD_SUCCESSFUL':
          return x(a, b);
        case 'REORDER_MEDIA_ATTACHMENT_ITEM':
          return A(a, b);
        case 'ROTATE_MEDIA_ATTACHMENT_ITEM':
          return B(a, b);
        case 'SAVE_MEDIA_EDITS':
          return z(a, b);
        case 'SET_MEDIA_ATTACHMENT_CAPTION':
          return D(a, b);
        case 'SET_MEDIA_ATTACHMENT_ITEM_USE_CDN_PREVIEW':
          return E(a, b);
        case 'SET_MEDIA_ATTACHMENT_ITEM_CDN_DIMENSIONS':
          return F(a, b);
        case 'SET_MEDIA_ATTACHMENT_ITEM_DIMENSIONS':
          return G(a, b);
        case 'SET_PHOTO3D_CREATION_DATA':
          return H(a, b);
        case 'SET_MEDIA_ATTACHMENT_ITEM_SPHERICAL_ENCODING':
          return K(a, b);
        case 'SET_VIDEO_ATTACHMENT_ITEM_CLOSED_CAPTIONS':
          return C(a, b);
        case 'ORDER_BY_DATE_TAKEN':
          return I(a, b);
        case 'SET_VIDEO_ATTACHMENT_METADATA':
          return J(a, b);
        case 'MEDIA_UPLOAD_FAILED':
          return y(a, b);
        case 'REMOVE_ATTACHMENT_TYPE':
          if (
            c('killswitch')(
              'WWW_COMPOSER_MEDIA_ATTACHMENT_AREA_REMOVAL_ACTION_DISPATCH',
            )
          )
            return a;
          else {
            var e =
              d('composerAttachmentAreaReducer').getCanAlterAttachmentData(
                b,
                'MEDIA',
                a,
              ) ||
              d('composerAttachmentAreaReducer').getCanAlterAttachmentData(
                b,
                'CALL_NOW',
                a,
              );
            if (!e) return a;
            else return n(a, { type: 'REMOVE_ALL_MEDIA_ATTACHMENT_ITEMS' });
          }
        case 'SET_SHOULD_DEFAULT_TO_REELS_DIALOG':
          return M(a, b);
      }
      return a;
    }
    g['default'] = a;
  },
  98,
);
__d(
  'CometComposerOnSubmitContext',
  ['react'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    a = d('react');
    b = a.createContext({ errorMetadata: null, isSaving: !1 });
    g['default'] = b;
  },
  98,
);
__d(
  'useComposerValidationErrors',
  ['CometComposerValidationErrorsContext', 'react'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react').useContext;
    function a() {
      return h(c('CometComposerValidationErrorsContext'));
    }
    g['default'] = a;
  },
  98,
);
__d(
  'useCometComposerPushPageWithReducer',
  ['react', 'useCometComposerPushPage'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react'),
      i = d('react').useMemo;
    function a() {
      var a = c('useCometComposerPushPage')();
      return i(
        function () {
          return function (b, c, d, e) {
            a(
              b,
              function (a) {
                a = a.onReturn;
                return h.jsx(c, { onReturn: a });
              },
              e,
              d,
            );
          };
        },
        [a],
      );
    }
    g['default'] = a;
  },
  98,
);
__d(
  'GroupCometComposerContext',
  ['react'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    a = d('react');
    b = a.createContext({ errorMetadata: null, groupID: null, isSaving: !1 });
    g['default'] = b;
  },
  98,
);
__d(
  'CometComposerHeader.react',
  [
    'fbt',
    'ix',
    'CometTrackingNodeProvider.react',
    'TetraCircleButton.react',
    'TetraText.react',
    'emptyFunction',
    'fbicon',
    'react',
    'useCometConfirmationDialog',
    'withComposerViewStatePart',
  ],
  function (a, b, c, d, e, f, g, h, i) {
    'use strict';
    var j = d('react');
    function a(a) {
      var b = a.closeButtonTestID;
      b = b === void 0 ? 'CometComposerHeader-CloseButton' : b;
      b = a.id;
      var e = a.isDirty,
        f = e === void 0 ? !1 : e,
        g = a.isEmpty;
      e = a.onBack;
      var k = a.onClose,
        l = a.testid;
      l = a.title;
      var m = a.triggerUnsavedChangesWarning;
      m = m === void 0 ? !1 : m;
      var n = a.withBackButton;
      n = n === void 0 ? !1 : n;
      a = a.withCloseButton;
      a = a === void 0 ? !1 : a;
      var o = c('useCometConfirmationDialog')();
      m =
        m === !0
          ? function () {
              if (f === !0 && g !== !0) {
                var a;
                o(
                  {
                    body: h._('__JHASH__IadpR1L6YdB__JHASH__'),
                    cancel: h._('__JHASH__DJnbvd6w38Q__JHASH__'),
                    confirm: h._('__JHASH__ZxUcPxGzo9j__JHASH__'),
                    title: h._('__JHASH__F-CluDWnn28__JHASH__'),
                  },
                  (a = k) != null ? a : c('emptyFunction'),
                );
              } else k && k();
            }
          : k;
      return j.jsxs('div', {
        'data-testid': void 0,
        children: [
          l != null
            ? j.jsx('div', {
                className: 'x6s0dn4 xua58t2 x9f619 x78zum5 xng8ra xl56j7k',
                children: j.jsx(c('TetraText.react'), {
                  id: b,
                  isSemanticHeading: !0,
                  numberOfLines: 1,
                  type: 'headlineEmphasized2',
                  children: l,
                }),
              })
            : null,
          a
            ? j.jsx(c('CometTrackingNodeProvider.react'), {
                trackingNode: 141,
                children: j.jsx('div', {
                  className: 'x92rtbv x10l6tqk x1tk7jg1',
                  'data-testid': void 0,
                  children: j.jsx(c('TetraCircleButton.react'), {
                    color: 'secondary',
                    icon: d('fbicon')._(i('478233'), 20),
                    label: h._('__JHASH__cCrSTii9yXy__JHASH__'),
                    onPress: m,
                    size: 36,
                    testid: void 0,
                  }),
                }),
              })
            : null,
          n
            ? j.jsx('div', {
                className: 'x10l6tqk x16q8cke x1tk7jg1',
                'data-testid': void 0,
                children: j.jsx(c('TetraCircleButton.react'), {
                  color: 'secondary',
                  icon: d('fbicon')._(i('512647'), 20),
                  label: h._('__JHASH__v6nfNn2Wv-y__JHASH__'),
                  onPress: e,
                  size: 36,
                }),
              })
            : null,
        ],
      });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    b = c('withComposerViewStatePart')(a, function (a) {
      return {
        isDirty: a.isDirty,
        isEmpty: (a = a.isEmptyMetaData) == null ? void 0 : a.isEmpty,
      };
    });
    g['default'] = b;
  },
  98,
);
__d(
  'useCometComposerPushLocationPage',
  [
    'fbt',
    'CometComposerAttachmentPluginTypes',
    'JSResourceForInteraction',
    'lazyLoadComponent',
    'react',
    'useCometComposerPushPageWithReducer',
  ],
  function (a, b, c, d, e, f, g, h) {
    'use strict';
    var i = d('react'),
      j = d('react').useCallback,
      k = c('lazyLoadComponent')(
        c('JSResourceForInteraction')(
          'ComposerLocationListContainer.react',
        ).__setRef('useCometComposerPushLocationPage'),
      );
    function a() {
      var a = c('useCometComposerPushPageWithReducer')();
      return j(
        function () {
          a(
            h._('__JHASH__kGt5nAPU9z4__JHASH__'),
            function (a) {
              a = a.onReturn;
              return i.jsx(k, { onClose: a });
            },
            c('CometComposerAttachmentPluginTypes').LOCATION,
          );
        },
        [a],
      );
    }
    g['default'] = a;
  },
  98,
);
__d(
  'ComposerTabbedMinutiaePushPageGlimmmer.react',
  [
    'fbt',
    'BaseGlimmer.react',
    'BaseLoadingStateElement.react',
    'CometComposerHeader.react',
    'react',
  ],
  function (a, b, c, d, e, f, g, h) {
    'use strict';
    var i = d('react'),
      j = {
        root: { height: 'x1wjmhiu', $$css: !0 },
        searchBar: {
          borderTopStartRadius: 'x1tlxs6b',
          borderTopEndRadius: 'x1g8br2z',
          borderBottomEndRadius: 'x1gn5b1j',
          borderBottomStartRadius: 'x230xth',
          height: 'xc9qbxq',
          marginTop: 'x1gslohp',
          marginEnd: 'xktsk01',
          marginBottom: 'x12nagc',
          marginStart: 'x1d52u69',
          width: 'xh8yej3',
          $$css: !0,
        },
        searchBarView: {
          alignItems: 'x6s0dn4',
          display: 'x78zum5',
          height: 'xdd8jsf',
          justifyContent: 'xl56j7k',
          $$css: !0,
        },
        tabText: {
          borderTopStartRadius: 'x8u2fvd',
          borderTopEndRadius: 'x1ht7hnu',
          borderBottomEndRadius: 'x1quq95r',
          borderBottomStartRadius: 'x5yzy4c',
          height: 'xxk0z11',
          marginEnd: 'xq8finb',
          width: 'xefyazp',
          $$css: !0,
        },
        tabView: {
          alignItems: 'x6s0dn4',
          display: 'x78zum5',
          height: 'xng8ra',
          justifyContent: 'x1nhvcw1',
          marginTop: 'xdj266r',
          marginEnd: 'xktsk01',
          marginBottom: 'xat24cr',
          marginStart: 'x1d52u69',
          $$css: !0,
        },
      };
    function a(a, b) {
      return i.jsxs(c('BaseLoadingStateElement.react'), {
        ref: b,
        xstyle: j.root,
        children: [
          i.jsx(c('CometComposerHeader.react'), {
            onBack: a.onBack,
            title: h._('__JHASH__Qn-9-UwmJ2N__JHASH__'),
            withBackButton: !0,
          }),
          i.jsxs('div', {
            className:
              'x6s0dn4 x78zum5 xng8ra x1nhvcw1 xdj266r xktsk01 xat24cr x1d52u69',
            children: [
              i.jsx(c('BaseGlimmer.react'), { index: 1, xstyle: j.tabText }),
              i.jsx(c('BaseGlimmer.react'), { index: 2, xstyle: j.tabText }),
            ],
          }),
          i.jsx('div', {
            className: 'x6s0dn4 x78zum5 xdd8jsf xl56j7k',
            children: i.jsx(c('BaseGlimmer.react'), {
              index: 1,
              xstyle: j.searchBar,
            }),
          }),
        ],
      });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    b = i.forwardRef(a);
    g['default'] = b;
  },
  98,
);
__d(
  'useCometComposerPushMinutiaePage',
  [
    'fbt',
    'CometPlaceholder.react',
    'ComposerTabbedMinutiaePushPageGlimmmer.react',
    'JSResourceForInteraction',
    'lazyLoadComponent',
    'react',
    'useCometComposerPushPage',
  ],
  function (a, b, c, d, e, f, g, h) {
    'use strict';
    var i = d('react'),
      j = c('lazyLoadComponent')(
        c('JSResourceForInteraction')(
          'ComposerTabbedMinutiaePage.react',
        ).__setRef('useCometComposerPushMinutiaePage'),
      );
    function a() {
      var a = c('useCometComposerPushPage')();
      return function () {
        a(
          h._('__JHASH__Qn-9-UwmJ2N__JHASH__'),
          function (a) {
            a = a.onReturn;
            return i.jsx(c('CometPlaceholder.react'), {
              fallback: i.jsx(
                c('ComposerTabbedMinutiaePushPageGlimmmer.react'),
                { onBack: a },
              ),
              children: i.jsx(j, { initialTab: 'FEELING', onClose: a }),
            });
          },
          { hasCustomHeader: !0 },
        );
      };
    }
    g['default'] = a;
  },
  98,
);
__d(
  'FeedComposerCometWithTagTypeaheadDataSource',
  ['Promise'],
  function (a, b, c, d, e, f) {
    'use strict';
    a = (function () {
      function a(a) {
        var b = a.compositeDataSource;
        a = a.matchStrategy;
        this.$3 = !1;
        this.$1 = b;
        this.$2 = a;
      }
      var c = a.prototype;
      c.bootstrap = function () {
        if (this.$3) return;
        this.$3 = !0;
        this.$1.bootstrap();
      };
      c.fetchCache = function (a) {
        var b = a.query;
        b = this.$2.findMentionableString(b);
        return b == null ? { entries: [], params: a } : this.$1.fetchCache(a);
      };
      c.fetchNetwork = function (a) {
        var c = a.query;
        c = this.$2.findMentionableString(c);
        return c == null ? b('Promise').reject() : this.$1.fetchNetwork(a);
      };
      return a;
    })();
    f['default'] = a;
  },
  66,
);
__d(
  'useCometComposerWithTagFriendsDataSource',
  [
    'WebPixelRatio',
    'createFeedCometMentionsDataEntry',
    'useCometComposerWithTagFriendsDataSourceQuery.graphql',
    'useCometTypeaheadGraphQLDataSource',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h,
      i =
        h !== void 0
          ? h
          : (h = b('useCometComposerWithTagFriendsDataSourceQuery.graphql'));
    function a(a) {
      var b = a.actorID;
      a = a.limit;
      return c('useCometTypeaheadGraphQLDataSource')({
        gqlQuery: i,
        limit: a,
        normalize: j,
        queryVariablesBuilderFunction: function (a) {
          a = a.query;
          return { id: b, query: a, scale: d('WebPixelRatio').get() };
        },
      });
    }
    function j(a) {
      a =
        a == null
          ? void 0
          : (a = a.user) == null
          ? void 0
          : (a = a.friends) == null
          ? void 0
          : a.edges;
      return a == null
        ? []
        : a
            .map(function (a) {
              if (a == null) return null;
              a = a.node;
              return a == null
                ? null
                : c('createFeedCometMentionsDataEntry')({
                    data: { node: a },
                    type: 'WITH_TAG_SEARCH_RESULT',
                  });
            })
            .filter(Boolean);
    }
    g['default'] = a;
  },
  98,
);
__d(
  'useCometComposerWithTagSuggestionsDataSource',
  [
    'WebPixelRatio',
    'createFeedCometMentionsDataEntry',
    'useCometComposerWithTagSuggestionsDataSourceQuery.graphql',
    'useCometTypeaheadGraphQLDataSource',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h,
      i =
        h !== void 0
          ? h
          : (h = b(
              'useCometComposerWithTagSuggestionsDataSourceQuery.graphql',
            ));
    function a(a) {
      var b = a.limit;
      return c('useCometTypeaheadGraphQLDataSource')({
        gqlQuery: i,
        limit: b,
        normalize: j,
        queryVariablesBuilderFunction: function () {
          return { limit: b, scale: d('WebPixelRatio').get() };
        },
      });
    }
    function j(a) {
      a =
        a == null
          ? void 0
          : (a = a.viewer) == null
          ? void 0
          : (a = a.suggested_with_tags) == null
          ? void 0
          : a.edges;
      return a == null
        ? []
        : a
            .map(function (a) {
              if (a == null) return null;
              a = a.node;
              return a == null
                ? null
                : c('createFeedCometMentionsDataEntry')({
                    data: { node: a },
                    type: 'SUGGESTION',
                  });
            })
            .filter(Boolean);
    }
    g['default'] = a;
  },
  98,
);
__d(
  'useFeedComposerCometWithTagDataSource',
  ['cr:1872646'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    g['default'] = b('cr:1872646');
  },
  98,
);
__d(
  'useFeedComposerCometWithTagDataSourceImpl',
  [
    'Actor',
    'BaseTypeaheadLocalStorageDataProviderStorageKey',
    'FeedComposerCometWithTagTypeaheadDataSource',
    'createCometWithTagStrategy',
    'gkx',
    'react',
    'useCometComposerWithTagFriendsDataSource',
    'useCometComposerWithTagSuggestionsDataSource',
    'useCometTypeaheadCompositeDataSource',
    'useFeedComposerCometMentionsBootloadDataSource',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react').useMemo;
    function a(a) {
      a = a.limit;
      var b = d('Actor').useActor();
      b = b[0];
      var e = c('useFeedComposerCometMentionsBootloadDataSource')({
          firstDegreeFinderOptions: ['FRIENDS_ONLY'],
          includeViewer: !1,
          limit: Math.floor(a / 2),
          storageKey: c('gkx')('1864085')
            ? d('BaseTypeaheadLocalStorageDataProviderStorageKey').StorageKey
                .FeedComposerMentionsWithTagBootstrap
            : null,
          typeaheadContext: 'mentions',
          types: ['USER'],
        }),
        f = c('useCometComposerWithTagSuggestionsDataSource')({ limit: a });
      b = c('useCometComposerWithTagFriendsDataSource')({
        actorID: b,
        limit: a,
      });
      var g = c('useCometTypeaheadCompositeDataSource')({
        bootstrapDataSource: e,
        limit: a,
        networkDataSource: b,
        nullstateDataSource: f,
      });
      return h(
        function () {
          return new (c('FeedComposerCometWithTagTypeaheadDataSource'))({
            compositeDataSource: g,
            matchStrategy: c('createCometWithTagStrategy')({
              minMatchLength: 0,
            }),
          });
        },
        [g],
      );
    }
    g['default'] = a;
  },
  98,
);
__d(
  'PagesCometComposerContext',
  ['react'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    a = d('react');
    b = a.createContext();
    g['default'] = b;
  },
  98,
);
__d(
  'CometVideoToolsLoggingContext',
  ['react'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    a = d('react');
    b = a.createContext({ composerEntryPoint: null, dialogMode: null });
    g['default'] = b;
  },
  98,
);
__d(
  'CpxContentCreationFalcoEvent',
  ['FalcoLoggerInternal', 'getFalcoLogPolicy_DO_NOT_USE'],
  function (a, b, c, d, e, f) {
    'use strict';
    a = b('getFalcoLogPolicy_DO_NOT_USE')('1175');
    c = b('FalcoLoggerInternal').create('cpx_content_creation', a);
    e.exports = c;
  },
  null,
);
__d(
  'VideoComposerDialogUiFalcoEvent',
  ['FalcoLoggerInternal', 'getFalcoLogPolicy_DO_NOT_USE'],
  function (a, b, c, d, e, f) {
    'use strict';
    a = b('getFalcoLogPolicy_DO_NOT_USE')('1759123');
    c = b('FalcoLoggerInternal').create('video_composer_dialog_ui', a);
    e.exports = c;
  },
  null,
);
__d(
  'useCometVideoComposerLog',
  [
    'CometComposerViewStateContext',
    'CometVideoToolsLoggingContext',
    'CpxContentCreationFalcoEvent',
    'MediaEditorViewStateContext',
    'PagesCometComposerContext',
    'VideoComposerDialogUiFalcoEvent',
    'react',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    b = d('react');
    var h = b.useCallback,
      i = b.useContext,
      j = b.useMemo;
    function a() {
      var a,
        b = i(c('PagesCometComposerContext')),
        d = i(c('MediaEditorViewStateContext')),
        e = d == null ? void 0 : d.index;
      d = d == null ? void 0 : d.isEditingPreExistingStory;
      var f = i(c('CometComposerViewStateContext')),
        g = i(c('CometVideoToolsLoggingContext')),
        k =
          (a = g == null ? void 0 : g.composerEntryPoint) != null
            ? a
            : 'pages_feed',
        l =
          d === !0
            ? 'video_edit'
            : (a = g == null ? void 0 : g.dialogMode) != null
            ? a
            : 'video_upload',
        m = j(function () {
          var a = {};
          a.post_publish_attempt = {
            event_name: 'post_create',
            event_state: 'started',
          };
          a.post_success = {
            event_name: 'post_create',
            event_state: 'success',
          };
          a.post_failure = { event_name: 'post_create', event_state: 'failed' };
          return a;
        }, []);
      d = h(
        function (a, d, g) {
          var h;
          h = ((h = g) != null ? h : f).mediaAttachments;
          var i = null;
          h != null &&
            h[e] != null &&
            h[e].fileType === 'VIDEO' &&
            (h[e].state === 'UPLOADING' || h[e].state === 'UPLOADED') &&
            (i = h[e].entID);
          var j = ((h = g) != null ? h : f).creationSessionID,
            n = (g = d == null ? void 0 : d.dialogMode) != null ? g : l,
            o =
              (h = b == null ? void 0 : b.pageID) != null
                ? h
                : d == null
                ? void 0
                : d.pageID,
            p = (g = i) != null ? g : d == null ? void 0 : d.videoID;
          c('VideoComposerDialogUiFalcoEvent').log(function () {
            return {
              actor_id: o,
              composer_entry_point: k,
              dialog_mode: n,
              error_message: d == null ? void 0 : d.error_message,
              event: a,
              extra_data: d == null ? void 0 : d.extraData,
              session_id: j,
              video_id: p,
              web_framework: 'COMET',
            };
          });
          var q = m[a];
          !!q &&
            n === 'video_upload' &&
            c('CpxContentCreationFalcoEvent').log(function () {
              return babelHelpers['extends']({}, q, {
                composer_entry_point: k,
                composer_mode: 'create',
                composer_type: 'composer_lite',
                page_id: o,
                session_id: j,
                unified_composer_eligible: !1,
                video_id: p,
              });
            });
        },
        [k, f, e, l, m, b == null ? void 0 : b.pageID],
      );
      return { logEvent: d };
    }
    g['default'] = a;
  },
  98,
);
__d(
  'VideoComposerDialogUIEvent',
  [],
  function (a, b, c, d, e, f) {
    a = Object.freeze({
      CONFIRMATION_DIALOG_CLOSE: 'confirmation_dialog_close',
      DIALOG_OPENED: 'dialog_opened',
      DIALOG_REQUESTED: 'dialog_requested',
      DIALOG_BOOTLOADED: 'dialog_bootloaded',
      EDIT_TABS_LOADED: 'edit_tabs_loaded',
      EXIT_COMPOSER_ATTEMPT: 'exit_composer_attempt',
      EXIT_COMPOSER_CANCEL: 'exit_composer_cancel',
      EXIT_COMPOSER_CONFIRM: 'exit_composer_confirm',
      EXIT_COMPOSER_REPLACE_FILE: 'exit_composer_replace_file',
      EXIT_COMPOSER_SAVE_DRAFT: 'exit_composer_save_draft',
      FILE_REPLACED: 'file_replaced',
      METADATA_LOAD_FAILED: 'metadata_load_failed',
      METADATA_LOAD_SUCCESS: 'metadata_load_success',
      NAVIGATED_FROM_PAGE: 'navigated_from_page',
      POST_BACKDATE_ATTEMPT: 'post_backdate_attempt',
      POST_DRAFT_ATTEMPT: 'post_draft_attempt',
      POST_FAILURE: 'post_failure',
      POST_PREMIERE_ATTEMPT: 'post_premiere_attempt',
      POST_PREMIERE_NOW_ATTEMPT: 'post_premiere_now_attempt',
      POST_PUBLISH_ATTEMPT: 'post_publish_attempt',
      POST_REQUEST_INVALID: 'post_request_invalid',
      POST_REQUEST_SENT: 'post_request_sent',
      POST_SCHEDULE_ATTEMPT: 'post_schedule_attempt',
      POST_SUCCESS: 'post_success',
      SAVE_EDITED_VIDEO_ATTEMPT: 'save_edited_video_attempt',
      SAVE_EDITED_VIDEO_FAILURE: 'save_edited_video_failure',
      SAVE_EDITED_VIDEO_FAILURE_SERVER: 'save_edited_video_failure_server',
      SAVE_EDITED_VIDEO_SUCCESS: 'save_edited_video_success',
      SELECT_EDITING_PUBLISH_ACTION: 'select_editing_publish_action',
      SENDING_POST_REQUEST: 'sending_post_request',
      TAB_BOOTLOAD_ERROR: 'tab_bootload_error',
      TAB_LOAD_ERROR: 'tab_load_error',
      TAB_SWITCHED: 'tab_switched',
      UPLOAD_FAILURE: 'upload_failure',
      UPLOAD_FINISHED: 'upload_finished',
      UPLOAD_VIDEO_BUTTON_CLICKED: 'upload_video_button_clicked',
      USER_PLAYED_VIDEO_PREVIEW: 'user_played_video_preview',
      OPEN_PUBLISH_DRAWER: 'open_publish_drawer',
      CLOSE_PUBLISH_DRAWER: 'close_publish_drawer',
      UPLOAD_BOOTLOAD_FAILURE: 'upload_bootload_failure',
      PAGE_STORY_CREATION_ATTEMPT: 'page_story_creation_attempt',
      PAGE_STORY_CREATION_FAILURE: 'page_story_creation_failure',
      PAGE_STORY_CREATION_SUCCESS: 'page_story_creation_success',
      CAPTIONS_DEFAULT_LOCALE_SELECTED: 'captions_default_locale_selected',
      CAPTIONS_LOCAL_FILES_UPLOAD: 'captions_local_files_upload',
      CAPTIONS_LOCAL_FILE_DELETE: 'captions_local_file_delete',
      POST_CAPTIONS_FAILURE: 'post_captions_failure',
      STORIES_OPTION_TOGGLED: 'stories_option_toggled',
      SUBMIT_MATURE_CONTENT_APPEAL_FORM_SUCCESS:
        'submit_mature_content_appeal_form_success',
      RIGHTS_DIALOG_SHOWN: 'rights_dialog_shown',
      RIGHTS_DIALOG_CONFIRM: 'rights_dialog_confirm',
      RM_SECTION_RENDER: 'rm_section_render',
      RM_APPLICATION_UPSELL_RENDER: 'rm_application_upsell_render',
      RM_APPLICATION_UPSELL_APPLY_CTA: 'rm_application_upsell_apply_cta',
      RM_APPLICATION_UPSELL_LEARN_MORE_CTA:
        'rm_application_upsell_learn_more_cta',
      RM_ONBOARDING_UPSELL_RENDER: 'rm_onboarding_upsell_render',
      RM_ONBOARDING_UPSELL_CTA: 'rm_onboarding_upsell_cta',
      CUSTOM_THUMBNAIL_SELECTED: 'custom_thumbnail_selected',
      GENERATED_THUMBNAIL_SELECTED: 'generated_thumbnail_selected',
      SCRUBBED_THUMBNAIL_SELECTED: 'scrubbed_thumbnail_selected',
      PREMIERE_BUTTON_RENDERED: 'premiere_button_rendered',
      PREMIERE_MENU_ITEM_RENDERED: 'premiere_menu_item_rendered',
      PREMIERE_DIALOG_OPENED: 'premiere_dialog_opened',
      PREMIERE_DIALOG_SUBMITTED: 'premiere_dialog_submitted',
      PREMIERE_SUBMIT_ERROR: 'premiere_submit_error',
      PREMIERE_SUBMIT_SUCCESS: 'premiere_submit_success',
      SELECTED_PREMIERE_NOW_WITH_LIVING_ROOM:
        'selected_premiere_now_with_living_room',
      CLICKED_ADD_VIDEOS_DIALOG: 'clicked_add_videos_dialog',
      SET_LIVING_ROOM_TITLE: 'set_living_room_title',
      POST_PREMIERE_LIVING_ROOM_ATTEMPT: 'post_premiere_living_room_attempt',
      POST_SCHEDULED_PREMIERE_LIVING_ROOM_ATTEMPT:
        'post_scheduled_premiere_living_room_attempt',
      OPEN_TRIMMING_EDITOR: 'open_trimming_editor',
      SAVE_TRIMMED_VIDEO: 'saved_trimmed_video',
      SAVE_UNTRIMMED_VIDEO: 'save_untrimmed_video',
      ABORT_TRIMMING: 'abort_trimming',
      OPEN_AUTO_REFRAME_DIALOG: 'open_auto_reframe_dialog',
      SAVE_AUTO_REFRAME_SETTING: 'save_auto_reframe_setting',
      OPEN_AUTO_REFRAME_REVIEW_DIALOG: 'open_auto_reframe_review_dialog',
      OPEN_VU_TRAILER_DIALOG: 'open_vu_trailer_dialog',
      SAVE_VU_TRAILER_SETTING: 'save_vu_trailer_setting',
      OPEN_VU_TRAILER_REVIEW_DIALOG: 'open_vu_trailer_review_dialog',
      OPEN_RESTRICTED_AUDIENCE_DIALOG: 'open_restricted_audience_dialog',
      OPEN_EDIT_RESTRICTED_AUDIENCE_DIALOG:
        'open_edit_restricted_audience_dialog',
      OPEN_ATTRIBUTE_EDIT_RESTRICTED_AUDIENCE_DIALOG:
        'open_attribute_edit_restricted_audience_dialog',
      SAVE_RESTRICTED_AUDIENCE_SETTING: 'save_restricted_audience_setting',
      SAVE_MANUAL_RESTRICTED_AUDIENCE_SETTING:
        'save_manual_restricted_audience_setting',
      SET_AUDIENCE_TO_PUBLIC: 'set_audience_to_public',
      SAVE_VIDEO_EDIT_RESTRICTED_AUDIENCE:
        'save_video_edit_restricted_audience',
      UPDATE_ATTRIBUTE_RESTRICTED_AUDIENCE_SETTING:
        'update_attribute_restricted_audience_setting',
      UPDATE_ATTRIBUTE_RESTRICTED_AUDIENCE_SETTING_ERROR:
        'update_attribute_restricted_audience_setting_error',
      CREATE_LOCATION_PRESET: 'create_location_preset',
      CREATE_LOCATION_PRESET_ERROR: 'create_location_preset_error',
      UPDATE_LOCATION_PRESET: 'update_location_preset',
      UPDATE_LOCATION_PRESET_ERROR: 'update_location_preset_error',
      DELETE_LOCATION_PRESET: 'delete_location_preset',
      DELETE_LOCATION_PRESET_ERROR: 'delete_location_preset_error',
      CROSSPOST_ALL_MONETIZABLE_CLICKED: 'crosspost_all_monetizable_clicked',
      AD_BREAKS_MID_ROLL_OPT_OUT_ENABLED: 'ad_breaks_mid_roll_opt_out_enabled',
      NONPROFIT_TAB_SELECTED: 'nonprofit_tab_selected',
      FUNDRAISER_TAB_SELECTED: 'fundraiser_tab_selected',
      NONPROFIT_LEGACY_SELECTED: 'nonprofit_legacy_selected',
      NONPROFIT_SELECTED: 'nonprofit_selected',
      FUNDRAISER_SELECTED: 'fundraiser_selected',
      DONATION_REMOVE_CLICKED: 'donation_remove_clicked',
      OPEN_PUBLISH_OPTION_EDIT_FLOW: 'open_publish_option_edit_flow',
      SAVE_PUBLISH_OPTION_EDIT_FLOW_ATTEMPT:
        'save_publish_option_edit_flow_attempt',
      SAVE_PUBLISH_OPTION_EDIT_FLOW_SUCCESS:
        'save_publish_option_edit_flow_success',
      CANCEL_PUBLISH_OPTION_EDIT_FLOW: 'cancel_publish_option_edit_flow',
      VISIT_CREATOR_STUDIO_BUTTON_CLICK: 'visit_creator_studio_button_click',
      VIDEO_SCHEDULE_DIALOG_OPEN: 'video_schedule_dialog_open',
      VIDEO_SCHEDULE_DIALOG_BACK: 'video_schedule_dialog_back',
      VIDEO_SCHEDULE_DIALOG_CLEAR: 'video_schedule_dialog_clear',
      VIDEO_SCHEDULE_DIALOG_SAVE: 'video_schedule_dialog_save',
      VIDEO_CAPTIONS_SRT_FILE_UPLOAD_ATTEMPT:
        'video_captions_srt_file_upload_attempt',
      VIDEO_CAPTIONS_SRT_FILE_UPLOAD_SUCCESS:
        'video_captions_srt_file_upload_success',
      VIDEO_CAPTIONS_SRT_FILE_UPLOAD_FAILURE:
        'video_captions_srt_file_upload_failure',
      VIDEO_CAPTIONS_SRT_FILE_DELETE_ATTEMPT:
        'video_captions_srt_file_delete_attempt',
      VIDEO_CAPTIONS_SRT_FILE_DELETE_SUCCESS:
        'video_captions_srt_file_delete_success',
      VIDEO_CAPTIONS_SRT_FILE_DELETE_FAILURE:
        'video_captions_srt_file_delete_failure',
      VIDEO_CAPTIONS_AUTO_GEN_TOGGLE_ATTEMPT:
        'video_captions_auto_gen_toggle_attempt',
      VIDEO_CAPTIONS_AUTO_GEN_TOGGLE_SUCCESS:
        'video_captions_auto_gen_toggle_success',
      VIDEO_CAPTIONS_AUTO_GEN_TOGGLE_FAILURE:
        'video_captions_auto_gen_toggle_failure',
      VIDEO_CAPTIONS_AUTO_GEN_REVIEW_TOGGLE_ATTEMPT:
        'video_captions_auto_gen_review_toggle_attempt',
      VIDEO_CAPTIONS_AUTO_GEN_REVIEW_TOGGLE_SUCCESS:
        'video_captions_auto_gen_review_toggle_success',
      VIDEO_CAPTIONS_AUTO_GEN_REVIEW_TOGGLE_FAILURE:
        'video_captions_auto_gen_review_toggle_failure',
      VIDEO_CAPTIONS_AUTO_GEN_SUBTITLES_TOGGLE_ATTEMPT:
        'video_captions_auto_gen_subtitles_toggle_attempt',
      VIDEO_CAPTIONS_AUTO_GEN_SUBTITLES_TOGGLE_SUCCESS:
        'video_captions_auto_gen_subtitles_toggle_success',
      VIDEO_CAPTIONS_AUTO_GEN_SUBTITLES_TOGGLE_FAILURE:
        'video_captions_auto_gen_subtitles_toggle_failure',
      VIDEO_CUSTOM_THUMBNAIL_UPLOAD: 'video_custom_thumbnail_upload',
      VIDEO_CUSTOM_THUMBNAIL_DELETE: 'video_custom_thumbnail_delete',
      ENTER_HASHTAG_MANAGER: 'enter_hashtag_manager',
      CANCEL_HASHTAG_MANAGER: 'cancel_hashtag_manager',
      USE_HASHTAG_MANAGER: 'use_hashtag_manager',
      DUBBING_START: 'dubbing_start',
      DUBBING_SUBTITLE_NOT_FOUND: 'dubbing_subtitle_not_found',
      DUBBING_SUBTITLE_TEXT_NOT_AVAILABLE:
        'dubbing_subtitle_text_not_available',
      DUBBING_EVERSTORE_HANDLE_NOT_FOUND: 'dubbing_everstore_handle_not_found',
      DUBBING_SUCCESS: 'dubbing_success',
      DUBBING_PUBLISH_SUCCESS: 'dubbing_publish_success',
      DUBBING_FAILURE: 'dubbing_failure',
      TEXT_TRANSLATION_COMPLETE: 'text_translation_complete',
      TEXT_TRANSLATION_FAILURE: 'text_translation_failure',
      DUBBING_METADATA_UPDATE_FAILURE: 'dubbing_metadata_update_failure',
      SAVED_DUBBED_AS_DRAFT: 'saved_dubbed_as_draft',
      DUBBING_FINAL_COMMAND: 'dubbing_final_command',
      DUBBING_M1_PROMO_CTA_CLICKED: 'dubbing_m1_promo_cta_clicked',
      DUBBING_SPEECH_SUPPRESSION_SUCCESSFUL:
        'dubbing_speech_suppression_successful',
      DUBBING_SPEECH_SUPPRESSION_HANDLE_POLL_CRASHED:
        'dubbing_speech_suppression_handle_poll_crashed',
      DUBBING_RIGHT_ENCODINGS_CHECK_START:
        'dubbing_right_encodings_check_start',
      DUBBING_RIGHT_ENCODINGS_CHECK_END: 'dubbing_right_encodings_check_end',
      DUBBING_TTS_FAILED: 'dubbing_tts_failed',
      AUTO_DUB_CARD_SHOWN: 'auto_dub_card_shown',
      AUTO_DUB_CLICK_DISABLE: 'auto_dub_click_disable',
      AUTO_DUB_CLICK_ENABLE: 'auto_dub_click_enable',
      AUTO_DUB_CAPTIONS_LOADED: 'auto_dub_captions_loaded',
      AUTO_DUB_CREATE_DUBBED_PREVIEW_CALLED:
        'auto_dub_create_dubbed_preview_called',
      AUTO_DUB_CREATE_DUBBED_PREVIEW_FAILURE:
        'auto_dub_create_dubbed_preview_failure',
      AUTO_DUB_CREATE_DUBBED_PREVIEW_SUCCESS:
        'auto_dub_create_dubbed_preview_success',
      AUTO_DUB_ENCODE_ORIGINAL_PREVIEW_CALLED:
        'auto_dub_encode_original_preview_called',
      AUTO_DUB_ENCODE_ORIGINAL_PREVIEW_FAILURE:
        'auto_dub_encode_original_preview_failure',
      AUTO_DUB_ENCODE_ORIGINAL_PREVIEW_SUCCESS:
        'auto_dub_encode_original_preview_success',
      AUTO_DUB_PREVIEW_PLAYED: 'auto_dub_preview_played',
      AUTO_DUB_SPANISH_SUBTITLES_LOADED: 'auto_dub_spanish_subtitles_loaded',
      AUTO_DUB_VIDEO_ELIGIBLE: 'auto_dub_video_eligible',
      AUTO_DUB_VOICE_SELECTED: 'auto_dub_voice_selected',
      AUTO_AB_LANDING_BANNER_RENDERED: 'auto_ab_landing_banner_rendered',
      AUTO_AB_LANDING_BANNER_CLOSED: 'auto_ab_landing_banner_closed',
      AUTO_AB_BANNER_TO_TAB_TRANSITION: 'auto_ab_banner_to_tab_transition',
      AUTO_AB_TAB_SELECTED: 'auto_ab_tab_selected',
      AUTO_AB_TOGGLE_IN: 'auto_ab_toggle_in',
      AUTO_AB_TOGGLE_OUT: 'auto_ab_toggle_out',
      AUTO_AB_CREATION_ATTEMPT: 'auto_ab_creation_attempt',
      AUTO_AB_CREATION_SUCCESS: 'auto_ab_creation_success',
      AUTO_AB_CREATION_FAILURE: 'auto_ab_creation_failure',
      OPEN_UNIFIED_REVIEW_DIALOG: 'open_unified_review_dialog',
      POST_PUBLISHED_FROM_UNIFIED_COMPOSER:
        'post_published_from_unified_composer',
      UNIFIED_VU_WELCOME_SCREEN_CTA_CLICK:
        'unified_vu_welcome_screen_cta_click',
      OPTIMIZATION_TAB_CLICKED: 'optimization_tab_clicked',
      OPTIMIZATION_TAB_ENABLED: 'optimization_tab_enabled',
      VU_V1_REFRAMING_VISIBLE: 'vu_v1_reframing_visible',
      VU_V2_STO_VISIBLE: 'vu_v2_sto_visible',
      VU_V2_TRAILER_VISIBLE: 'vu_v2_trailer_visible',
      REELS_UPSELL_BANNER_RENDERED: 'reels_upsell_banner_rendered',
      REELS_UPSELL_BANNER_CLICKED: 'reels_upsell_banner_clicked',
      REELS_UPSELL_BANNER_DISMISSED: 'reels_upsell_banner_dismissed',
      SFV_TO_REELS_DIALOG_TRANSITION_TO_RWC_DIALOG_STARTED:
        'sfv_to_reels_dialog_transition_to_rwc_dialog_started',
      SFV_TO_REELS_DIALOG_TRANSITION_TO_RWC_DIALOG_SUCCESS:
        'sfv_to_reels_dialog_transition_to_rwc_dialog_success',
      SFV_TO_REELS_DIALOG_SWITCH_BACK: 'sfv_to_reels_dialog_switch_back',
      SFV_TO_REELS_DIALOG_SWITCH_BACK_WITH_PAGE_LEVEL_OPT_OUT:
        'sfv_to_reels_dialog_switch_back_with_page_level_opt_out',
      SFV_TO_REELS_DIALOG_EXIT_ALL_VIA_EXIT_MODAL:
        'sfv_to_reels_dialog_exit_all_via_exit_modal',
      SFV_TO_REELS_DIALOG_REEL_PUBLISH_STARTED:
        'sfv_to_reels_dialog_reel_publish_started',
      SFV_TO_REELS_DIALOG_REEL_PUBLISH_SUCCESSFUL:
        'sfv_to_reels_dialog_reel_publish_successful',
    });
    f['default'] = a;
  },
  66,
); /*FB_PKG_DELIM*/
__d(
  'LSTruncateTableAndSetShowError',
  [],
  function (a, b, c, d, e, f) {
    function a() {
      var a = arguments,
        b = a[a.length - 1];
      b.n;
      var c = [];
      return b.seq([
        function (c) {
          return b.seq([
            function (a) {
              return b.fe(b.db.table(115).fetch(), function (a) {
                return a['delete']();
              });
            },
            function (c) {
              return b.db
                .table(115)
                .add({
                  statusId: [0, 0],
                  timestampMs: b.i64.of_float(Date.now()),
                  errorShouldBeShown: a[0],
                });
            },
          ]);
        },
        function (a) {
          return b.resolve(c);
        },
      ]);
    }
    e.exports = a;
  },
  null,
);
__d(
  'LSDeleteAllAndInsertConnectivityStatus',
  ['LSTruncateTableAndSetShowError'],
  function (a, b, c, d, e, f) {
    function a() {
      var a = arguments,
        c = a[a.length - 1];
      c.n;
      var d = [];
      return c.seq([
        function (d) {
          return c.seq([
            function (a) {
              return c.fe(c.db.table(114).fetch(), function (a) {
                return a['delete']();
              });
            },
            function (b) {
              return c.db
                .table(114)
                .add({
                  statusId: void 0,
                  timestampMs: c.i64.of_float(Date.now()),
                  internetConnectionState: a[0],
                });
            },
            function (d) {
              return c.sp(
                b('LSTruncateTableAndSetShowError'),
                c.i64.neq(a[0], [0, 1]),
              );
            },
          ]);
        },
        function (a) {
          return c.resolve(d);
        },
      ]);
    }
    e.exports = a;
  },
  null,
);
__d(
  'LSIssueNewTaskWithExtraOperations',
  ['LSIssueNewTaskAndGetTaskID'],
  function (a, b, c, d, e, f) {
    function a() {
      var a = arguments,
        c = a[a.length - 1];
      c.n;
      var d = [],
        e = [];
      return c.seq([
        function (e) {
          return c.seq([
            function (e) {
              return c
                .sp(
                  b('LSIssueNewTaskAndGetTaskID'),
                  a[0],
                  a[1],
                  a[2],
                  a[3],
                  a[4],
                  a[5],
                  a[6],
                  a[7],
                  a[8],
                  a[9],
                )
                .then(function (a) {
                  return (a = a), (d[0] = a[0]), a;
                });
            },
            function (a) {
              return c.fe(
                c.islc(c.db.table(232).fetch(), 0, c.i64.to_float([0, 1])),
                function (a) {
                  a = a.item;
                  return c.db
                    .table(233)
                    .add({
                      taskId: d[0],
                      notificationScopeKey: a.notificationScopeKey,
                      notificationName: a.notificationName,
                    });
                },
              );
            },
          ]);
        },
        function (a) {
          return c.resolve(e);
        },
      ]);
    }
    e.exports = a;
  },
  null,
);
__d(
  'LSRemoveError',
  [],
  function (a, b, c, d, e, f) {
    function a() {
      var a = arguments,
        b = a[a.length - 1];
      b.n;
      var c = [];
      return b.seq([
        function (c) {
          return b.fe(b.db.table(6).fetch([[[a[0]]]]), function (a) {
            return a['delete']();
          });
        },
        function (a) {
          return b.resolve(c);
        },
      ]);
    }
    e.exports = a;
  },
  null,
);
__d(
  'LSOptimisticFetchPendingGroupInvite',
  ['LSIssueNewTaskWithExtraOperations'],
  function (a, b, c, d, e, f) {
    function a() {
      var a = arguments,
        c = a[a.length - 1];
      c.n;
      var d = [],
        e = [],
        f;
      return c.seq([
        function (e) {
          return c.seq([
            function (e) {
              return (
                (d[0] = new c.Map()),
                d[0].set('link_hash', a[0]),
                d[0].set('image_width', a[1]),
                d[0].set('image_height', a[2]),
                (d[1] = c.toJSON(d[0])),
                c.sp(
                  b('LSIssueNewTaskWithExtraOperations'),
                  'fetch_pending_group_invite',
                  [0, 434],
                  d[1],
                  f,
                  f,
                  [0, 0],
                  [0, 0],
                  f,
                  f,
                  [0, 0],
                  f,
                )
              );
            },
            function (b) {
              return c.db
                .table(235)
                .put({
                  linkHash: a[0],
                  threadTitle: '',
                  lastThreadActivityMs: [0, 0],
                  groupImageUrl: '',
                  groupImageUrlFallback: '',
                  groupImageUrlExpirationTimestampMs: [0, 0],
                  joinExplainerText: '',
                  numberOfMembers: [0, 0],
                  isInApprovalQueue: !1,
                  isSubscribed: !1,
                  canJoin: !1,
                  fbGroupDescription: '',
                  communityImageUrl: '',
                  communityImageUrlFallback: '',
                  communityImageUrlExpirationTimestampMs: [0, 0],
                  linkJoinType: [0, 1],
                  fbGroupVisibility: [0, 1],
                  communityId: [0, 0],
                });
            },
          ]);
        },
        function (a) {
          return c.resolve(e);
        },
      ]);
    }
    e.exports = a;
  },
  null,
);
__d(
  'MDSColumnContext',
  ['react'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    a = d('react');
    b = a.createContext(null);
    g['default'] = b;
  },
  98,
);
__d(
  'MDSColumnItem.react',
  [
    'BaseView.react',
    'CometErrorBoundary.react',
    'CometPlaceholder.react',
    'MDSColumnContext',
    'UserAgent',
    'react',
    'stylex',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react'),
      i = d('react').useContext,
      j = {
        divider: {
          borderTopColor: 'x8cjs6t',
          borderTopStyle: 'x13fuv20',
          borderTopWidth: 'x178xt8z',
          ':first-child_display': 'xh99ass',
          $$css: !0,
        },
        dividerMargin: {
          ':first-child:empty + *_marginTop': 'xb939ph',
          $$css: !0,
        },
        expanding: {
          flexBasis: 'x1l7klhg',
          flexGrow: 'x1iyjqo2',
          flexShrink: 'xs83m0k',
          minHeight: 'x2lwn1j',
          $$css: !0,
        },
        expandingIE11: { flexBasis: 'xdl72j9', $$css: !0 },
        marginFirstChild: { ':first-child_marginTop': 'x14l7nz5', $$css: !0 },
        marginLastChild: { ':last-child_marginBottom': 'xzboxd6', $$css: !0 },
        root: {
          display: 'x78zum5',
          flexDirection: 'xdt5ytf',
          flexShrink: 'x2lah0s',
          maxWidth: 'x193iq5w',
          $$css: !0,
        },
      },
      k = {
        center: { alignItems: 'x6s0dn4', $$css: !0 },
        end: { alignItems: 'xuk3077', $$css: !0 },
        start: { alignItems: 'x1cy8zhl', $$css: !0 },
      },
      l = {
        4: { paddingStart: 'x1e558r4', paddingEnd: 'x150jy0e', $$css: !0 },
        8: { paddingStart: 'xurb0ha', paddingEnd: 'x1sxyh0', $$css: !0 },
        12: { paddingStart: 'x1ye3gou', paddingEnd: 'xn6708d', $$css: !0 },
        16: { paddingStart: 'x1swvt13', paddingEnd: 'x1pi30zi', $$css: !0 },
        20: { paddingStart: 'x5ib6vp', paddingEnd: 'xc73u3c', $$css: !0 },
      },
      m = {
        0: { paddingTop: 'xexx8yu', $$css: !0 },
        4: { paddingTop: 'x1iorvi4', $$css: !0 },
        8: { paddingTop: 'x1y1aw1k', $$css: !0 },
        12: { paddingTop: 'xz9dl7a', $$css: !0 },
        16: { paddingTop: 'xyamay9', $$css: !0 },
        20: { paddingTop: 'x1cnzs8', $$css: !0 },
        40: { paddingTop: 'x13zrc24', $$css: !0 },
      },
      n = {
        4: { paddingTop: 'x1iorvi4', paddingBottom: 'xjkvuk6', $$css: !0 },
        8: { paddingTop: 'x1y1aw1k', paddingBottom: 'xwib8y2', $$css: !0 },
        12: { paddingTop: 'xz9dl7a', paddingBottom: 'xsag5q8', $$css: !0 },
        16: { paddingTop: 'xyamay9', paddingBottom: 'x1l90r2v', $$css: !0 },
        20: { paddingTop: 'x1cnzs8', paddingBottom: 'xx6bls6', $$css: !0 },
      },
      o = {
        4: { marginTop: 'xr9ek0c', marginBottom: 'xjpr12u', $$css: !0 },
        8: { marginTop: 'x1gslohp', marginBottom: 'x12nagc', $$css: !0 },
        12: { marginTop: 'x1k70j0n', marginBottom: 'xzueoph', $$css: !0 },
        16: { marginTop: 'x1xmf6yo', marginBottom: 'x1e56ztr', $$css: !0 },
        20: { marginTop: 'x1anpbxc', marginBottom: 'xyorhqc', $$css: !0 },
        24: { marginTop: 'x14vqqas', marginBottom: 'xod5an3', $$css: !0 },
        32: { marginTop: 'xw7yly9', marginBottom: 'x1yztbdb', $$css: !0 },
        40: { marginTop: 'x1sy10c2', marginBottom: 'xieb3on', $$css: !0 },
      },
      p = {
        bottom: { justifyContent: 'x13a6bvl', $$css: !0 },
        center: { justifyContent: 'xl56j7k', $$css: !0 },
        'space-between': { justifyContent: 'x1qughib', $$css: !0 },
      },
      q = {
        4: { marginStart: 'xsgj6o6', marginEnd: 'xw3qccf', $$css: !0 },
        8: { marginStart: 'x1i64zmx', marginEnd: 'x1emribx', $$css: !0 },
        12: { marginStart: 'x16n37ib', marginEnd: 'xq8finb', $$css: !0 },
        16: { marginStart: 'x1d52u69', marginEnd: 'xktsk01', $$css: !0 },
        20: { marginStart: 'xmn8rco', marginEnd: 'x1h5jrl4', $$css: !0 },
      },
      r = c('UserAgent').isBrowser('IE >= 11');
    function a(a, b) {
      var d, e, f, g;
      d = (d = i(c('MDSColumnContext'))) != null ? d : {};
      var t = a.align;
      e = t === void 0 ? ((e = d.align) != null ? e : 'stretch') : t;
      t = a.children;
      var u = a.expanding;
      u = u === void 0 ? !1 : u;
      var v = a.fallback,
        w = a.paddingHorizontal;
      f = w === void 0 ? ((f = d.paddingHorizontal) != null ? f : 0) : w;
      w = a.paddingTop;
      var x = a.paddingVertical;
      x = x === void 0 ? 0 : x;
      var y = a.placeholder,
        z = a.verticalAlign;
      z = z === void 0 ? 'top' : z;
      var A = babelHelpers.objectWithoutPropertiesLoose(a, [
          'align',
          'children',
          'expanding',
          'fallback',
          'paddingHorizontal',
          'paddingTop',
          'paddingVertical',
          'placeholder',
          'verticalAlign',
        ]),
        B = c('stylex').compose(a.xstyle);
      g = h.jsxs(h.Fragment, {
        children: [
          d.hasDividers === !0 &&
            h.jsx(c('BaseView.react'), {
              role: 'separator',
              xstyle: [
                j.divider,
                q[(g = d.paddingHorizontal) != null ? g : 0],
                d.spacing != null && j.dividerMargin,
              ],
            }),
          h.jsx(
            c('BaseView.react'),
            babelHelpers['extends']({}, A, {
              ref: b,
              xstyle: [
                j.root,
                u && [j.expanding, r && j.expandingIE11],
                e !== 'stretch' && k[e],
                z !== 'top' && p[z],
                l[f],
                n[x],
                w != null && m[w],
                d.spacing != null && [
                  o[d.spacing],
                  B.marginBottom == null && j.marginLastChild,
                  B.marginTop == null && j.marginFirstChild,
                ],
                a.xstyle,
              ],
              children: h.jsx(c('MDSColumnContext').Provider, {
                value: null,
                children: t,
              }),
            }),
          ),
        ],
      });
      if (v !== void 0) {
        a.fallback;
        var C = babelHelpers.objectWithoutPropertiesLoose(a, ['fallback']);
        v === null
          ? (g = h.jsx(c('CometErrorBoundary.react'), { children: g }))
          : (g = h.jsx(c('CometErrorBoundary.react'), {
              fallback: function (a, c) {
                return h.jsx(
                  s,
                  babelHelpers['extends']({}, C, {
                    ref: b,
                    children: typeof v === 'function' ? v(a, c) : v,
                  }),
                );
              },
              children: g,
            }));
      }
      if (y !== void 0) {
        a.placeholder;
        A = babelHelpers.objectWithoutPropertiesLoose(a, ['placeholder']);
        g = h.jsx(c('CometPlaceholder.react'), {
          fallback:
            y != null
              ? h.jsx(
                  s,
                  babelHelpers['extends']({}, A, { ref: b, children: y }),
                )
              : null,
          children: g,
        });
      }
      return g;
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    var s = h.forwardRef(a);
    b = s;
    g['default'] = b;
  },
  98,
);
__d(
  'MDSHeadlineWithAddOn.react',
  [
    'BaseRow.react',
    'BaseRowItem.react',
    'Locale',
    'MDSText.react',
    'gkx',
    'react',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react'),
      i = {
        addOn: {
          display: 'x78zum5',
          flexDirection: 'xdt5ytf',
          justifyContent: 'xl56j7k',
          marginStart: 'x1i64zmx',
          $$css: !0,
        },
        nonBreakingSpace: {
          visibility: 'xlshs6z',
          width: 'xnalus7',
          $$css: !0,
        },
        textFlexFixForIE: { flexBasis: 'xdl72j9', $$css: !0 },
      },
      j = {
        ltr: { direction: 'xzt5al7', $$css: !0 },
        rtl: { direction: 'xzyj77d', $$css: !0 },
      },
      k = c('gkx')('1299319');
    function a(a, b) {
      var e = a.addOn,
        f = a.children,
        g = a.color,
        l = a.headlineRef,
        m = a.isSemanticHeading,
        n = a.numberOfLines;
      a = a.type;
      return h.jsx(c('MDSText.react'), {
        isSemanticHeading: !1,
        ref: b,
        type: a,
        children: h.jsxs(c('BaseRow.react'), {
          verticalAlign: 'center',
          xstyle: j[d('Locale').isRTL() ? 'rtl' : 'ltr'],
          children: [
            h.jsx(c('BaseRowItem.react'), {
              expanding: !0,
              xstyle: k && i.textFlexFixForIE,
              children: h.jsx(c('MDSText.react'), {
                color: g,
                isSemanticHeading: m,
                numberOfLines: n,
                ref: l,
                type: a,
                children: f,
              }),
            }),
            h.jsx(c('BaseRowItem.react'), {
              verticalAlign: 'top',
              xstyle: i.addOn,
              children: h.jsxs(c('BaseRow.react'), {
                verticalAlign: 'center',
                children: [
                  h.jsx(c('BaseRowItem.react'), {
                    xstyle: i.nonBreakingSpace,
                    children: '\xa0',
                  }),
                  h.jsx(c('BaseRowItem.react'), {
                    children: h.jsx(c('BaseRow.react'), { children: e }),
                  }),
                ],
              }),
            }),
          ],
        }),
      });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    b = h.forwardRef(a);
    g['default'] = b;
  },
  98,
);
__d(
  'MDSRowContext',
  ['react'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    a = d('react');
    b = a.createContext(null);
    g['default'] = b;
  },
  98,
);
__d(
  'MDSRowItem.react',
  [
    'BaseRowItem.react',
    'CometErrorBoundary.react',
    'CometPlaceholder.react',
    'MDSRowContext',
    'react',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react'),
      i = d('react').useContext,
      j = {
        4: { paddingEnd: 'xg83lxy', paddingStart: 'x1h0ha7o', $$css: !0 },
        8: { paddingEnd: 'x150jy0e', paddingStart: 'x1e558r4', $$css: !0 },
        12: { paddingEnd: 'xsyo7zv', paddingStart: 'x16hj40l', $$css: !0 },
        16: { paddingEnd: 'x1sxyh0', paddingStart: 'xurb0ha', $$css: !0 },
        24: { paddingEnd: 'xn6708d', paddingStart: 'x1ye3gou', $$css: !0 },
        32: { paddingEnd: 'x1pi30zi', paddingStart: 'x1swvt13', $$css: !0 },
      },
      k = {
        4: { paddingBottom: 'x1120s5i', paddingTop: 'x1nn3v0j', $$css: !0 },
        8: { paddingBottom: 'xjkvuk6', paddingTop: 'x1iorvi4', $$css: !0 },
        12: { paddingBottom: 'x10b6aqq', paddingTop: 'x1yrsyyn', $$css: !0 },
        16: { paddingBottom: 'xwib8y2', paddingTop: 'x1y1aw1k', $$css: !0 },
        24: { paddingBottom: 'xsag5q8', paddingTop: 'xz9dl7a', $$css: !0 },
        32: { paddingBottom: 'x1l90r2v', paddingTop: 'xyamay9', $$css: !0 },
      };
    function a(a, b) {
      var d;
      d = (d = i(c('MDSRowContext'))) != null ? d : {};
      var e = d.spacingHorizontal;
      d = d.spacingVertical;
      var f = a.fallback,
        g = a.placeholder,
        m = babelHelpers.objectWithoutPropertiesLoose(a, [
          'fallback',
          'placeholder',
        ]);
      if (g !== void 0) {
        a.placeholder;
        var n = babelHelpers.objectWithoutPropertiesLoose(a, ['placeholder']);
        return h.jsx(c('CometPlaceholder.react'), {
          fallback:
            g != null
              ? h.jsx(
                  l,
                  babelHelpers['extends']({}, n, { ref: b, children: g }),
                )
              : null,
          children: h.jsx(l, babelHelpers['extends']({}, n, { ref: b })),
        });
      }
      if (f !== void 0) {
        a.fallback;
        var o = babelHelpers.objectWithoutPropertiesLoose(a, ['fallback']);
        return f === null
          ? h.jsx(c('CometErrorBoundary.react'), {
              children: h.jsx(l, babelHelpers['extends']({}, o, { ref: b })),
            })
          : h.jsx(c('CometErrorBoundary.react'), {
              fallback: function (a, c) {
                return h.jsx(
                  l,
                  babelHelpers['extends']({}, o, {
                    ref: b,
                    children: typeof f === 'function' ? f(a, c) : f,
                  }),
                );
              },
              children: h.jsx(l, babelHelpers['extends']({}, o, { ref: b })),
            });
      }
      return h.jsx(
        c('BaseRowItem.react'),
        babelHelpers['extends']({}, m, {
          ref: b,
          useDeprecatedStyles: m.useDeprecatedStyles,
          xstyle: [j[e], k[d], m.xstyle],
          children: h.jsx(c('MDSRowContext').Provider, {
            value: null,
            children: m.children,
          }),
        }),
      );
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    var l = h.forwardRef(a);
    b = l;
    g['default'] = b;
  },
  98,
);
__d(
  'MDSRow.react',
  [
    'BaseRow.react',
    'MDSColumnContext',
    'MDSColumnItem.react',
    'MDSRowContext',
    'MDSRowItem.react',
    'react',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    b = d('react');
    var i = b.useContext,
      j = b.useMemo,
      k = {
        4: { paddingEnd: 'x150jy0e', paddingStart: 'x1e558r4', $$css: !0 },
        8: { paddingEnd: 'x1sxyh0', paddingStart: 'xurb0ha', $$css: !0 },
        10: { paddingEnd: 'x1iji9kk', paddingStart: 'x1sln4lm', $$css: !0 },
        12: { paddingEnd: 'xn6708d', paddingStart: 'x1ye3gou', $$css: !0 },
        16: { paddingEnd: 'x1pi30zi', paddingStart: 'x1swvt13', $$css: !0 },
      },
      l = {
        0: { paddingTop: 'xexx8yu', $$css: !0 },
        4: { paddingTop: 'x1iorvi4', $$css: !0 },
        8: { paddingTop: 'x1y1aw1k', $$css: !0 },
        10: { paddingTop: 'x889kno', $$css: !0 },
        12: { paddingTop: 'xz9dl7a', $$css: !0 },
        16: { paddingTop: 'xyamay9', $$css: !0 },
        20: { paddingTop: 'x1cnzs8', $$css: !0 },
      },
      m = {
        4: { paddingBottom: 'xjkvuk6', paddingTop: 'x1iorvi4', $$css: !0 },
        8: { paddingBottom: 'xwib8y2', paddingTop: 'x1y1aw1k', $$css: !0 },
        10: { paddingBottom: 'x1a8lsjc', paddingTop: 'x889kno', $$css: !0 },
        12: { paddingBottom: 'xsag5q8', paddingTop: 'xz9dl7a', $$css: !0 },
        16: { paddingBottom: 'x1l90r2v', paddingTop: 'xyamay9', $$css: !0 },
      },
      n = {
        4: { marginEnd: 'xwrv7xz', marginStart: 'x8182xy', $$css: !0 },
        8: { marginEnd: 'xcud41i', marginStart: 'x139jcc6', $$css: !0 },
        10: { marginEnd: 'x6zhf5e', marginStart: 'xrzrlj5', $$css: !0 },
        12: { marginEnd: 'xykv574', marginStart: 'xbmpl8g', $$css: !0 },
        16: { marginEnd: 'x1n0m28w', marginStart: 'xp7jhwk', $$css: !0 },
        24: { marginEnd: 'x12rz0ws', marginStart: 'x16hk5td', $$css: !0 },
        32: { marginEnd: 'x19f6ikt', marginStart: 'x169t7cy', $$css: !0 },
      },
      o = {
        4: { marginBottom: 'xmgb6t1', marginTop: 'x1kgmq87', $$css: !0 },
        8: { marginBottom: 'x4vbgl9', marginTop: 'x1rdy4ex', $$css: !0 },
        10: { marginBottom: 'xz62fqu', marginTop: 'x16ldp7u', $$css: !0 },
        12: { marginBottom: 'x4cne27', marginTop: 'xifccgj', $$css: !0 },
        16: { marginBottom: 'x1wsgfga', marginTop: 'x9otpla', $$css: !0 },
        24: { marginBottom: 'xh3wvx0', marginTop: 'x7wgvq7', $$css: !0 },
        32: { marginBottom: 'x1oo3vh0', marginTop: 'xwya9rg', $$css: !0 },
      };
    function a(a, b) {
      var d = i(c('MDSColumnContext')),
        e = i(c('MDSRowContext')),
        f = (d == null ? void 0 : d.paddingHorizontal) != null ? 0 : 12,
        g = (d == null ? void 0 : d.spacing) != null ? 0 : 16,
        p = a.children,
        q = a.paddingHorizontal;
      f = q === void 0 ? f : q;
      q = a.paddingVertical;
      q = q === void 0 ? 0 : q;
      var r = a.paddingTop;
      g = r === void 0 ? (a.paddingVertical == null ? g : null) : r;
      r = a.spacing;
      r = r === void 0 ? 12 : r;
      var s = a.spacingHorizontal,
        t = s === void 0 ? r : s;
      s = a.spacingVertical;
      var u = s === void 0 ? r : s;
      r = a.xstyle;
      s = babelHelpers.objectWithoutPropertiesLoose(a, [
        'children',
        'paddingHorizontal',
        'paddingVertical',
        'paddingTop',
        'spacing',
        'spacingHorizontal',
        'spacingVertical',
        'xstyle',
      ]);
      a = j(
        function () {
          return { spacingHorizontal: t, spacingVertical: u };
        },
        [t, u],
      );
      b = h.jsx(
        c('BaseRow.react'),
        babelHelpers['extends']({}, s, {
          ref: b,
          xstyle: [k[f], m[q], g != null && l[g], n[t], o[u], r],
          children: h.jsx(c('MDSRowContext').Provider, {
            value: a,
            children: p,
          }),
        }),
      );
      if (e != null)
        return h.jsx(c('MDSRowItem.react'), {
          expanding: s.expanding,
          children: b,
        });
      return d != null
        ? h.jsx(c('MDSColumnItem.react'), {
            expanding: s.expanding,
            children: b,
          })
        : b;
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    e = h.forwardRef(a);
    d = e;
    g['default'] = d;
  },
  98,
);
__d(
  'getMDSTextHierarchyStyle',
  ['memoizeWithArgs'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    a = c('memoizeWithArgs')(
      function (a, b) {
        switch (a) {
          case 1:
            return {
              bodyType: 'body1',
              headlineType: 'headlineEmphasized1',
              metaType: 'meta1',
            };
          case 2:
            return {
              bodyType: 'body2',
              headlineType: 'headlineEmphasized2',
              metaType: 'meta2',
            };
          case 3:
            return {
              bodyType: 'body3',
              headlineType: b === !0 ? 'headline3' : 'headlineEmphasized3',
              metaType: 'meta3',
            };
          default:
          case 4:
            return {
              bodyType: 'body4',
              headlineType: b === !0 ? 'headline4' : 'headlineEmphasized4',
              metaType: 'meta4',
            };
          case 'entityHeader1':
            return {
              bodyType: 'body2',
              headlineType: 'entityHeaderHeadline1',
              metaType: 'entityHeaderMeta1',
            };
          case 'entityHeader2':
            return {
              bodyType: 'body2',
              headlineType: 'entityHeaderHeadline2',
              metaType: 'entityHeaderMeta2',
            };
        }
      },
      function (a, b) {
        return String(a) + (b === !0 ? '' : 'e');
      },
    );
    g['default'] = a;
  },
  98,
);
__d(
  'MDSTextPairing.react',
  [
    'MDSHeadlineWithAddOn.react',
    'MDSText.react',
    'getMDSTextHierarchyStyle',
    'react',
    'stylex',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react'),
      i = {
        item: { marginBottom: 'xu06os2', marginTop: 'x1ok221b', $$css: !0 },
        root: {
          display: 'x78zum5',
          flexDirection: 'xdt5ytf',
          marginBottom: 'xz62fqu',
          marginTop: 'x16ldp7u',
          $$css: !0,
        },
      },
      j = {
        1: { marginBottom: 'x11tup63', marginTop: 'x16z1lm9', $$css: !0 },
        2: { marginBottom: 'x4cne27', marginTop: 'xifccgj', $$css: !0 },
        entityHeader1: {
          marginBottom: 'x1wsgfga',
          marginTop: 'x9otpla',
          $$css: !0,
        },
        entityHeader2: {
          marginBottom: 'x1wsgfga',
          marginTop: 'x9otpla',
          $$css: !0,
        },
      },
      k = {
        1: { marginBottom: 'xwoyzhm', marginTop: 'x1rhet7l', $$css: !0 },
        2: { marginBottom: 'xzueoph', marginTop: 'x1k70j0n', $$css: !0 },
        entityHeader1: {
          marginBottom: 'x1e56ztr',
          marginTop: 'x1xmf6yo',
          $$css: !0,
        },
        entityHeader2: {
          marginBottom: 'x1e56ztr',
          marginTop: 'x1xmf6yo',
          $$css: !0,
        },
      };
    function a(a) {
      var b = a.body,
        d = a.bodyColor;
      d = d === void 0 ? 'primary' : d;
      var e = a.bodyLineLimit,
        f = a.bodyRef,
        g = a.headline,
        l = a.headlineAddOn,
        m = a.headlineColor;
      m = m === void 0 ? 'primary' : m;
      var n = a.headlineLineLimit,
        o = a.headlineRef,
        p = a.isSemanticHeading,
        q = a.level,
        r = a.meta,
        s = a.metaColor;
      s = s === void 0 ? 'secondary' : s;
      var t = a.metaLineLimit,
        u = a.metaLocation;
      u = u === void 0 ? 'below' : u;
      var v = a.metaRef,
        w = a.reduceEmphasis;
      w = w === void 0 ? !1 : w;
      var x = a.testid;
      x = a.textAlign;
      a = x === void 0 ? 'start' : x;
      x = c('getMDSTextHierarchyStyle')(q, w);
      w = x.bodyType;
      var y = x.headlineType;
      x = x.metaType;
      var z = c('stylex')(i.item, k[q]);
      l =
        g != null &&
        h.jsx('div', {
          className: z,
          children:
            l != null
              ? h.jsx(c('MDSHeadlineWithAddOn.react'), {
                  addOn: l,
                  color: m,
                  headlineRef: o,
                  isSemanticHeading: p,
                  numberOfLines: n,
                  type: y,
                  children: g,
                })
              : h.jsx(c('MDSText.react'), {
                  align: a,
                  color: m,
                  isSemanticHeading: p,
                  numberOfLines: n,
                  ref: o,
                  type: y,
                  children: g,
                }),
        });
      m =
        r != null &&
        h.jsx('div', {
          className: z,
          children: h.jsx(c('MDSText.react'), {
            align: a,
            color: s,
            isSemanticHeading: p,
            numberOfLines: t,
            ref: v,
            type: x,
            children: r,
          }),
        });
      return h.jsxs('div', {
        className: c('stylex')(i.root, j[q]),
        'data-testid': void 0,
        children: [
          u === 'above' && m,
          l,
          b != null &&
            h.jsx('div', {
              className: z,
              children: h.jsx(c('MDSText.react'), {
                align: a,
                color: d,
                isSemanticHeading: !1,
                numberOfLines: e,
                ref: f,
                type: w,
                children: b,
              }),
            }),
          u === 'below' && m,
        ],
      });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    g['default'] = a;
  },
  98,
);
__d(
  'MessengerDesktopPresenceInfo',
  ['FBLogger', 'WebStorage'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = '__fb_messenger_desktop_presence_info';
    function a() {
      var a = c('WebStorage').getLocalStorageForRead();
      return JSON.parse(
        (a = a == null ? void 0 : a.getItem(h)) != null ? a : 'null',
      );
    }
    function b() {
      var a = c('WebStorage').getLocalStorage();
      if (a == null) {
        c('FBLogger')(
          'desktop_messenger_deeplink_presence',
          'local_storage_not_found',
        ).warn(
          "Messenger Desktop Presence Token cannot be created if local storage doesn't exist",
        );
        return null;
      }
      var b = { lastActiveTimestamp: Date.now() };
      a = c('WebStorage').setItemGuarded(a, h, JSON.stringify(b));
      a != null &&
        c('FBLogger')(
          'desktop_messenger_deeplink_presence',
          'create_presence_info_error',
        ).warn(a.toString());
      return b;
    }
    g.getPresenceInfo = a;
    g.createPresenceInfo = b;
  },
  98,
);
__d(
  'MessengerDesktopLocalServerRequest',
  ['ConstUriUtils', 'MessengerDesktopPresenceInfo'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = 2e3;
    a = (function () {
      function a(a, b) {
        var c = this;
        this.$1 = function () {
          c.request.status === 200 &&
            d('MessengerDesktopPresenceInfo').createPresenceInfo();
        };
        b = 'http://localhost:' + b + a;
        this.uri =
          (a =
            (a = d('ConstUriUtils').getUri(b)) == null
              ? void 0
              : a.toString()) != null
            ? a
            : b;
        this.request = new XMLHttpRequest();
        this.request.timeout = h;
        this.request.onloadend = this.$1;
      }
      var b = a.prototype;
      b.setOnLoadEndHandler = function (a) {
        var b = this;
        this.request.onloadend = function () {
          b.$1(), a(b.request.status);
        };
        return this;
      };
      b.setErrorHandler = function (a) {
        var b = this;
        this.request.onerror = function () {
          b.request.status === 500 &&
            d('MessengerDesktopPresenceInfo').createPresenceInfo(),
            a(b.request.status);
        };
        return this;
      };
      b.setTimeoutHandler = function (a) {
        this.request.ontimeout = a;
        return this;
      };
      b.send = function () {
        this.request.open('GET', this.uri), this.request.send();
      };
      return a;
    })();
    g['default'] = a;
  },
  98,
);
__d(
  'MessengerDesktopPromoFalcoEvent',
  ['FalcoLoggerInternal', 'getFalcoLogPolicy_DO_NOT_USE'],
  function (a, b, c, d, e, f) {
    'use strict';
    a = b('getFalcoLogPolicy_DO_NOT_USE')('1744027');
    c = b('FalcoLoggerInternal').create('messenger_desktop_promo', a);
    e.exports = c;
  },
  null,
);
__d(
  'MessengerDesktopPromoEventLogger',
  ['MessengerDesktopPromoFalcoEvent'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    a = function (a) {
      return c('MessengerDesktopPromoFalcoEvent').log(function () {
        return a;
      });
    };
    g.log = a;
  },
  98,
);
__d(
  'XMessengerDotComDesktopControllerRouteBuilder',
  ['jsRouteBuilder'],
  function (a, b, c, d, e, f, g) {
    a = c('jsRouteBuilder')(
      '/desktop/',
      Object.freeze({ start_download: !1, m: !1 }),
      new Set(['m']),
    );
    b = a;
    g['default'] = b;
  },
  98,
);
__d(
  'XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder',
  ['jsRouteBuilder'],
  function (a, b, c, d, e, f, g) {
    a = c('jsRouteBuilder')('/desktop/launch/', Object.freeze({}), void 0);
    b = a;
    g['default'] = b;
  },
  98,
);
__d(
  'MessengerDesktopDeepLinkUtils',
  [
    'fbt',
    'MessengerDesktopLocalServerRequest',
    'MessengerDesktopPresenceInfo',
    'MessengerDesktopPromoEventLogger',
    'ODS',
    'Promise',
    'UserAgent',
    'XMessengerDotComDesktopControllerRouteBuilder',
    'XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder',
    'gkx',
    'promiseDone',
    'qex',
    'react',
  ],
  function (a, b, c, d, e, f, g, h) {
    'use strict';
    var i = d('react'),
      j = i.useCallback,
      k = i.useEffect,
      l = i.useRef,
      m = i.useState,
      n = 'messenger',
      o = 3103,
      p = 1e3 * 60 * 60 * 24 * 28,
      q = 'https://www.messenger.com/desktop/';
    function a(a) {
      return n + '://room?joinurl=' + a;
    }
    function r(a) {
      return new (b('Promise'))(function (b) {
        new (c('MessengerDesktopLocalServerRequest'))('/ping', a)
          .setOnLoadEndHandler(function (a) {
            return b(a);
          })
          .setTimeoutHandler(function (a) {
            return b(!1);
          })
          .setErrorHandler(function (a) {
            return b(!1);
          })
          .send();
      });
    }
    function e() {
      var a = d('MessengerDesktopPresenceInfo').getPresenceInfo();
      return a == null ? !1 : Date.now() - a.lastActiveTimestamp <= p;
    }
    function s() {
      var a = c('gkx')('655'),
        b = c('gkx')('4716');
      if (b) {
        b = c('gkx')('4687');
        return a || b;
      } else return a;
    }
    function f() {
      if (c('gkx')('1987549') || !s()) return !1;
      switch (v()) {
        case 'Windows':
          return c('qex')._('167') === !0;
        case 'Mac':
          return c('gkx')('297');
        default:
          return !1;
      }
    }
    function t() {
      var a = m(!1),
        b = a[0];
      a = a[1];
      var e = m(!1),
        f = e[0],
        g = e[1];
      if (v() !== 'Windows') return !1;
      if (c('gkx')('1987549') || !s()) return !1;
      if (c('qex')._('167') !== !0) return !1;
      if (b) return f;
      d('ODS').bumpEntityKey(
        3303,
        'dapp_non_calling_entrypoints',
        'initiating_dapp_call',
      );
      a(!0);
      c('promiseDone')(
        r(o).then(function (a) {
          if (!a || a !== 200) {
            a ||
              d('ODS').bumpEntityKey(
                3303,
                'dapp_non_calling_entrypoints',
                'localhost_did_not_respond',
              );
            a === 500 &&
              d('ODS').bumpEntityKey(
                3303,
                'dapp_non_calling_entrypoints',
                'localhost_responded_but_crashed',
              );
            return;
          }
          g(!0);
        }),
      );
      return f;
    }
    var u = {
      openMessengerForDesktop: h._('__JHASH__XxNs-oGUpT___JHASH__'),
      openMessengerForMac: h._('__JHASH__tlUlAHzvu6R__JHASH__'),
      openMessengerForWindows: h._('__JHASH__3NgfF3NHofM__JHASH__'),
      tryMessengerForDesktop: h._('__JHASH___P6bnngRU_E__JHASH__'),
      tryMessengerForMac: h._('__JHASH__3Fm9-zbx5PN__JHASH__'),
      tryMessengerForWindows: h._('__JHASH__56Y2Um9FCTk__JHASH__'),
    };
    function v() {
      if (c('UserAgent').isPlatform('Windows')) return 'Windows';
      else if (c('UserAgent').isPlatform('Mac OS X')) return 'Mac';
      return 'Desktop';
    }
    function w(a) {
      return (a = c('XMessengerDotComDesktopControllerRouteBuilder')
        .buildUri({ funnel_session_id: a })
        .setDomain('www.messenger.com')) == null
        ? void 0
        : (a = a.setProtocol('https')) == null
        ? void 0
        : a.toString();
    }
    function x(a) {
      return (a = c(
        'XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder',
      )
        .buildUri(a)
        .setDomain('messenger.com')) == null
        ? void 0
        : (a = a.setProtocol('https')) == null
        ? void 0
        : a.toString();
    }
    function y() {
      var a = s() ? 'open' : 'try',
        b = v();
      return u[a + 'MessengerFor' + b];
    }
    function z(a) {
      var b;
      return s()
        ? (b = x(a)) != null
          ? b
          : q
        : (b = w(a.funnel_session_id)) != null
        ? b
        : q;
    }
    function A(a, b) {
      var c = l(!1);
      k(
        function () {
          c.current ||
            ((c.current = !0),
            d('MessengerDesktopPromoEventLogger').log({
              event: 'Impression',
              funnelSessionId: a,
              location: b,
            }));
        },
        [a, b],
      );
      return j(
        function () {
          d('MessengerDesktopPromoEventLogger').log({
            event: 'Click',
            funnelSessionId: a,
            location: b,
          });
        },
        [a, b],
      );
    }
    g.PORT = o;
    g.getRoomDeepLink = a;
    g.isMessengerDesktopRunning = r;
    g.isMessengerDesktopProbablyInstalled = e;
    g.isMessengerDesktopDeeplinkEligible = s;
    g.isMessengerDesktopDeeplinkEnabled = f;
    g.useMessengerDesktopWindowsDeeplinkSwitcher = t;
    g.getDeeplinkButtonLabel = y;
    g.getDeeplinkButtonURI = z;
    g.useMessengerDesktopPromoEventLogger = A;
  },
  98,
);
__d(
  'MWChatConfirmTabCloseDialog.bs',
  ['fbt'],
  function (a, b, c, d, e, f, g, h) {
    'use strict';
    a = {
      body: h._('__JHASH__BpxPpP9rp8f__JHASH__'),
      confirm: h._('__JHASH__CqytfJoYvSJ__JHASH__'),
      title: h._('__JHASH__56tk0437PKy__JHASH__'),
    };
    g.content = a;
  },
  98,
);
__d(
  'JSMap.bs',
  ['bs_belt_Option', 'bs_caml_option', 'bs_curry'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function a(a, b, d) {
      return c('bs_belt_Option').getExn(
        c('bs_caml_option').nullable_to_opt(
          (a.has(b) ? a : a.set(b, c('bs_curry')._1(d))).get(b),
        ),
      );
    }
    g.getOrMake = a;
  },
  98,
);
__d(
  'MWChatEphemeralMediaTemporarySeenState.bs',
  ['JSMap.bs', 'react'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react'),
      i = new Map();
    function a(a, b) {
      a = d('JSMap.bs').getOrMake(i, a, function (a) {
        return new Set();
      });
      a.add(b);
    }
    function b(a, b) {
      a = i.get(a);
      if (a == null) return !1;
      else return a.has(b);
    }
    function j(a) {
      i['delete'](a);
    }
    function c(a) {
      h.useEffect(
        function () {
          return function (b) {
            return j(a);
          };
        },
        [a],
      );
    }
    e = a;
    f = b;
    a = j;
    b = c;
    g.markSeenThisSession = e;
    g.isSeenThisSession = f;
    g.endSession = a;
    g.useEndSessionOnDismount = b;
  },
  98,
);
__d(
  'MWV2ComposerHasContentContext.bs',
  ['react'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react'),
      i = h.createContext({
        hasContentRef: void 0,
        shouldClearDraftMessageRef: void 0,
      });
    function a(a) {
      a = a.children;
      var b = h.useRef(!1),
        c = h.useRef(!1),
        d = h.useMemo(
          function () {
            return { hasContentRef: b, shouldClearDraftMessageRef: c };
          },
          [b, c],
        );
      return h.createElement(i.Provider, { children: a, value: d });
    }
    function b(a) {
      return h.useContext(i);
    }
    c = a;
    g.useContext = b;
    g.make = c;
  },
  98,
);
__d(
  'UseMWV2CloseTab.bs',
  [
    'MWChatConfirmTabCloseDialog.bs',
    'MWChatEphemeralMediaTemporarySeenState.bs',
    'MWChatStateActions.bs',
    'MWChatStateV2.bs',
    'MWV2ComposerHasContentContext.bs',
    'bs_curry',
    'bs_int64',
    'react',
    'useCometConfirmationDialog',
    'useReStore',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    function a(a, b) {
      var e = c('useReStore')(),
        f = d('MWChatStateV2.bs').useDispatch(),
        g = c('useCometConfirmationDialog')(),
        i = d('MWV2ComposerHasContentContext.bs').useContext(),
        j = i.shouldClearDraftMessageRef,
        k = i.hasContentRef;
      return h.useCallback(
        function (e) {
          var h = function (e) {
            a !== void 0 &&
              d('MWChatEphemeralMediaTemporarySeenState.bs').endSession(
                c('bs_int64').to_string(a.threadKey),
              );
            return c('bs_curry')._1(
              f,
              d('MWChatStateActions.bs').closeTab(Date.now(), b.tabId),
            );
          };
          if (a !== void 0 && k !== void 0 && k.current)
            return c('bs_curry')._3(
              g,
              d('MWChatConfirmTabCloseDialog.bs').content,
              function (a) {
                j !== void 0 && (j.current = !0);
                return h();
              },
              function (a) {
                if (j !== void 0) {
                  j.current = !1;
                  return;
                }
              },
            );
          else return h();
        },
        [a, b, e, f, g, k, j],
      );
    }
    b = a;
    g.useHook = b;
  },
  98,
);
__d(
  'MWChatFocusComposerContext.bs',
  ['react'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react'),
      i = h.createContext({
        focusComposer: void 0,
        setFocusComposer: function (a) {},
      });
    function a(a) {
      a = a.children;
      var b = h.useRef(),
        c = b.current,
        d = h.useMemo(
          function () {
            return {
              focusComposer: c,
              setFocusComposer: function (a) {
                b.current = a;
              },
            };
          },
          [c],
        );
      return h.createElement(i.Provider, { children: a, value: d });
    }
    b = a;
    g.context = i;
    g.provider = b;
  },
  98,
);
__d(
  'MercuryFilters.bs',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    var g = 'draft',
      h = 'folders',
      i = 'unread';
    function a(a) {
      return [i, g];
    }
    function b(a) {
      if (a === i || a === g) return !0;
      else return a === h;
    }
    c = 'all';
    d = 'groups';
    e = 'named';
    var j = 'unnamed',
      k = 'WORK_UNSYNCED_CHAT';
    f.all = c;
    f.draft = g;
    f.folders = h;
    f.unread = i;
    f.groups = d;
    f.named = e;
    f.unnamed = j;
    f.unsyncedChat = k;
    f.getSupportedFilters = a;
    f.isSupportedFilter = b;
  },
  null,
);
__d(
  'bs_js_json',
  ['bs_caml_option'],
  function (a, b, c, d, e, f) {
    'use strict';
    function a(a) {
      var b = typeof a;
      if (b === 'string') return { TAG: 0, _0: a };
      else if (b === 'number') return { TAG: 1, _0: a };
      else if (b === 'boolean')
        if (a === !0) return 1;
        else return 0;
      else if (a === null) return 2;
      else if (Array.isArray(a)) return { TAG: 3, _0: a };
      else return { TAG: 2, _0: a };
    }
    function c(a, b) {
      switch (b) {
        case 0:
          return typeof a === 'string';
        case 1:
          return typeof a === 'number';
        case 2:
          if (a !== null && typeof a === 'object') return !Array.isArray(a);
          else return !1;
        case 3:
          return Array.isArray(a);
        case 4:
          return typeof a === 'boolean';
        case 5:
          return a === null;
      }
    }
    function d(a) {
      if (typeof a === 'string') return a;
    }
    function e(a) {
      if (typeof a === 'number') return a;
    }
    function g(a) {
      if (typeof a === 'object' && !Array.isArray(a) && a !== null)
        return b('bs_caml_option').some(a);
    }
    function h(a) {
      if (Array.isArray(a)) return a;
    }
    function i(a) {
      if (typeof a === 'boolean') return a;
    }
    function j(a) {
      if (a === null) return null;
    }
    var k = function (a) {
      a = [a];
      var b = [{ kind: 0, i: 0, parent: a }];
      while (b.length !== 0) {
        var c = b[b.length - 1];
        c.kind === 0
          ? ((c.val = c.parent[c.i]), ++c.i === c.parent.length && b.pop())
          : b.pop();
        var d = c.val;
        if (typeof d === 'object')
          if (Array.isArray(d) && d.length !== 0)
            b.push({ kind: 0, i: 0, parent: d, val: void 0 });
          else
            for (var e in d) {
              if (e === 'RE_PRIVATE_NONE') {
                c.kind === 0
                  ? (c.parent[c.i - 1] = void 0)
                  : (c.parent[c.i] = void 0);
                continue;
              }
              b.push({ kind: 1, i: e, parent: d, val: d[e] });
            }
      }
      return a[0];
    };
    function l(a) {
      return (function (a) {
        a = JSON.stringify(a, function (a, b) {
          return b === void 0 ? { RE_PRIVATE_NONE: !0 } : b;
        });
        if (a === void 0) throw new TypeError('output is undefined');
        return a;
      })(a);
    }
    function m(a) {
      return k(JSON.parse(a));
    }
    f.classify = a;
    f.test = c;
    f.decodeString = d;
    f.decodeNumber = e;
    f.decodeObject = g;
    f.decodeArray = h;
    f.decodeBoolean = i;
    f.decodeNull = j;
    f.deserializeUnsafe = m;
    f.serializeExn = l;
  },
  null,
);
__d(
  'MWInboxURIState.bs',
  [
    'CometRouteParams',
    'CurrentEnvironment',
    'MAWGating',
    'MWCMIsAnyCMThread',
    'MercuryFilters.bs',
    'MercuryIDs',
    'MessengerURIConstants',
    'ReQL.bs',
    'ReQLSubscription.bs',
    'SortedAsyncIterable.bs',
    'URI',
    'bs_belt_Option',
    'bs_caml_exceptions',
    'bs_caml_format',
    'bs_caml_option',
    'bs_curry',
    'bs_js_json',
    'bs_js_null_undefined',
    'cr:3904',
    'cr:3905',
    'gkx',
    'qex',
    'react',
    'useCurrentRoute',
    'useGroupThreadViewParams',
    'useReStore',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    f = {};
    var i = c('bs_caml_exceptions').create('MWInboxURIState.NonMessengerState'),
      j = '/?$';
    function k(a) {
      a = a.match(
        new RegExp(c('MessengerURIConstants').THREAD_PREFIX + '([^/]+)/?$'),
      );
      return c('bs_belt_Option').map(
        a === null ? void 0 : c('bs_caml_option').some(a),
        function (a) {
          return decodeURIComponent(a[1]);
        },
      );
    }
    function l(a) {
      a = a.match(
        new RegExp(
          c('MessengerURIConstants').FOLDERS_PATH +
            ('/([^/]+)' +
              (c('MessengerURIConstants').THREAD_PREFIX + '([^/]+)/?$')),
        ),
      );
      return c('bs_belt_Option').map(
        a === null ? void 0 : c('bs_caml_option').some(a),
        function (a) {
          return decodeURIComponent(a[1]);
        },
      );
    }
    var m = c('qex')._('1507') === !0,
      n = c('CurrentEnvironment').instagramdotcom
        ? c('MessengerURIConstants').INSTAGRAM_DIRECT_PATH
        : c('CurrentEnvironment').facebookdotcom
        ? c('MessengerURIConstants').FACEBOOK_PREFIX
        : '';
    function o(a) {
      a = new (c('URI'))(a.url);
      var b = a.getPath();
      a = a.getQueryData();
      var e = c('gkx')('1300945'),
        f = new RegExp('^' + (n + '(/|$)')),
        g = c('bs_belt_Option').isSome(a.story_id);
      if (
        c('CurrentEnvironment').facebookdotcom &&
        !(f.test(b) || (e && b === '/' && !g))
      )
        throw { Error: new Error(), RE_EXN_ID: i };
      e = b.replace(f, '/');
      g = a.filter;
      b = a.fbid;
      f = a.qa;
      var h = a.sa,
        o = a.t,
        p = a.threadIDs;
      a = a.id;
      try {
        p = c('bs_belt_Option').map(p, function (a) {
          return JSON.parse(a);
        });
        p !== void 0 &&
          c('bs_belt_Option').map(
            c('bs_js_json').decodeArray(c('bs_caml_option').valFromOption(p)),
            function (a) {
              return a.reduce(function (a, b) {
                b = c('bs_js_json').decodeString(b);
                if (
                  d('MercuryIDs').isValidThreadID(
                    c('bs_js_null_undefined').fromOption(
                      c('bs_belt_Option').map(b, function (a) {
                        return a;
                      }),
                    ),
                  )
                )
                  return a.concat([b]);
                else return a;
              }, []);
            },
          );
      } catch (a) {}
      if (
        c('bs_belt_Option').isSome(
          c('bs_caml_option').null_to_opt(
            e.match(new RegExp('^' + c('MessengerURIConstants').PEOPLE_PATH)),
          ),
        )
      )
        p = { _0: void 0, TAG: 1 };
      else if (
        c('bs_belt_Option').isSome(
          c('bs_caml_option').null_to_opt(
            e.match(new RegExp('^' + c('MessengerURIConstants').PAYMENT_PATH)),
          ),
        )
      )
        p = { _0: void 0, TAG: 2 };
      else if (
        c('bs_belt_Option').isSome(
          c('bs_caml_option').null_to_opt(
            e.match(new RegExp('^' + c('MessengerURIConstants').SEARCH_PATH)),
          ),
        )
      )
        if (m)
          if (f !== void 0) p = { _0: void 0, TAG: 4 };
          else if (h !== void 0 && o !== void 0) {
            f = c('bs_caml_option').valFromOption(o);
            p =
              f === 'friend' || f === 'non_friend'
                ? { _0: void 0, TAG: 5 }
                : f === 'page'
                ? { _0: void 0, TAG: 6 }
                : f === 'thread'
                ? { _0: void 0, TAG: 7 }
                : { _0: void 0, TAG: 3 };
          } else p = { _0: void 0, TAG: 3 };
        else p = { _0: void 0, TAG: 3 };
      else if (
        c('bs_belt_Option').isSome(
          c('bs_caml_option').null_to_opt(
            e.match(
              new RegExp('^' + c('MessengerURIConstants').TEAMWORK_GROUP_VIEW),
            ),
          ),
        )
      )
        p = { _0: void 0, TAG: 7 };
      else if (
        c('bs_belt_Option').isSome(
          c('bs_caml_option').null_to_opt(
            e.match(
              new RegExp('^' + c('MessengerURIConstants').TEAMWORK_CHAT_VIEW),
            ),
          ),
        )
      )
        p = { _0: void 0, TAG: 5 };
      else if (
        c('bs_belt_Option').isSome(
          c('bs_caml_option').null_to_opt(
            e.match(
              new RegExp('^' + c('MessengerURIConstants').TEAMWORK_UNREAD_VIEW),
            ),
          ),
        )
      )
        p = { _0: void 0, TAG: 8 };
      else if (
        c('bs_belt_Option').isSome(
          c('bs_caml_option').null_to_opt(
            e.match(
              new RegExp(
                '^' +
                  c('MessengerURIConstants').TEAMWORK_ANNOUNCEMENT_GROUP_VIEW,
              ),
            ),
          ),
        )
      )
        p = { _0: void 0, TAG: 9 };
      else if (e === '/read/')
        p = {
          _0:
            b !== void 0
              ? { _0: c('bs_caml_format').caml_int64_of_string(b), TAG: 3 }
              : void 0,
          TAG: 10,
        };
      else {
        if (
          c('bs_belt_Option').isSome(
            c('bs_caml_option').null_to_opt(
              e.match(
                new RegExp(
                  '^' + (c('MessengerURIConstants').COMPOSE_SUBPATH + j),
                ),
              ),
            ),
          )
        )
          h = [{ _0: 'E2EEToggleOff', TAG: 0 }, void 0, void 0];
        else if (
          c('bs_belt_Option').isSome(
            c('bs_caml_option').null_to_opt(
              e.match(
                new RegExp(
                  '^' +
                    (c('MessengerURIConstants').PAYMENT_PATH +
                      c('MessengerURIConstants').PAYMENT_PAY_PATH),
                ),
              ),
            ),
          )
        )
          h =
            a !== void 0
              ? [{ _0: void 0, TAG: 1 }, a, void 0]
              : [{ _0: void 0, TAG: 2 }, void 0, void 0];
        else {
          o = k(e);
          try {
            f = c('bs_belt_Option').map(
              o,
              c('bs_caml_format').caml_int64_of_string,
            );
          } catch (a) {
            f = void 0;
          }
          b = f !== void 0 ? [{ _0: f, TAG: 3 }, o] : [void 0, void 0];
          a = l(e);
          h = [b[0], b[1], a];
        }
        p = { _0: h[0], TAG: 10 };
      }
      c('bs_belt_Option').isSome(
        c('bs_caml_option').null_to_opt(
          e.match(
            new RegExp('^' + c('MessengerURIConstants').FILTERED_REQUESTS_PATH),
          ),
        ),
      ) ||
        c('bs_belt_Option').isSome(
          c('bs_caml_option').null_to_opt(
            e.match(new RegExp('^' + c('MessengerURIConstants').ARCHIVED_PATH)),
          ),
        ) ||
        c('bs_belt_Option').isSome(
          c('bs_caml_option').null_to_opt(
            e.match(
              new RegExp(
                '^' + c('MessengerURIConstants').MESSAGE_REQUESTS_PATH,
              ),
            ),
          ),
        ) ||
        c('bs_belt_Option').isSome(
          c('bs_caml_option').null_to_opt(
            e.match(new RegExp('^' + c('MessengerURIConstants').FOLDERS_PATH)),
          ),
        );
      c('bs_belt_Option').mapWithDefault(
        g,
        !1,
        d('MercuryFilters.bs').isSupportedFilter,
      ) && c('bs_belt_Option').getExn(g);
      return p;
    }
    var p =
      b('cr:3904') == null ? void 0 : c('bs_caml_option').some(b('cr:3904'));
    function q(a) {
      if (!(b('cr:3905') == null) && !d('MAWGating').isOccamadillo())
        return c('bs_curry')._1(b('cr:3905').isThreadId, a);
      else return !1;
    }
    var r = c('gkx')('1950') || c('gkx')('6975');
    function s(a) {
      if (a !== void 0 && c('MWCMIsAnyCMThread')(a.threadType)) return !0;
      else return !1;
    }
    function t(a) {
      var b = c('useReStore')();
      return d('ReQLSubscription.bs').useFirst(
        h.useMemo(
          function () {
            return c('bs_belt_Option').mapWithDefault(
              a,
              d('SortedAsyncIterable.bs').empty(),
              function (a) {
                return d('ReQL.bs').getKeyRange(
                  d('ReQL.bs').fromTableAscending(b.table('threads')),
                  { hd: a, tl: 0 },
                );
              },
            );
          },
          [b, JSON.stringify(a)],
        ),
      );
    }
    function a(a) {
      return new (c('URI'))(a.substring(n.length)).getPath().split('/');
    }
    function e(a) {
      a = a == null ? void 0 : c('bs_caml_option').some(a);
      var e = c('useCurrentRoute')(),
        f = c('useGroupThreadViewParams')();
      try {
        a = c('bs_belt_Option').map(
          a,
          c('bs_caml_format').caml_int64_of_string,
        );
      } catch (b) {
        a = void 0;
      }
      var g = t(a);
      if (!(f == null))
        return {
          _0: {
            _0: c('bs_caml_format').caml_int64_of_string(f.threadKey),
            TAG: 3,
          },
          TAG: 10,
        };
      if (e == null) return { _0: void 0, TAG: 0 };
      f = new (c('URI'))(e.url).getPath();
      if (
        !f.startsWith(n) &&
        !f.startsWith(c('MessengerURIConstants').GROUPS_PATH)
      )
        throw { Error: new Error(), RE_EXN_ID: i };
      f = e.url.substring(n.length);
      var h;
      if (b('cr:3904') == null) h = void 0;
      else {
        var j = c('bs_curry')._1(p.getMostRecentSecureThreadKey);
        h = j !== void 0 ? j : void 0;
      }
      j = d('CometRouteParams').useRouteParams();
      j =
        j.initial_e2ee_toggle_position === '1' ||
        j.initial_e2ee_toggle_position === 1 ||
        j.initial_e2ee_toggle_position === !0
          ? 'E2EEToggleOn'
          : 'E2EEToggleOff';
      f = new (c('URI'))(f).getPath().split('/');
      var k;
      if (a !== void 0) {
        var l;
        if (f.length !== 4) l = 2;
        else {
          var m = f[0];
          if (m === '') {
            m = f[1];
            if (m === 'e2ee') {
              m = f[2];
              if (m === 't' && h === void 0) {
                if (d('MAWGating').isOccamadillo())
                  return { _0: { _0: a, TAG: 4 }, TAG: 10 };
                l = 2;
              } else l = 2;
            } else l = 2;
          } else l = 2;
        }
        if (l === 2) {
          if (q(a)) return o(e);
          m = s(g);
          if (m && !r) return { _0: void 0, TAG: 0 };
          else return { _0: { _0: a, TAG: 3 }, TAG: 10 };
        }
      } else {
        l = f.length;
        if (l >= 4) return o(e);
        switch (l) {
          case 0:
            return o(e);
          case 1:
            g = f[0];
            if (g !== '') return o(e);
            if (h === void 0) return o(e);
            k = h;
            break;
          case 2:
            m = f[0];
            a = f[1];
            switch (a) {
              case '':
                if (h === void 0) return o(e);
                k = h;
                break;
              case 'new':
                return { _0: { _0: j, TAG: 0 }, TAG: 10 };
              default:
                if (m !== '') return o(e);
                l = f[1];
                if (l !== 't') return o(e);
                if (h === void 0) return o(e);
                k = h;
            }
            break;
          case 3:
            g = f[1];
            if (g !== 't') return o(e);
            a = f[2];
            if (a === '') return o(e);
            try {
              j = c('bs_caml_format').caml_int64_of_string(a);
            } catch (a) {
              j = void 0;
            }
            if (j !== void 0 && !q(j))
              return { _0: { _0: j, TAG: 3 }, TAG: 10 };
            else return { _0: void 0, TAG: 0 };
        }
      }
      return {
        _0: { _0: c('bs_caml_format').caml_int64_of_string(k), TAG: 4 },
        TAG: 10,
      };
    }
    var u = l,
      v = m,
      w = n,
      x = o,
      y = t;
    a = a;
    e = e;
    g.$MAWSessionStorage$requireCondXplat = b('cr:3904');
    g.$MAWThreadId$requireCondXplat = b('cr:3905');
    g.MessagingTag = f;
    g.NonMessengerState = i;
    g._getFolderID = u;
    g.isSearchRefactor = v;
    g.prefix = w;
    g.parseURI_DEPRECATED = x;
    g.useThread = y;
    g.getRouteTokens = a;
    g.useState = e;
  },
  98,
);
__d(
  'MWInboxProvider.bs',
  ['MWInboxURIState.bs', 'react'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react'),
      i = h.createContext();
    function a(a) {
      var b = a.children;
      a = a.threadKey;
      a = d('MWInboxURIState.bs').useState(a);
      return h.jsx(i.Provider, { value: a, children: b });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    g.MWInboxProviderContext = i;
    g.MWInboxProvider = a;
  },
  98,
);
__d(
  'MWInboxPassiveContext.bs',
  ['MWInboxProvider.bs', 'bs_int64', 'emptyFunction', 'react'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    e = d('react');
    var i = e.useContext,
      j = e.useEffect,
      k = e.useMemo;
    e = { isPassive: !1, setIsPassive: c('emptyFunction') };
    var l = h.createContext(e);
    function a(a) {
      var b = a.children,
        e = a.isPassive,
        f = a.setIsPassive;
      a = i(d('MWInboxProvider.bs').MWInboxProviderContext);
      if ((a == null ? void 0 : a.TAG) === 10) {
        a = a._0;
        a = a !== void 0 && a.TAG === 3 ? c('bs_int64').to_string(a._0) : '';
      } else a = '';
      j(
        function () {
          f(!1);
        },
        [f, a],
      );
      a = k(
        function () {
          return { isPassive: e, setIsPassive: f };
        },
        [e, f],
      );
      return h.jsx(l.Provider, { value: a, children: b });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    function b() {
      return i(l);
    }
    g.MWInboxPassiveContextProvider = a;
    g.useMWInboxPassiveContext = b;
  },
  98,
);
__d(
  'MWChatTabFocusHandler.bs',
  [
    'CometHideLayerOnEscape.react',
    'FocusWithinHandler.react',
    'MWChatFocusComposerContext.bs',
    'MWInboxPassiveContext.bs',
    'bs_caml_js_exceptions',
    'bs_caml_option',
    'bs_js_exn',
    'gkx',
    'react',
    'stylex',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react'),
      i = {
        root: { height: 'x5yr21d', ':focus_outline': 'x1uvtmcs', $$css: !0 },
      };
    function j(a) {
      try {
        return (
          document.activeElement.getAttribute('data-release-focus-from') ===
          'CLICK'
        );
      } catch (b) {
        a = c('bs_caml_js_exceptions').internalToOCamlException(b);
        if (a.RE_EXN_ID === c('bs_js_exn').$$Error) return !1;
        throw a;
      }
    }
    function a(a) {
      var b = a.onEscape,
        e = a.onFocus,
        f = a.onBlur,
        g = a.xstyle;
      a = a.children;
      b = b !== void 0 ? b : function (a) {};
      var k = e !== void 0 ? e : function (a) {},
        l = f !== void 0 ? f : function (a) {};
      e = g !== void 0 ? c('bs_caml_option').valFromOption(g) : !1;
      var m = h.useRef(null);
      f = d('MWInboxPassiveContext.bs').useMWInboxPassiveContext();
      var n = f.setIsPassive;
      g = h.useContext(d('MWChatFocusComposerContext.bs').context);
      var o = g.focusComposer;
      f = h.useCallback(
        function (a) {
          a = m.current;
          if (
            a != null &&
            o !== void 0 &&
            window.getSelection().toString() === '' &&
            (a === document.activeElement || j())
          )
            return o();
        },
        [m, o],
      );
      return h.jsx(c('FocusWithinHandler.react'), {
        onBlurWithin: function () {
          return l();
        },
        onFocusWithin: function (a) {
          a.target.getAttribute('data-prevent_chattab_focus') == null && k();
          var b = m.current;
          b != null && o !== void 0 && b === a.target && o();
          if (c('gkx')('6531')) return n(!1);
        },
        children: h.jsx(c('CometHideLayerOnEscape.react'), {
          onHide: b,
          children: h.jsx('div', {
            className: c('stylex')(i.root, e),
            onClick: f,
            ref: m,
            tabIndex: -1,
            children: a,
          }),
        }),
      });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    b = a;
    g.getShouldTakeFocusFromActiveElement = j;
    g.make = b;
  },
  98,
);
__d(
  'useMWChatEncryptedBackupsUpsellChatTabsDeferred',
  ['cr:1474', 'react'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    d('react');
    function a() {
      var a;
      return (a = b('cr:1474')()) != null ? a : null;
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    g['default'] = a;
  },
  98,
);
__d(
  'MWChatEncryptedBackupsUpsellChatTabs.bs',
  ['useMWChatEncryptedBackupsUpsellChatTabsDeferred'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function a(a) {
      return c('useMWChatEncryptedBackupsUpsellChatTabsDeferred')();
    }
    g.useHook = a;
  },
  98,
);
__d(
  'MWInboxPersistedUIState',
  ['FBLogger', 'WebStorage', 'react'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    b = d('react');
    var h = b.useCallback,
      i = b.useRef,
      j = b.useSyncExternalStore,
      k = new Map(),
      l = new Map();
    function m(a) {
      (a = k.get(a)) == null
        ? void 0
        : a.forEach(function (a) {
            return a();
          });
    }
    function a(a, b) {
      var d = i(a).current,
        e = i({ parsed: d, stringified: void 0 });
      a = h(
        function (a) {
          var c = k.get(b),
            d = c != null ? c : new Set();
          d.add(a);
          k.set(b, d);
          return function () {
            d['delete'](a);
          };
        },
        [b],
      );
      var f = h(
        function () {
          var a = c('WebStorage').getLocalStorageForRead();
          a = a == null ? l.get(b) : a.getItem(b);
          if (a == null) return d;
          if (a === e.current.stringified) return e.current.parsed;
          try {
            var f = JSON.parse(a);
            e.current = { parsed: f, stringified: a };
            return f;
          } catch (a) {
            return d;
          }
        },
        [d, b],
      );
      a = j(a, f);
      f = h(
        function (a) {
          a = a instanceof Function ? a(e.current.parsed) : a;
          var d = c('WebStorage').getLocalStorage();
          a = JSON.stringify(a);
          if (d != null)
            if (a === void 0) d.removeItem(b);
            else
              try {
                d.setItem(b, a);
              } catch (a) {
                c('FBLogger')('messenger_web_product')
                  .catching(a)
                  .mustfix('Failed to setItem');
              }
          else l.set(b, a);
          m(b);
        },
        [b],
      );
      return [a, f];
    }
    g.usePersistedUIState = a;
  },
  98,
);
__d(
  'usePublicChatShortlinkCallback',
  [
    'ConstUriUtils',
    'I64',
    'JSResourceForInteraction',
    'LS.re',
    'LSOptimisticFetchPendingGroupInvite',
    'ReQL',
    'react',
    'useCometLazyDialog',
    'useReStore',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    b = d('react');
    var h = b.useCallback,
      i = b.useEffect,
      j = b.useRef,
      k = c('JSResourceForInteraction')(
        'MWJoinPublicChatDialog.react',
      ).__setRef('usePublicChatShortlinkCallback');
    function l(a) {
      a = d('ConstUriUtils').getUri(a);
      if (a == null ? void 0 : a.isSubdomainOfDomain('m.me')) {
        a =
          a == null
            ? void 0
            : (a = a.getPath()) == null
            ? void 0
            : a.split('/').filter(function (a) {
                return a !== '';
              });
        return (a == null ? void 0 : a.length) === 2 && a[0] === 'j'
          ? a[1]
          : null;
      }
      return null;
    }
    function a(a) {
      var b = a.onSuccess,
        e = j(!1),
        f = j(),
        g = j(),
        m = c('useReStore')();
      a = c('useCometLazyDialog')(k);
      var n = a[0];
      i(function () {
        return function () {
          f.current == null ? void 0 : f.current(),
            g.current == null ? void 0 : g.current();
        };
      }, []);
      return h(
        function (a) {
          var h = l(a);
          h != null &&
            (m.runInTransaction(function (a) {
              return c('LSOptimisticFetchPendingGroupInvite')(
                h,
                void 0,
                void 0,
                d('LS.re').make(a),
              );
            }, 'readwrite'),
            (f.current = d('ReQL')
              .fromTableAscending(m.table('group_invitations_pending'))
              .getKeyRange(h)
              .subscribe(function (a, c) {
                if (c.operation !== 'delete') {
                  var i = c.value;
                  if (
                    (i == null ? void 0 : i.isSubscribed) &&
                    (i == null ? void 0 : i.threadId) != null
                  ) {
                    b == null ? void 0 : b(d('I64').to_string(i.threadId));
                    return;
                  }
                  (i == null ? void 0 : i.threadTitle.length) > 0 &&
                    !e.current &&
                    ((e.current = !0),
                    n({ linkHash: h }, function () {
                      e.current = !1;
                    }),
                    f.current == null ? void 0 : f.current(),
                    Boolean(i.needsAdminApprovalForNewParticipant) ||
                      (g.current = d('ReQL')
                        .fromTableAscending(m.table('threads'))
                        .subscribe(function (a, c) {
                          c.operation !== 'delete' &&
                            c.value.threadName === i.threadTitle &&
                            (b == null
                              ? void 0
                              : b(d('I64').to_string(c.value.threadKey)),
                            g.current == null ? void 0 : g.current());
                        })));
                }
              })));
        },
        [m, n, b],
      );
    }
    g['default'] = a;
  },
  98,
);
__d(
  'MWThreadKey.bs',
  ['bs_int64', 'react', 'unrecoverableViolation'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react'),
      i = h.createContext();
    function a(a) {
      var b = a.children,
        d = a.id;
      a = c('bs_int64').to_string(d);
      var e = h.useMemo(
          function () {
            return d;
          },
          [a],
        ),
        f = h.useContext(i);
      if (f !== void 0)
        return c('unrecoverableViolation')(
          "You can't nest MWThreadKey in another MWThreadKey. This will cause SEVs as things might think they're in the wrong thread",
          'messenger_web_product',
        );
      else return h.jsx(i.Provider, { children: b, value: e }, a);
    }
    function b(a) {
      return h.useContext(i);
    }
    function e(a) {
      a = h.useContext(i);
      if (a !== void 0) return a;
      else
        return c('unrecoverableViolation')(
          'Tried to get a thread key when there was none',
          'messenger_web_product',
        );
    }
    f = a;
    g.useIdMemoized = b;
    g.useIdMemoizedExn = e;
    g.make = f;
  },
  98,
);
__d(
  'MWLSMarkThreadAsRead.bs',
  [
    'LS.bs',
    'LSOptimisticMarkThreadReadV2',
    'MWInboxPassiveContext.bs',
    'MWThreadKey.bs',
    'ReQL.bs',
    'ServerTime',
    'bs_caml_int64',
    'bs_caml_obj',
    'gkx',
    'promiseDone',
    'react',
    'useReStore',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    function a(a) {
      var b = c('useReStore')(),
        e = d('MWThreadKey.bs').useIdMemoizedExn();
      a = d('MWInboxPassiveContext.bs').useMWInboxPassiveContext();
      var f = a.setIsPassive;
      return h.useCallback(
        function (a) {
          c('gkx')('6531') && f(!1),
            c('promiseDone')(
              b.runInTransaction(function (a) {
                return d('ReQL.bs')
                  .first(
                    d('ReQL.bs').getKeyRange(
                      d('ReQL.bs').fromTableAscending(b.table('threads')),
                      { hd: e, tl: 0 },
                    ),
                  )
                  .then(function (b) {
                    b =
                      b !== void 0
                        ? [
                            b.lastActivityTimestampMs,
                            b.lastReadWatermarkTimestampMs,
                          ]
                        : [void 0, void 0];
                    if (c('bs_caml_obj').caml_greaterthan(b[0], b[1]))
                      return c('LSOptimisticMarkThreadReadV2')(
                        e,
                        c('bs_caml_int64').of_float(
                          d('ServerTime').getMillis(),
                        ),
                        d('LS.bs').make(a),
                      );
                    else return window.Promise.resolve();
                  });
              }, 'readwrite'),
            );
        },
        [e, b],
      );
    }
    g.useHook = a;
  },
  98,
);
__d(
  'MWLSThread.bs',
  ['ReQL.bs', 'ReQLSubscription.bs', 'react', 'useReStore'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    function a(a) {
      var b = c('useReStore')();
      return d('ReQLSubscription.bs').useFirst(
        h.useMemo(
          function () {
            return d('ReQL.bs').getKeyRange(
              d('ReQL.bs').fromTableAscending(b.table('threads')),
              { hd: a, tl: 0 },
            );
          },
          [b, JSON.stringify(a)],
        ),
      );
    }
    function b(a) {
      var b = c('useReStore')();
      return d('ReQLSubscription.bs').useFirstExn(
        h.useMemo(
          function () {
            return d('ReQL.bs').getKeyRange(
              d('ReQL.bs').fromTableAscending(b.table('threads')),
              { hd: a, tl: 0 },
            );
          },
          [b, JSON.stringify(a)],
        ),
      );
    }
    e = a;
    f = b;
    g.useThread = e;
    g.useThreadExn = f;
  },
  98,
);
__d(
  'MessengerMuteUtils.bs',
  ['fbt', 'DateStrings', 'MWCMThreadTypes.bs', 'bs_caml_int64', 'formatDate'],
  function (a, b, c, d, e, f, g, h) {
    'use strict';
    function a(a) {
      if (a <= 0)
        if (a === -1) return h._('__JHASH__Qqz4BaNxhpZ__JHASH__');
        else return;
      if (a < 86401) return;
      var b = new Date(a * 1e3).getDay(),
        e = b === new Date().getDay(),
        f = b === new Date().getDay() + 1;
      if (f)
        return h._('__JHASH__oudW1xi6NTV__JHASH__', [
          h._param('time', c('formatDate')(a, 'g:ia')),
        ]);
      else if (e)
        return h._('__JHASH__so9VkYDJtTA__JHASH__', [
          h._param('time', c('formatDate')(a, 'g:ia')),
        ]);
      else
        return h._('__JHASH__8p1YQCn8sSf__JHASH__', [
          h._param('time', c('formatDate')(a, 'g:ia')),
          h._param('weekday name', d('DateStrings').getWeekdayName(b)),
        ]);
    }
    function b(a) {
      if (a) return h._('__JHASH__vpk4cwy2c0D__JHASH__');
      else return h._('__JHASH__eAj1-l7LtAU__JHASH__');
    }
    var i = h._('__JHASH__mE99UrtEjlr__JHASH__'),
      j = h._('__JHASH__UKvmKpgy_Wn__JHASH__');
    function e(a, b) {
      if (a === void 0) return h._('__JHASH__f_P00nfKfsd__JHASH__');
      switch (a.TAG) {
        case 0:
          return h._('__JHASH__wGzDdDLdmM0__JHASH__');
        case 1:
          return h._('__JHASH__aevOqU7QNLm__JHASH__');
        case 2:
          return h._('__JHASH__e9DezvV_scv__JHASH__');
      }
    }
    function f(a) {
      var b = a.muteCallsExpireTimeMs,
        e = a.muteExpireTimeMs;
      if (d('MWCMThreadTypes.bs').isUnjoinedCMThread(a.threadType)) return 0;
      a = Math.min(
        c('bs_caml_int64').to_float(e),
        c('bs_caml_int64').to_float(b),
      );
      e = Math.max(
        c('bs_caml_int64').to_float(e),
        c('bs_caml_int64').to_float(b),
      );
      if (a === -1) return -1;
      else return e;
    }
    var k = 0,
      l = -1;
    a = a;
    b = b;
    i = i;
    j = j;
    e = e;
    k = k;
    l = l;
    f = f;
    g.mutedUntilLabel = a;
    g.muteActionLabel = b;
    g.chatNotificationActionLabel = i;
    g.manageNotificationsMenuItemLabel = j;
    g.muteDialogTitle = e;
    g.unmutedMs = k;
    g.mutedPermanentlyMs = l;
    g.calcMuteUntilMs = f;
  },
  98,
);
__d(
  'LSRtcCallState.bs',
  ['bs_caml_int64'],
  function (a, b, c, d, e, f) {
    'use strict';
    a = b('bs_caml_int64').zero;
    c = b('bs_caml_int64').one;
    d = [0, 2];
    e = [0, 3];
    b = [0, 4];
    f.noOngoingCall = a;
    f.audioGroupCall = c;
    f.videoGroupCall = d;
    f.video1to1Call = e;
    f.audio1to1Call = b;
  },
  null,
);
__d(
  'RTCCallState.bs',
  [
    'LSRtcCallState.bs',
    'MessagingThreadType.bs',
    'bs_caml',
    'bs_int64',
    'recoverableViolation',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function h(a) {
      if (a === d('MessagingThreadType.bs').group) return !0;
      else return a === d('MessagingThreadType.bs').tincanGroupDisappearing;
    }
    function a(a, b) {
      if (c('bs_caml').i64_eq(a, d('LSRtcCallState.bs').noOngoingCall))
        return 'NO_ONGOING_CALL';
      else if (c('bs_caml').i64_eq(a, d('LSRtcCallState.bs').audioGroupCall))
        if (h(b)) return 'AUDIO_GROUP_CALL';
        else return 'AUDIO_1TO1_CALL';
      else if (c('bs_caml').i64_eq(a, d('LSRtcCallState.bs').videoGroupCall))
        if (h(b)) return 'VIDEO_GROUP_CALL';
        else return 'VIDEO_1TO1_CALL';
      else {
        c('recoverableViolation')(
          'Unknown RTCCallState: ' +
            (c('bs_int64').to_string(a) +
              ('L and threadType combination: ' +
                (c('bs_int64').to_string(b) + 'L'))),
          'messenger_web_product',
        );
        return 'NO_ONGOING_CALL';
      }
    }
    g.ofLsRtcCallState = a;
  },
  98,
);
__d(
  'MWV2HeaderCloseButton.bs',
  [
    'fbt',
    'CometPressable.react',
    'MWTooltip.react',
    'bs_caml_option',
    'react',
    'useSetAttributeRef',
  ],
  function (a, b, c, d, e, f, g, h) {
    'use strict';
    var i = d('react'),
      j = h._('__JHASH__h_m7dC6Kxvx__JHASH__');
    function a(a) {
      var b = a.label,
        d = a.color,
        e = a.onPress;
      a = a.testid;
      b = b !== void 0 ? b : j;
      var f = c('useSetAttributeRef')('data-prevent_chattab_focus', '1');
      d = {
        'aria-label': b,
        children: i.jsx('svg', {
          className: 'xvijh9v xhhsvwb x1ty9z65 xgzva0m',
          height: '24px',
          viewBox: '0 0 24 24',
          width: '24px',
          children: i.jsxs('g', {
            stroke: d,
            strokeLinecap: 'round',
            strokeWidth: '2',
            children: [
              i.jsx('line', { x1: '6', x2: '18', y1: '6', y2: '18' }),
              i.jsx('line', { x1: '6', x2: '18', y1: '18', y2: '6' }),
            ],
          }),
        }),
        onPress: e,
        overlayRadius: '50%',
        ref: f,
      };
      a !== void 0 && (d.testid = c('bs_caml_option').valFromOption(a));
      return i.jsx(c('MWTooltip.react'), {
        align: 'middle',
        position: 'above',
        tooltip: b,
        children: i.jsx(
          c('CometPressable.react'),
          babelHelpers['extends']({}, d),
        ),
      });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    b = a;
    e = j;
    d = b;
    g.defaultLabel = e;
    g.make = d;
  },
  98,
);
__d(
  'MWV2HeaderContainer.bs',
  ['MDSRow.react', 'bs_caml_option', 'react', 'stylex'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react'),
      i = {
        divider: { boxShadow: 'x7m3og9', $$css: !0 },
        root: {
          alignItems: 'x6s0dn4',
          backgroundColor: 'xcrg951',
          borderTopEndRadius: 'xgqcy7u',
          borderTopStartRadius: 'x1lq5wgf',
          display: 'x78zum5',
          flexShrink: 'x2lah0s',
          height: 'x10w6t97',
          justifyContent: 'x1qughib',
          overflowX: 'x6ikm8r',
          overflowY: 'x10wlt62',
          paddingTop: 'x1y1aw1k',
          paddingEnd: 'x1sxyh0',
          paddingBottom: 'xwib8y2',
          paddingStart: 'xurb0ha',
          position: 'x1n2onr6',
          zIndex: 'xhtitgo',
          $$css: !0,
        },
      };
    function a(a) {
      var b = a.startContent,
        d = a.endContent,
        e = a.backgroundColor;
      a = a.divider;
      b = b !== void 0 ? c('bs_caml_option').valFromOption(b) : null;
      d = d !== void 0 ? c('bs_caml_option').valFromOption(d) : null;
      a = a !== void 0 ? a : !0;
      var f = {};
      e !== void 0 && (f.backgroundColor = e);
      return h.jsxs('div', {
        className: c('stylex')(i.root, a ? i.divider : !1),
        style: f,
        children: [
          h.jsx(c('MDSRow.react'), {
            expanding: !0,
            paddingHorizontal: 0,
            paddingVertical: 0,
            verticalAlign: 'center',
            children: b,
          }),
          d,
        ],
      });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    b = a;
    g.make = b;
  },
  98,
);
__d(
  'MWV2IsTabFocusedContext.bs',
  ['react'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react'),
      i = h.createContext(!1);
    function a(a) {
      var b = a.children;
      a = a.isFocused;
      return h.createElement(i.Provider, { children: b, value: a });
    }
    function b(a) {
      return h.useContext(i);
    }
    c = a;
    g.useContext = b;
    g.make = c;
  },
  98,
);
__d(
  'MWV2TabContainer.bs',
  [
    'MWChatFocusComposerContext.bs',
    'MWChatStateActions.bs',
    'MWChatStateV2.bs',
    'MWChatTabFocusHandler.bs',
    'UseMWV2CloseTab.bs',
    'bs_curry',
    'cr:3425',
    'react',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    function a(a) {
      var e = a.ariaBusy,
        f = a.ariaLabel,
        g = a.children,
        i = a.domRef,
        j = a.style,
        k = a.tab,
        l = a.tabIndex,
        m = a.thread;
      a = a.isFixedHeight;
      a = a !== void 0 ? a : !1;
      var n = d('MWChatStateV2.bs').useDispatch(),
        o = d('UseMWV2CloseTab.bs').useHook(m, k);
      h.useEffect(function () {
        b('cr:3425') == null ||
          c('bs_curry')._1(b('cr:3425').markMessegnerIsActiveOnFacebook);
      }, []);
      return h.jsx(d('MWChatFocusComposerContext.bs').provider, {
        children: h.jsx(d('MWChatTabFocusHandler.bs').make, {
          onBlur: function (a) {
            return c('bs_curry')._1(n, d('MWChatStateActions.bs').blurTab());
          },
          onEscape: function (a) {
            return c('bs_curry')._1(o);
          },
          onFocus: function (a) {
            return c('bs_curry')._1(
              n,
              d('MWChatStateActions.bs').focusTab(k.tabId),
            );
          },
          children: h.jsx('div', {
            'aria-busy': e,
            'aria-label': f,
            className:
              'xcrg951 xgqcy7u x1lq5wgf x2c8kfy x78zum5 xdt5ytf x6prxxf xvq8zen x17adc0v xcn1v36 xi55695' +
              (a ? ' xt7dq6l' : ' x1rgmuzj xbbk1sx'),
            'data-testid': void 0,
            ref: i,
            style: j,
            tabIndex: l,
            children: g,
          }),
        }),
      });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    e = a;
    f = e;
    g.$MAWMessengerStatusOnFacebookEventEmitter$requireCond = b('cr:3425');
    g.make = f;
  },
  98,
);
__d(
  'MWPThreadIsPage.bs',
  [
    'LSContactType.bs',
    'MWPActor.bs',
    'ReQL.bs',
    'ReQLSuspense',
    'bs_caml',
    'bs_caml_option',
    'react',
    'recoverableViolation',
    'useReStore',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react'),
      i = h.createContext();
    function a(a) {
      var b = a.children,
        e = a.threadKey,
        f = c('useReStore')(),
        g = d('MWPActor.bs').useActor();
      a = d('ReQLSuspense').useFirst(
        function () {
          return d('ReQL.bs').map(
            d('ReQL.bs').filter(
              d('ReQL.bs').getKeyRange(
                d('ReQL.bs').fromTableAscending(f.table('participants')),
                { hd: e, tl: 0 },
              ),
              function (a) {
                return c('bs_caml').i64_neq(a.contactId, g);
              },
            ),
            function (a) {
              return d('ReQLSuspense').first(
                d('ReQL.bs').getKeyRange(
                  d('ReQL.bs').fromTableAscending(f.table('contacts')),
                  { hd: a.contactId, tl: 0 },
                ),
              );
            },
          );
        },
        [f, e, g],
      );
      if (a !== void 0) {
        a = c('bs_caml_option').valFromOption(a);
        a =
          a !== void 0
            ? c('bs_caml').i64_eq(a.contactType, d('LSContactType.bs').page)
            : !1;
      } else a = !1;
      return h.createElement(i.Provider, { children: b, value: a });
    }
    function b(a) {
      a = h.useContext(i);
      if (a !== void 0) return a;
      else {
        c('recoverableViolation')(
          "Using hook useIsPage in a place where we didn't include the context",
          'messenger_web_product',
        );
        return !1;
      }
    }
    e = a;
    g.useIsPage = b;
    g.make = e;
  },
  98,
);
__d(
  'useOpenThreadAfterJoin',
  [
    'CurrentEnvironment',
    'MWLSThreadDisplayContext.re',
    'XCometMessengerControllerRouteBuilder',
    'XMessengerDotComCometMainControllerRouteBuilder',
    'useCometRouterDispatcher',
    'useMWChatOpenTabForGroup',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function a() {
      var a = c('useCometRouterDispatcher')(),
        b = c('useMWChatOpenTabForGroup')('jewel'),
        d = b[0];
      b = c('MWLSThreadDisplayContext.re').useHook();
      return b === 'ChatTab'
        ? function (a) {
            d(a);
          }
        : function (b) {
            var d;
            c('CurrentEnvironment').messengerdotcom
              ? (d = c(
                  'XMessengerDotComCometMainControllerRouteBuilder',
                ).buildURL({ thread_key: b }))
              : (d = c('XCometMessengerControllerRouteBuilder').buildURL({
                  thread_key: b,
                }));
            a == null ? void 0 : a.go(d, {});
          };
    }
    g['default'] = a;
  },
  98,
);
__d(
  'MWPColorUtils.bs',
  ['bs_belt_Option', 'bs_caml_int64', 'recoverableViolation'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function h(a) {
      a = c('bs_caml_int64').to_int32(a);
      var b = (a & 16711680) >>> 16,
        d = (a & 65280) >>> 8;
      a = a & 255;
      var e = function (a) {
        return a.toString(16).padStart(2, '0');
      };
      return '#' + (e(b) + (e(d) + e(a)));
    }
    function a(a, b, d) {
      d = a
        .sort(function (a, b) {
          return (
            (c('bs_caml_int64').to_int32(a.gradientIndex) -
              c('bs_caml_int64').to_int32(b.gradientIndex)) |
            0
          );
        })
        .map(function (a) {
          return h(a.color);
        });
      a = d.length;
      if (a !== 1) {
        if (a !== 0) {
          a = c('bs_belt_Option').isSome(b);
          var e = [];
          b !== void 0 &&
            e.push(
              d[0] +
                ' calc(100vh - ' +
                String(b.totalHeight) +
                'px + ' +
                String(b.headerHeight) +
                'px)',
            );
          for (var f = a ? 1 : 0, a = (d.length - (a ? 2 : 1)) | 0; f <= a; ++f)
            e.push(d[f]);
          b !== void 0 &&
            (e.push(
              d[(d.length - 1) | 0] +
                ' calc(100% - ' +
                String(b.footerHeight) +
                'px)',
            ),
            e.push(d[(d.length - 1) | 0]));
          f = e.join(', ');
          return 'linear-gradient(' + f + ')';
        }
        c('recoverableViolation')(
          'Not enough colors for a gradient',
          'messenger_comet',
        );
        return '';
      }
      c('recoverableViolation')(
        'Not enough colors for a gradient',
        'messenger_comet',
      );
      return '';
    }
    b = h;
    d = a;
    g.int64ToHex = b;
    g.gradient = d;
  },
  98,
);
__d(
  'LSInternetConnectionState',
  [],
  function (a, b, c, d, e, f) {
    a = Object.freeze({ NOT_CONNECTED: 0, CONNECTED: 1 });
    f['default'] = a;
  },
  66,
);
__d(
  'LSPlatformConnectionStatusProvider',
  [
    'I64',
    'LS.re',
    'LSDeleteAllAndInsertConnectivityStatus',
    'LSInternetConnectionState',
    'promiseDone',
    'react',
    'useReStore',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    e = d('react');
    var i = e.createContext,
      j = e.useCallback,
      k = e.useContext,
      l = e.useEffect,
      m = e.useMemo,
      n = e.useState;
    e = { setStatus: function (a) {}, status: 'Connected' };
    var o = i(e);
    function a(a) {
      var b = p();
      l(
        function () {
          var c = a.onConnectionStatusChange(b);
          return function () {
            c();
          };
        },
        [a, b],
      );
    }
    function b(a) {
      var b = a.children,
        e = a.onConnectionStatusChange,
        f = c('useReStore')();
      a = n('Connected');
      var g = a[0],
        i = a[1];
      l(
        function () {
          return e(function (a) {
            i(a);
          });
        },
        [e, i],
      );
      l(
        function () {
          (g === 'Connected' || g === 'Disconnected') &&
            c('promiseDone')(
              f.runInTransaction(function (a) {
                return c('LSDeleteAllAndInsertConnectivityStatus')(
                  g === 'Connected'
                    ? d('I64').of_int32(
                        c('LSInternetConnectionState').CONNECTED,
                      )
                    : d('I64').of_int32(
                        c('LSInternetConnectionState').NOT_CONNECTED,
                      ),
                  c('LS.re').make(a),
                );
              }, 'readwrite'),
            );
        },
        [f, g],
      );
      var k = j(
        function (a) {
          return i(a);
        },
        [i],
      );
      a = m(
        function () {
          return { setStatus: k, status: g };
        },
        [k, g],
      );
      return h.jsx(o.Provider, { value: a, children: b });
    }
    b.displayName = b.name + ' [from ' + f.id + ']';
    function p() {
      var a = k(o),
        b = a.setStatus;
      return m(
        function () {
          return function (a) {
            b(a);
          };
        },
        [b],
      );
    }
    g.Context = o;
    g.useSubscribeOnConnectionStatusChange = a;
    g.Provider = b;
    g.useStatusChangeHandler = p;
  },
  98,
);
__d(
  'MWPBumpEntityKey',
  ['CurrentUser', 'ODS'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function h(a, b) {
      d('ODS').bumpEntityKey(3185, a, b);
    }
    function a(a, b) {
      var d = c('CurrentUser').getAppID();
      d = d == null ? 'unknown' : d;
      return h(a, b + '.' + d);
    }
    g.bumpEntityKey = h;
    g.bumpEntityKeyWithAppId = a;
  },
  98,
);
__d(
  'MWPBumpEntityKey.re',
  ['MWPBumpEntityKey'],
  function (a, b, c, d, e, f) {
    a = b('MWPBumpEntityKey').bumpEntityKey;
    f.bumpEntityKey = a;
    c = b('MWPBumpEntityKey').bumpEntityKeyWithAppId;
    f.bumpEntityKeyWithAppId = c;
  },
  null,
);
__d(
  'MessengerThreadThemeGradientType.bs',
  ['bs_caml_int64'],
  function (a, b, c, d, e, f) {
    'use strict';
    a = b('bs_caml_int64').zero;
    c = b('bs_caml_int64').one;
    d = [0, 2];
    e = [0, 3];
    f.messageBubbleOutbound = a;
    f.messageBubbleInbound = c;
    f.threadviewBackground = d;
    f.deliveryReceipt = e;
  },
  null,
);
__d(
  'MWPThreadTheme.bs',
  [
    'LSInt64.bs',
    'MWPColorUtils.bs',
    'MessengerThreadThemeGradientType.bs',
    'ReQL.bs',
    'ReQLSubscription.bs',
    'SortedAsyncIterable.bs',
    'bs_belt_Array',
    'react',
    'useReStore',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react'),
      i = {
        accessibilityLabel: 'Default Blue',
        fallbackColor: [-1, 4278224127],
        fbid: [45690, 4245347893],
        isDeprecated: !1,
        reverseGradiantsForRadial: !1,
        themeIdx: [0, 94],
      },
      j = [],
      k = { gradientColors: j, threadTheme: i };
    i = {
      accessibilityLabel: 'Default Blue',
      fallbackColor: [-1, 4278224127],
      fbid: [45690, 4245347893],
      isDeprecated: !1,
      reverseGradiantsForRadial: !1,
      themeIdx: [0, 94],
    };
    j = j;
    function a(a) {}
    j = {
      gradientColors: j,
      previewId: void 0,
      setPreviewId: a,
      threadTheme: i,
    };
    var l = h.createContext(j);
    function m(a, b) {
      var e = c('useReStore')(),
        f = d('ReQLSubscription.bs').useFirst(
          h.useMemo(
            function () {
              if (a !== void 0)
                return d('ReQL.bs').getKeyRange(
                  d('ReQL.bs').fromTableAscending(e.table('thread_themes')),
                  { hd: a, tl: 0 },
                );
              else return d('SortedAsyncIterable.bs').empty();
            },
            [e, JSON.stringify(a)],
          ),
        ),
        g = d('ReQLSubscription.bs').useArray(
          h.useMemo(
            function () {
              if (a !== void 0)
                return d('ReQL.bs').filter(
                  d('ReQL.bs').getKeyRange(
                    d('ReQL.bs').fromTableAscending(e.table('gradient_colors')),
                    { hd: a, tl: 0 },
                  ),
                  function (a) {
                    return d('LSInt64.bs').equal(
                      a.type_,
                      d('MessengerThreadThemeGradientType.bs')
                        .messageBubbleOutbound,
                    );
                  },
                );
              else return d('SortedAsyncIterable.bs').empty();
            },
            [e, JSON.stringify(a)],
          ),
        );
      return h.useMemo(
        function () {
          if (f !== void 0) return { gradientColors: g, threadTheme: f };
          else return b;
        },
        [f, g],
      );
    }
    function b(a) {
      var b = a.children,
        c = a.themeFbid;
      a = a.defaultTheme;
      a = a !== void 0 ? a : k;
      var d = h.useState(function () {}),
        e = d[0],
        f = d[1];
      d = h.useMemo(
        function () {
          if (e !== void 0) return e;
          else return c;
        },
        [JSON.stringify(c), e],
      );
      var g = m(d, a);
      d = h.useMemo(
        function () {
          return {
            gradientColors: g.gradientColors,
            previewId: e,
            setPreviewId: f,
            threadTheme: g.threadTheme,
          };
        },
        [g, f, JSON.stringify(e)],
      );
      return h.createElement(l.Provider, { children: b, value: d });
    }
    function e(a) {
      return h.useContext(l);
    }
    function f(a) {
      a = h.useContext(l);
      var b = c('bs_belt_Array').get(a.gradientColors, 0);
      if (b !== void 0) return d('MWPColorUtils.bs').int64ToHex(b.color);
      else return d('MWPColorUtils.bs').int64ToHex(a.threadTheme.fallbackColor);
    }
    function n(a) {
      a = h.useContext(l);
      var b = a.gradientColors;
      b = c('bs_belt_Array').get(b, (b.length - 1) | 0);
      if (b !== void 0) return d('MWPColorUtils.bs').int64ToHex(b.color);
      else return d('MWPColorUtils.bs').int64ToHex(a.threadTheme.fallbackColor);
    }
    function o(a) {
      return a.gradientColors.length > 1;
    }
    a = b;
    i = k;
    b = j;
    j = l;
    a = a;
    e = e;
    f = f;
    n = n;
    o = o;
    g.mwDefaultTheme = i;
    g.defaultContextValue = b;
    g.context = j;
    g.make = a;
    g.useHook = e;
    g.useTop = f;
    g.useBottom = n;
    g.isGradient = o;
  },
  98,
);
__d(
  'MqttState.bs',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    a = 'Connected';
    b = 'Disconnected';
    c = 'Connecting';
    f.connected = a;
    f.disconnected = b;
    f.connecting = c;
  },
  66,
);
__d(
  'WebStorage.bs',
  ['WebStorage', 'bs_caml_option'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function a(a) {
      return c('WebStorage').getLocalStorage();
    }
    function b(a) {
      return c('WebStorage').getSessionStorage();
    }
    function d(a) {
      return c('bs_caml_option').nullable_to_opt(
        c('WebStorage').getLocalStorage(),
      );
    }
    function e(a) {
      return c('bs_caml_option').nullable_to_opt(
        c('WebStorage').getSessionStorage(),
      );
    }
    function f(a, b, d) {
      return c('WebStorage').setItemGuarded(a, b, d);
    }
    g.getLocalStorageExternal = a;
    g.getSessionStorageExternal = b;
    g.getLocalStorage = d;
    g.getSessionStorage = e;
    g.setItemGuarded = f;
  },
  98,
);
__d(
  'CommunityMessagingEnableState.bs',
  ['bs_caml_int64'],
  function (a, b, c, d, e, f) {
    'use strict';
    a = b('bs_caml_int64').one;
    c = [0, 2];
    d = [0, 3];
    e = [0, 4];
    b = [0, 5];
    f.enabled = a;
    f.disableRequested = c;
    f.disabling = d;
    f.disabled = e;
    f.disableFailed = b;
  },
  null,
); /*FB_PKG_DELIM*/
__d(
  'd3-selection',
  ['d3-selection-1.3.0'],
  function (a, b, c, d, e, f) {
    e.exports = b('d3-selection-1.3.0')();
  },
  null,
);
/**
 * License: https://www.facebook.com/legal/license/9cisb7Fe7ih/
 */
__d(
  'immutable-3.7.3',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    var g = {},
      h = { exports: g },
      i;
    function j() {
      (function (b, c) {
        typeof g === 'object' && typeof h !== 'undefined'
          ? (h.exports = c())
          : typeof i === 'function' && i.amd
          ? i(c)
          : (b.Immutable = c());
      })(this, function () {
        var a = Array.prototype.slice;
        function b(a, b) {
          b && (a.prototype = Object.create(b.prototype)),
            (a.prototype.constructor = a);
        }
        var c = 'delete',
          d = 5,
          e = 1 << d,
          f = e - 1,
          g = {},
          h = { value: !1 },
          i = { value: !1 };
        function j(a) {
          a.value = !1;
          return a;
        }
        function k(a) {
          a && (a.value = !0);
        }
        function l() {}
        function m(a, b) {
          b = b || 0;
          var c = Math.max(0, a.length - b),
            d = new Array(c);
          for (var e = 0; e < c; e++) d[e] = a[e + b];
          return d;
        }
        function n(a) {
          a.size === void 0 && (a.size = a.__iterate(p));
          return a.size;
        }
        function o(a, b) {
          return b >= 0 ? +b : n(a) + +b;
        }
        function p() {
          return !0;
        }
        function q(a, b, c) {
          return (
            (a === 0 || (c !== void 0 && a <= -c)) &&
            (b === void 0 || (c !== void 0 && b >= c))
          );
        }
        function r(a, b) {
          return aa(a, b, 0);
        }
        function s(a, b) {
          return aa(a, b, b);
        }
        function aa(a, b, c) {
          return a === void 0
            ? c
            : a < 0
            ? Math.max(0, b + a)
            : b === void 0
            ? a
            : Math.min(b, a);
        }
        function t(a) {
          return x(a) ? a : F(a);
        }
        b(u, t);
        function u(a) {
          return y(a) ? a : G(a);
        }
        b(v, t);
        function v(a) {
          return z(a) ? a : H(a);
        }
        b(w, t);
        function w(a) {
          return x(a) && !ba(a) ? a : I(a);
        }
        function x(a) {
          return !!(a && a[da]);
        }
        function y(a) {
          return !!(a && a[ea]);
        }
        function z(a) {
          return !!(a && a[fa]);
        }
        function ba(a) {
          return y(a) || z(a);
        }
        function ca(a) {
          return !!(a && a[ga]);
        }
        t.isIterable = x;
        t.isKeyed = y;
        t.isIndexed = z;
        t.isAssociative = ba;
        t.isOrdered = ca;
        t.Keyed = u;
        t.Indexed = v;
        t.Set = w;
        var da = '@@__IMMUTABLE_ITERABLE__@@',
          ea = '@@__IMMUTABLE_KEYED__@@',
          fa = '@@__IMMUTABLE_INDEXED__@@',
          ga = '@@__IMMUTABLE_ORDERED__@@',
          ha = 0,
          A = 1,
          B = 2,
          ia = typeof Symbol === 'function' && Symbol.iterator,
          ja = '@@iterator',
          ka = ia || ja;
        function C(a) {
          this.next = a;
        }
        C.prototype.toString = function () {
          return '[Iterator]';
        };
        C.KEYS = ha;
        C.VALUES = A;
        C.ENTRIES = B;
        C.prototype.inspect = C.prototype.toSource = function () {
          return this.toString();
        };
        C.prototype[ka] = function () {
          return this;
        };
        function D(a, b, c, d) {
          a = a === 0 ? b : a === 1 ? c : [b, c];
          d ? (d.value = a) : (d = { value: a, done: !1 });
          return d;
        }
        function E() {
          return { value: void 0, done: !0 };
        }
        function la(a) {
          return !!oa(a);
        }
        function ma(a) {
          return a && typeof a.next === 'function';
        }
        function na(a) {
          var b = oa(a);
          return b && b.call(a);
        }
        function oa(a) {
          a = a && ((ia && a[ia]) || a[ja]);
          if (typeof a === 'function') return a;
        }
        function pa(a) {
          return a && typeof a.length === 'number';
        }
        b(F, t);
        function F(a) {
          return a === null || a === void 0 ? xa() : x(a) ? a.toSeq() : Aa(a);
        }
        F.of = function () {
          return F(arguments);
        };
        F.prototype.toSeq = function () {
          return this;
        };
        F.prototype.toString = function () {
          return this.__toString('Seq {', '}');
        };
        F.prototype.cacheResult = function () {
          !this._cache &&
            this.__iterateUncached &&
            ((this._cache = this.entrySeq().toArray()),
            (this.size = this._cache.length));
          return this;
        };
        F.prototype.__iterate = function (a, b) {
          return Ca(this, a, b, !0);
        };
        F.prototype.__iterator = function (a, b) {
          return Da(this, a, b, !0);
        };
        b(G, F);
        function G(a) {
          return a === null || a === void 0
            ? xa().toKeyedSeq()
            : x(a)
            ? y(a)
              ? a.toSeq()
              : a.fromEntrySeq()
            : ya(a);
        }
        G.prototype.toKeyedSeq = function () {
          return this;
        };
        b(H, F);
        function H(a) {
          return a === null || a === void 0
            ? xa()
            : x(a)
            ? y(a)
              ? a.entrySeq()
              : a.toIndexedSeq()
            : za(a);
        }
        H.of = function () {
          return H(arguments);
        };
        H.prototype.toIndexedSeq = function () {
          return this;
        };
        H.prototype.toString = function () {
          return this.__toString('Seq [', ']');
        };
        H.prototype.__iterate = function (a, b) {
          return Ca(this, a, b, !1);
        };
        H.prototype.__iterator = function (a, b) {
          return Da(this, a, b, !1);
        };
        b(I, F);
        function I(a) {
          return (
            a === null || a === void 0
              ? xa()
              : x(a)
              ? y(a)
                ? a.entrySeq()
                : a
              : za(a)
          ).toSetSeq();
        }
        I.of = function () {
          return I(arguments);
        };
        I.prototype.toSetSeq = function () {
          return this;
        };
        F.isSeq = va;
        F.Keyed = G;
        F.Set = I;
        F.Indexed = H;
        var qa = '@@__IMMUTABLE_SEQ__@@';
        F.prototype[qa] = !0;
        b(ra, H);
        function ra(a) {
          (this._array = a), (this.size = a.length);
        }
        ra.prototype.get = function (a, b) {
          return this.has(a) ? this._array[o(this, a)] : b;
        };
        ra.prototype.__iterate = function (a, b) {
          var c = this._array,
            d = c.length - 1;
          for (var e = 0; e <= d; e++)
            if (a(c[b ? d - e : e], e, this) === !1) return e + 1;
          return e;
        };
        ra.prototype.__iterator = function (a, b) {
          var c = this._array,
            d = c.length - 1,
            e = 0;
          return new C(function () {
            return e > d ? E() : D(a, e, c[b ? d - e++ : e++]);
          });
        };
        b(sa, G);
        function sa(a) {
          var b = Object.keys(a);
          this._object = a;
          this._keys = b;
          this.size = b.length;
        }
        sa.prototype.get = function (a, b) {
          return b !== void 0 && !this.has(a) ? b : this._object[a];
        };
        sa.prototype.has = function (a) {
          return this._object.hasOwnProperty(a);
        };
        sa.prototype.__iterate = function (a, b) {
          var c = this._object,
            d = this._keys,
            e = d.length - 1;
          for (var f = 0; f <= e; f++) {
            var g = d[b ? e - f : f];
            if (a(c[g], g, this) === !1) return f + 1;
          }
          return f;
        };
        sa.prototype.__iterator = function (a, b) {
          var c = this._object,
            d = this._keys,
            e = d.length - 1,
            f = 0;
          return new C(function () {
            var g = d[b ? e - f : f];
            return f++ > e ? E() : D(a, g, c[g]);
          });
        };
        sa.prototype[ga] = !0;
        b(ta, H);
        function ta(a) {
          (this._iterable = a), (this.size = a.length || a.size);
        }
        ta.prototype.__iterateUncached = function (a, b) {
          if (b) return this.cacheResult().__iterate(a, b);
          b = this._iterable;
          b = na(b);
          var c = 0;
          if (ma(b)) {
            var d;
            while (!(d = b.next()).done)
              if (a(d.value, c++, this) === !1) break;
          }
          return c;
        };
        ta.prototype.__iteratorUncached = function (a, b) {
          if (b) return this.cacheResult().__iterator(a, b);
          b = this._iterable;
          var c = na(b);
          if (!ma(c)) return new C(E);
          var d = 0;
          return new C(function () {
            var b = c.next();
            return b.done ? b : D(a, d++, b.value);
          });
        };
        b(ua, H);
        function ua(a) {
          (this._iterator = a), (this._iteratorCache = []);
        }
        ua.prototype.__iterateUncached = function (a, b) {
          if (b) return this.cacheResult().__iterate(a, b);
          b = this._iterator;
          var c = this._iteratorCache,
            d = 0;
          while (d < c.length) if (a(c[d], d++, this) === !1) return d;
          var e;
          while (!(e = b.next()).done) {
            e = e.value;
            c[d] = e;
            if (a(e, d++, this) === !1) break;
          }
          return d;
        };
        ua.prototype.__iteratorUncached = function (a, b) {
          if (b) return this.cacheResult().__iterator(a, b);
          var c = this._iterator,
            d = this._iteratorCache,
            e = 0;
          return new C(function () {
            if (e >= d.length) {
              var b = c.next();
              if (b.done) return b;
              d[e] = b.value;
            }
            return D(a, e, d[e++]);
          });
        };
        function va(a) {
          return !!(a && a[qa]);
        }
        var wa;
        function xa() {
          return wa || (wa = new ra([]));
        }
        function ya(a) {
          var b = Array.isArray(a)
            ? new ra(a).fromEntrySeq()
            : ma(a)
            ? new ua(a).fromEntrySeq()
            : la(a)
            ? new ta(a).fromEntrySeq()
            : typeof a === 'object'
            ? new sa(a)
            : void 0;
          if (!b)
            throw new TypeError(
              'Expected Array or iterable object of [k, v] entries, or keyed object: ' +
                a,
            );
          return b;
        }
        function za(a) {
          var b = Ba(a);
          if (!b)
            throw new TypeError(
              'Expected Array or iterable object of values: ' + a,
            );
          return b;
        }
        function Aa(a) {
          var b = Ba(a) || (typeof a === 'object' && new sa(a));
          if (!b)
            throw new TypeError(
              'Expected Array or iterable object of values, or keyed object: ' +
                a,
            );
          return b;
        }
        function Ba(a) {
          return pa(a)
            ? new ra(a)
            : ma(a)
            ? new ua(a)
            : la(a)
            ? new ta(a)
            : void 0;
        }
        function Ca(a, b, c, d) {
          var e = a._cache;
          if (e) {
            var f = e.length - 1;
            for (var g = 0; g <= f; g++) {
              var h = e[c ? f - g : g];
              if (b(h[1], d ? h[0] : g, a) === !1) return g + 1;
            }
            return g;
          }
          return a.__iterateUncached(b, c);
        }
        function Da(a, b, c, d) {
          var e = a._cache;
          if (e) {
            var f = e.length - 1,
              g = 0;
            return new C(function () {
              var a = e[c ? f - g : g];
              return g++ > f ? E() : D(b, d ? a[0] : g - 1, a[1]);
            });
          }
          return a.__iteratorUncached(b, c);
        }
        b(Ea, t);
        function Ea() {
          throw TypeError('Abstract');
        }
        b(Fa, Ea);
        function Fa() {}
        b(Ga, Ea);
        function Ga() {}
        b(Ha, Ea);
        function Ha() {}
        Ea.Keyed = Fa;
        Ea.Indexed = Ga;
        Ea.Set = Ha;
        function J(a, b) {
          if (a === b || (a !== a && b !== b)) return !0;
          if (!a || !b) return !1;
          if (
            typeof a.valueOf === 'function' &&
            typeof b.valueOf === 'function'
          ) {
            a = a.valueOf();
            b = b.valueOf();
            if (a === b || (a !== a && b !== b)) return !0;
            if (!a || !b) return !1;
          }
          return typeof a.equals === 'function' &&
            typeof b.equals === 'function' &&
            a.equals(b)
            ? !0
            : !1;
        }
        function Ia(a, b) {
          return b ? Ja(b, a, '', { '': a }) : Ka(a);
        }
        function Ja(a, b, c, d) {
          if (Array.isArray(b))
            return a.call(
              d,
              c,
              H(b).map(function (c, d) {
                return Ja(a, c, d, b);
              }),
            );
          return La(b)
            ? a.call(
                d,
                c,
                G(b).map(function (c, d) {
                  return Ja(a, c, d, b);
                }),
              )
            : b;
        }
        function Ka(a) {
          if (Array.isArray(a)) return H(a).map(Ka).toList();
          return La(a) ? G(a).map(Ka).toMap() : a;
        }
        function La(a) {
          return a && (a.constructor === Object || a.constructor === void 0);
        }
        var Ma =
          typeof Math.imul === 'function' && Math.imul(4294967295, 2) === -2
            ? Math.imul
            : function (a, b) {
                a = a | 0;
                b = b | 0;
                var c = a & 65535,
                  d = b & 65535;
                return (
                  (c * d + ((((a >>> 16) * d + c * (b >>> 16)) << 16) >>> 0)) |
                  0
                );
              };
        function Na(a) {
          return ((a >>> 1) & 1073741824) | (a & 3221225471);
        }
        function K(a) {
          if (a === !1 || a === null || a === void 0) return 0;
          if (typeof a.valueOf === 'function') {
            a = a.valueOf();
            if (a === !1 || a === null || a === void 0) return 0;
          }
          if (a === !0) return 1;
          var b = typeof a;
          if (b === 'number') {
            var c = a | 0;
            c !== a && (c ^= a * 4294967295);
            while (a > 4294967295) (a /= 4294967295), (c ^= a);
            return Na(c);
          }
          if (b === 'string') return a.length > Ya ? Oa(a) : Pa(a);
          return typeof a.hashCode === 'function' ? a.hashCode() : Qa(a);
        }
        function Oa(b) {
          var a = ab[b];
          a === void 0 &&
            ((a = Pa(b)),
            $a === Za && (($a = 0), (ab = {})),
            $a++,
            (ab[b] = a));
          return a;
        }
        function Pa(b) {
          var a = 0;
          for (var c = 0; c < b.length; c++) a = (31 * a + b.charCodeAt(c)) | 0;
          return Na(a);
        }
        function Qa(b) {
          var a;
          if (Ua) {
            a = Va.get(b);
            if (a !== void 0) return a;
          }
          a = b[Xa];
          if (a !== void 0) return a;
          if (!Sa) {
            a = b.propertyIsEnumerable && b.propertyIsEnumerable[Xa];
            if (a !== void 0) return a;
            a = Ta(b);
            if (a !== void 0) return a;
          }
          a = ++Wa;
          Wa & 1073741824 && (Wa = 0);
          if (Ua) Va.set(b, a);
          else if (Ra !== void 0 && Ra(b) === !1)
            throw new Error('Non-extensible objects are not allowed as keys.');
          else if (Sa)
            Object.defineProperty(b, Xa, {
              enumerable: !1,
              configurable: !1,
              writable: !1,
              value: a,
            });
          else if (
            b.propertyIsEnumerable !== void 0 &&
            b.propertyIsEnumerable ===
              b.constructor.prototype.propertyIsEnumerable
          )
            (b.propertyIsEnumerable = function () {
              return this.constructor.prototype.propertyIsEnumerable.apply(
                this,
                arguments,
              );
            }),
              (b.propertyIsEnumerable[Xa] = a);
          else if (b.nodeType !== void 0) b[Xa] = a;
          else
            throw new Error(
              'Unable to set a non-enumerable property on object.',
            );
          return a;
        }
        var Ra = Object.isExtensible,
          Sa = (function () {
            try {
              Object.defineProperty({}, '@', {});
              return !0;
            } catch (a) {
              return !1;
            }
          })();
        function Ta(a) {
          if (a && a.nodeType > 0)
            switch (a.nodeType) {
              case 1:
                return a.uniqueID;
              case 9:
                return a.documentElement && a.documentElement.uniqueID;
            }
        }
        var Ua = typeof WeakMap === 'function',
          Va;
        Ua && (Va = new WeakMap());
        var Wa = 0,
          Xa = '__immutablehash__';
        typeof Symbol === 'function' && (Xa = Symbol(Xa));
        var Ya = 16,
          Za = 255,
          $a = 0,
          ab = {};
        function bb(a, b) {
          if (!a) throw new Error(b);
        }
        function L(a) {
          bb(
            a !== Infinity,
            'Cannot perform this action with an infinite size.',
          );
        }
        b(M, G);
        function M(a, b) {
          (this._iter = a), (this._useKeys = b), (this.size = a.size);
        }
        M.prototype.get = function (a, b) {
          return this._iter.get(a, b);
        };
        M.prototype.has = function (a) {
          return this._iter.has(a);
        };
        M.prototype.valueSeq = function () {
          return this._iter.valueSeq();
        };
        M.prototype.reverse = function () {
          var a = this,
            b = hb(this, !0);
          this._useKeys ||
            (b.valueSeq = function () {
              return a._iter.toSeq().reverse();
            });
          return b;
        };
        M.prototype.map = function (a, b) {
          var c = this,
            d = gb(this, a, b);
          this._useKeys ||
            (d.valueSeq = function () {
              return c._iter.toSeq().map(a, b);
            });
          return d;
        };
        M.prototype.__iterate = function (a, b) {
          var c = this,
            d;
          return this._iter.__iterate(
            this._useKeys
              ? function (b, d) {
                  return a(b, d, c);
                }
              : ((d = b ? xb(this) : 0),
                function (e) {
                  return a(e, b ? --d : d++, c);
                }),
            b,
          );
        };
        M.prototype.__iterator = function (a, b) {
          if (this._useKeys) return this._iter.__iterator(a, b);
          var c = this._iter.__iterator(A, b),
            d = b ? xb(this) : 0;
          return new C(function () {
            var e = c.next();
            return e.done ? e : D(a, b ? --d : d++, e.value, e);
          });
        };
        M.prototype[ga] = !0;
        b(cb, H);
        function cb(a) {
          (this._iter = a), (this.size = a.size);
        }
        cb.prototype.includes = function (a) {
          return this._iter.includes(a);
        };
        cb.prototype.__iterate = function (a, b) {
          var c = this,
            d = 0;
          return this._iter.__iterate(function (b) {
            return a(b, d++, c);
          }, b);
        };
        cb.prototype.__iterator = function (a, b) {
          var c = this._iter.__iterator(A, b),
            d = 0;
          return new C(function () {
            var b = c.next();
            return b.done ? b : D(a, d++, b.value, b);
          });
        };
        b(db, I);
        function db(a) {
          (this._iter = a), (this.size = a.size);
        }
        db.prototype.has = function (a) {
          return this._iter.includes(a);
        };
        db.prototype.__iterate = function (a, b) {
          var c = this;
          return this._iter.__iterate(function (b) {
            return a(b, b, c);
          }, b);
        };
        db.prototype.__iterator = function (a, b) {
          var c = this._iter.__iterator(A, b);
          return new C(function () {
            var b = c.next();
            return b.done ? b : D(a, b.value, b.value, b);
          });
        };
        b(eb, G);
        function eb(a) {
          (this._iter = a), (this.size = a.size);
        }
        eb.prototype.entrySeq = function () {
          return this._iter.toSeq();
        };
        eb.prototype.__iterate = function (a, b) {
          var c = this;
          return this._iter.__iterate(function (b) {
            if (b) {
              wb(b);
              var d = x(b);
              return a(d ? b.get(1) : b[1], d ? b.get(0) : b[0], c);
            }
          }, b);
        };
        eb.prototype.__iterator = function (a, b) {
          var c = this._iter.__iterator(A, b);
          return new C(function () {
            while (!0) {
              var b = c.next();
              if (b.done) return b;
              var d = b.value;
              if (d) {
                wb(d);
                var e = x(d);
                return D(a, e ? d.get(0) : d[0], e ? d.get(1) : d[1], b);
              }
            }
          });
        };
        cb.prototype.cacheResult =
          M.prototype.cacheResult =
          db.prototype.cacheResult =
          eb.prototype.cacheResult =
            Ab;
        function fb(a) {
          var b = zb(a);
          b._iter = a;
          b.size = a.size;
          b.flip = function () {
            return a;
          };
          b.reverse = function () {
            var b = a.reverse.apply(this);
            b.flip = function () {
              return a.reverse();
            };
            return b;
          };
          b.has = function (b) {
            return a.includes(b);
          };
          b.includes = function (b) {
            return a.has(b);
          };
          b.cacheResult = Ab;
          b.__iterateUncached = function (b, c) {
            var d = this;
            return a.__iterate(function (a, c) {
              return b(c, a, d) !== !1;
            }, c);
          };
          b.__iteratorUncached = function (b, c) {
            if (b === B) {
              var d = a.__iterator(b, c);
              return new C(function () {
                var a = d.next();
                if (!a.done) {
                  var b = a.value[0];
                  a.value[0] = a.value[1];
                  a.value[1] = b;
                }
                return a;
              });
            }
            return a.__iterator(b === A ? ha : A, c);
          };
          return b;
        }
        function gb(a, b, c) {
          var d = zb(a);
          d.size = a.size;
          d.has = function (b) {
            return a.has(b);
          };
          d.get = function (d, e) {
            var f = a.get(d, g);
            return f === g ? e : b.call(c, f, d, a);
          };
          d.__iterateUncached = function (d, e) {
            var f = this;
            return a.__iterate(function (a, e, g) {
              return d(b.call(c, a, e, g), e, f) !== !1;
            }, e);
          };
          d.__iteratorUncached = function (d, e) {
            var f = a.__iterator(B, e);
            return new C(function () {
              var e = f.next();
              if (e.done) return e;
              var g = e.value,
                h = g[0];
              return D(d, h, b.call(c, g[1], h, a), e);
            });
          };
          return d;
        }
        function hb(a, b) {
          var c = zb(a);
          c._iter = a;
          c.size = a.size;
          c.reverse = function () {
            return a;
          };
          a.flip &&
            (c.flip = function () {
              var b = fb(a);
              b.reverse = function () {
                return a.flip();
              };
              return b;
            });
          c.get = function (c, d) {
            return a.get(b ? c : -1 - c, d);
          };
          c.has = function (c) {
            return a.has(b ? c : -1 - c);
          };
          c.includes = function (b) {
            return a.includes(b);
          };
          c.cacheResult = Ab;
          c.__iterate = function (b, c) {
            var d = this;
            return a.__iterate(function (a, c) {
              return b(a, c, d);
            }, !c);
          };
          c.__iterator = function (b, c) {
            return a.__iterator(b, !c);
          };
          return c;
        }
        function ib(a, b, c, d) {
          var e = zb(a);
          d &&
            ((e.has = function (d) {
              var e = a.get(d, g);
              return e !== g && !!b.call(c, e, d, a);
            }),
            (e.get = function (d, e) {
              var f = a.get(d, g);
              return f !== g && b.call(c, f, d, a) ? f : e;
            }));
          e.__iterateUncached = function (e, f) {
            var g = this,
              h = 0;
            a.__iterate(function (a, f, i) {
              if (b.call(c, a, f, i)) {
                h++;
                return e(a, d ? f : h - 1, g);
              }
            }, f);
            return h;
          };
          e.__iteratorUncached = function (e, f) {
            var g = a.__iterator(B, f),
              h = 0;
            return new C(function () {
              while (!0) {
                var f = g.next();
                if (f.done) return f;
                var i = f.value,
                  j = i[0];
                i = i[1];
                if (b.call(c, i, j, a)) return D(e, d ? j : h++, i, f);
              }
            });
          };
          return e;
        }
        function jb(a, b, c) {
          var d = O().asMutable();
          a.__iterate(function (e, f) {
            d.update(b.call(c, e, f, a), 0, function (a) {
              return a + 1;
            });
          });
          return d.asImmutable();
        }
        function kb(a, b, c) {
          var d = y(a),
            e = (ca(a) ? S() : O()).asMutable();
          a.__iterate(function (f, g) {
            e.update(b.call(c, f, g, a), function (a) {
              return (a = a || []), a.push(d ? [g, f] : f), a;
            });
          });
          var f = yb(a);
          return e.map(function (b) {
            return N(a, f(b));
          });
        }
        function lb(a, b, c, d) {
          var e = a.size;
          if (q(b, c, e)) return a;
          var f = r(b, e);
          e = s(c, e);
          if (f !== f || e !== e) return lb(a.toSeq().cacheResult(), b, c, d);
          b = e - f;
          var g;
          b === b && (g = b < 0 ? 0 : b);
          c = zb(a);
          c.size = g;
          !d &&
            va(a) &&
            g >= 0 &&
            (c.get = function (b, c) {
              b = o(this, b);
              return b >= 0 && b < g ? a.get(b + f, c) : c;
            });
          c.__iterateUncached = function (b, c) {
            var e = this;
            if (g === 0) return 0;
            if (c) return this.cacheResult().__iterate(b, c);
            var h = 0,
              i = !0,
              j = 0;
            a.__iterate(function (a, c) {
              if (!(i && (i = h++ < f))) {
                j++;
                return b(a, d ? c : j - 1, e) !== !1 && j !== g;
              }
            });
            return j;
          };
          c.__iteratorUncached = function (b, c) {
            if (g !== 0 && c) return this.cacheResult().__iterator(b, c);
            var e = g !== 0 && a.__iterator(b, c),
              h = 0,
              i = 0;
            return new C(function () {
              while (h++ < f) e.next();
              if (++i > g) return E();
              var a = e.next();
              if (d || b === A) return a;
              else if (b === ha) return D(b, i - 1, void 0, a);
              else return D(b, i - 1, a.value[1], a);
            });
          };
          return c;
        }
        function mb(a, b, c) {
          var d = zb(a);
          d.__iterateUncached = function (d, e) {
            var f = this;
            if (e) return this.cacheResult().__iterate(d, e);
            var g = 0;
            a.__iterate(function (a, e, h) {
              return b.call(c, a, e, h) && ++g && d(a, e, f);
            });
            return g;
          };
          d.__iteratorUncached = function (d, e) {
            var f = this;
            if (e) return this.cacheResult().__iterator(d, e);
            var g = a.__iterator(B, e),
              h = !0;
            return new C(function () {
              if (!h) return E();
              var a = g.next();
              if (a.done) return a;
              var e = a.value,
                i = e[0];
              e = e[1];
              if (!b.call(c, e, i, f)) {
                h = !1;
                return E();
              }
              return d === B ? a : D(d, i, e, a);
            });
          };
          return d;
        }
        function nb(a, b, c, d) {
          var e = zb(a);
          e.__iterateUncached = function (e, f) {
            var g = this;
            if (f) return this.cacheResult().__iterate(e, f);
            var h = !0,
              i = 0;
            a.__iterate(function (a, f, j) {
              if (!(h && (h = b.call(c, a, f, j)))) {
                i++;
                return e(a, d ? f : i - 1, g);
              }
            });
            return i;
          };
          e.__iteratorUncached = function (e, f) {
            var g = this;
            if (f) return this.cacheResult().__iterator(e, f);
            var h = a.__iterator(B, f),
              i = !0,
              j = 0;
            return new C(function () {
              var a, f;
              do {
                a = h.next();
                if (a.done)
                  if (d || e === A) return a;
                  else if (e === ha) return D(e, j++, void 0, a);
                  else return D(e, j++, a.value[1], a);
                var k = a.value;
                f = k[0];
                k = k[1];
                i && (i = b.call(c, k, f, g));
              } while (i);
              return e === B ? a : D(e, f, k, a);
            });
          };
          return e;
        }
        function ob(a, b) {
          var c = y(a);
          b = [a]
            .concat(b)
            .map(function (a) {
              !x(a)
                ? (a = c ? ya(a) : za(Array.isArray(a) ? a : [a]))
                : c && (a = u(a));
              return a;
            })
            .filter(function (a) {
              return a.size !== 0;
            });
          if (b.length === 0) return a;
          if (b.length === 1) {
            var d = b[0];
            if (d === a || (c && y(d)) || (z(a) && z(d))) return d;
          }
          d = new ra(b);
          c ? (d = d.toKeyedSeq()) : z(a) || (d = d.toSetSeq());
          d = d.flatten(!0);
          d.size = b.reduce(function (a, b) {
            if (a !== void 0) {
              b = b.size;
              if (b !== void 0) return a + b;
            }
          }, 0);
          return d;
        }
        function pb(a, b, c) {
          var d = zb(a);
          d.__iterateUncached = function (d, e) {
            var f = 0,
              g = !1;
            function h(a, i) {
              var j = this;
              a.__iterate(function (a, e) {
                (!b || i < b) && x(a)
                  ? h(a, i + 1)
                  : d(a, c ? e : f++, j) === !1 && (g = !0);
                return !g;
              }, e);
            }
            h(a, 0);
            return f;
          };
          d.__iteratorUncached = function (d, e) {
            var f = a.__iterator(d, e),
              g = [],
              h = 0;
            return new C(function () {
              while (f) {
                var a = f.next();
                if (a.done !== !1) {
                  f = g.pop();
                  continue;
                }
                var i = a.value;
                d === B && (i = i[1]);
                if ((!b || g.length < b) && x(i))
                  g.push(f), (f = i.__iterator(d, e));
                else return c ? a : D(d, h++, i, a);
              }
              return E();
            });
          };
          return d;
        }
        function qb(a, b, c) {
          var d = yb(a);
          return a
            .toSeq()
            .map(function (e, f) {
              return d(b.call(c, e, f, a));
            })
            .flatten(!0);
        }
        function rb(a, b) {
          var c = zb(a);
          c.size = a.size && a.size * 2 - 1;
          c.__iterateUncached = function (c, d) {
            var e = this,
              f = 0;
            a.__iterate(function (a, d) {
              return (!f || c(b, f++, e) !== !1) && c(a, f++, e) !== !1;
            }, d);
            return f;
          };
          c.__iteratorUncached = function (c, d) {
            var e = a.__iterator(A, d),
              f = 0,
              g;
            return new C(function () {
              if (!g || f % 2) {
                g = e.next();
                if (g.done) return g;
              }
              return f % 2 ? D(c, f++, b) : D(c, f++, g.value, g);
            });
          };
          return c;
        }
        function sb(a, b, c) {
          b || (b = Bb);
          var d = y(a),
            e = 0,
            f = a
              .toSeq()
              .map(function (b, d) {
                return [d, b, e++, c ? c(b, d, a) : b];
              })
              .toArray();
          f.sort(function (a, c) {
            return b(a[3], c[3]) || a[2] - c[2];
          }).forEach(
            d
              ? function (a, b) {
                  f[b].length = 2;
                }
              : function (a, b) {
                  f[b] = a[1];
                },
          );
          return d ? G(f) : z(a) ? H(f) : I(f);
        }
        function tb(a, b, c) {
          b || (b = Bb);
          if (c) {
            var d = a
              .toSeq()
              .map(function (b, d) {
                return [b, c(b, d, a)];
              })
              .reduce(function (a, c) {
                return ub(b, a[1], c[1]) ? c : a;
              });
            return d && d[0];
          } else
            return a.reduce(function (a, c) {
              return ub(b, a, c) ? c : a;
            });
        }
        function ub(a, b, c) {
          a = a(c, b);
          return (
            (a === 0 && c !== b && (c === void 0 || c === null || c !== c)) ||
            a > 0
          );
        }
        function vb(a, b, c) {
          a = zb(a);
          a.size = new ra(c)
            .map(function (a) {
              return a.size;
            })
            .min();
          a.__iterate = function (a, b) {
            b = this.__iterator(A, b);
            var c,
              d = 0;
            while (!(c = b.next()).done)
              if (a(c.value, d++, this) === !1) break;
            return d;
          };
          a.__iteratorUncached = function (a, d) {
            var e = c.map(function (a) {
                return (a = t(a)), na(d ? a.reverse() : a);
              }),
              f = 0,
              g = !1;
            return new C(function () {
              var c;
              g ||
                ((c = e.map(function (a) {
                  return a.next();
                })),
                (g = c.some(function (a) {
                  return a.done;
                })));
              return g
                ? E()
                : D(
                    a,
                    f++,
                    b.apply(
                      null,
                      c.map(function (a) {
                        return a.value;
                      }),
                    ),
                  );
            });
          };
          return a;
        }
        function N(a, b) {
          return va(a) ? b : a.constructor(b);
        }
        function wb(a) {
          if (a !== Object(a))
            throw new TypeError('Expected [K, V] tuple: ' + a);
        }
        function xb(a) {
          L(a.size);
          return n(a);
        }
        function yb(a) {
          return y(a) ? u : z(a) ? v : w;
        }
        function zb(a) {
          return Object.create((y(a) ? G : z(a) ? H : I).prototype);
        }
        function Ab() {
          if (this._iter.cacheResult) {
            this._iter.cacheResult();
            this.size = this._iter.size;
            return this;
          } else return F.prototype.cacheResult.call(this);
        }
        function Bb(a, b) {
          return a > b ? 1 : a < b ? -1 : 0;
        }
        function Cb(a) {
          var b = na(a);
          if (!b) {
            if (!pa(a))
              throw new TypeError('Expected iterable or array-like: ' + a);
            b = na(t(a));
          }
          return b;
        }
        b(O, Fa);
        function O(a) {
          return a === null || a === void 0
            ? Pb()
            : Db(a)
            ? a
            : Pb().withMutations(function (b) {
                var c = u(a);
                L(c.size);
                c.forEach(function (a, c) {
                  return b.set(c, a);
                });
              });
        }
        O.prototype.toString = function () {
          return this.__toString('Map {', '}');
        };
        O.prototype.get = function (a, b) {
          return this._root ? this._root.get(0, void 0, a, b) : b;
        };
        O.prototype.set = function (a, b) {
          return Qb(this, a, b);
        };
        O.prototype.setIn = function (a, b) {
          return this.updateIn(a, g, function () {
            return b;
          });
        };
        O.prototype.remove = function (a) {
          return Qb(this, a, g);
        };
        O.prototype.deleteIn = function (a) {
          return this.updateIn(a, function () {
            return g;
          });
        };
        O.prototype.update = function (a, b, c) {
          return arguments.length === 1 ? a(this) : this.updateIn([a], b, c);
        };
        O.prototype.updateIn = function (a, b, c) {
          c || ((c = b), (b = void 0));
          a = $b(this, Cb(a), b, c);
          return a === g ? void 0 : a;
        };
        O.prototype.clear = function () {
          if (this.size === 0) return this;
          if (this.__ownerID) {
            this.size = 0;
            this._root = null;
            this.__hash = void 0;
            this.__altered = !0;
            return this;
          }
          return Pb();
        };
        O.prototype.merge = function () {
          return Xb(this, void 0, arguments);
        };
        O.prototype.mergeWith = function (b) {
          var c = a.call(arguments, 1);
          return Xb(this, b, c);
        };
        O.prototype.mergeIn = function (b) {
          var c = a.call(arguments, 1);
          return this.updateIn(b, Pb(), function (a) {
            return typeof a.merge === 'function'
              ? a.merge.apply(a, c)
              : c[c.length - 1];
          });
        };
        O.prototype.mergeDeep = function () {
          return Xb(this, Yb(void 0), arguments);
        };
        O.prototype.mergeDeepWith = function (b) {
          var c = a.call(arguments, 1);
          return Xb(this, Yb(b), c);
        };
        O.prototype.mergeDeepIn = function (b) {
          var c = a.call(arguments, 1);
          return this.updateIn(b, Pb(), function (a) {
            return typeof a.mergeDeep === 'function'
              ? a.mergeDeep.apply(a, c)
              : c[c.length - 1];
          });
        };
        O.prototype.sort = function (a) {
          return S(sb(this, a));
        };
        O.prototype.sortBy = function (a, b) {
          return S(sb(this, b, a));
        };
        O.prototype.withMutations = function (a) {
          var b = this.asMutable();
          a(b);
          return b.wasAltered() ? b.__ensureOwner(this.__ownerID) : this;
        };
        O.prototype.asMutable = function () {
          return this.__ownerID ? this : this.__ensureOwner(new l());
        };
        O.prototype.asImmutable = function () {
          return this.__ensureOwner();
        };
        O.prototype.wasAltered = function () {
          return this.__altered;
        };
        O.prototype.__iterator = function (a, b) {
          return new Kb(this, a, b);
        };
        O.prototype.__iterate = function (a, b) {
          var c = this,
            d = 0;
          this._root &&
            this._root.iterate(function (b) {
              d++;
              return a(b[1], b[0], c);
            }, b);
          return d;
        };
        O.prototype.__ensureOwner = function (a) {
          if (a === this.__ownerID) return this;
          if (!a) {
            this.__ownerID = a;
            this.__altered = !1;
            return this;
          }
          return Nb(this.size, this._root, a, this.__hash);
        };
        function Db(a) {
          return !!(a && a[Eb]);
        }
        O.isMap = Db;
        var Eb = '@@__IMMUTABLE_MAP__@@',
          P = O.prototype;
        P[Eb] = !0;
        P[c] = P.remove;
        P.removeIn = P.deleteIn;
        function Fb(a, b) {
          (this.ownerID = a), (this.entries = b);
        }
        Fb.prototype.get = function (a, b, c, d) {
          a = this.entries;
          for (var b = 0, e = a.length; b < e; b++)
            if (J(c, a[b][0])) return a[b][1];
          return d;
        };
        Fb.prototype.update = function (a, b, c, d, e, f, h) {
          b = e === g;
          c = this.entries;
          var i = 0;
          for (var j = c.length; i < j; i++) if (J(d, c[i][0])) break;
          var l = i < j;
          if (l ? c[i][1] === e : b) return this;
          k(h);
          (b || !l) && k(f);
          if (b && c.length === 1) return;
          if (!l && !b && c.length >= ec) return Ub(a, c, d, e);
          h = a && a === this.ownerID;
          f = h ? c : m(c);
          l
            ? b
              ? i === j - 1
                ? f.pop()
                : (f[i] = f.pop())
              : (f[i] = [d, e])
            : f.push([d, e]);
          if (h) {
            this.entries = f;
            return this;
          }
          return new Fb(a, f);
        };
        function Gb(a, b, c) {
          (this.ownerID = a), (this.bitmap = b), (this.nodes = c);
        }
        Gb.prototype.get = function (a, b, c, e) {
          b === void 0 && (b = K(c));
          var g = 1 << ((a === 0 ? b : b >>> a) & f),
            h = this.bitmap;
          return (h & g) === 0
            ? e
            : this.nodes[ac(h & (g - 1))].get(a + d, b, c, e);
        };
        Gb.prototype.update = function (a, b, c, e, h, i, j) {
          c === void 0 && (c = K(e));
          var k = (b === 0 ? c : c >>> b) & f,
            l = 1 << k,
            m = this.bitmap,
            n = (m & l) !== 0;
          if (!n && h === g) return this;
          var o = ac(m & (l - 1)),
            p = this.nodes,
            q = n ? p[o] : void 0;
          b = Rb(q, a, b + d, c, e, h, i, j);
          if (b === q) return this;
          if (!n && b && p.length >= fc) return Wb(a, p, m, k, b);
          if (n && !b && p.length === 2 && Sb(p[o ^ 1])) return p[o ^ 1];
          if (n && b && p.length === 1 && Sb(b)) return b;
          c = a && a === this.ownerID;
          e = n ? (b ? m : m ^ l) : m | l;
          h = n ? (b ? bc(p, o, b, c) : dc(p, o, c)) : cc(p, o, b, c);
          if (c) {
            this.bitmap = e;
            this.nodes = h;
            return this;
          }
          return new Gb(a, e, h);
        };
        function Hb(a, b, c) {
          (this.ownerID = a), (this.count = b), (this.nodes = c);
        }
        Hb.prototype.get = function (a, b, c, e) {
          b === void 0 && (b = K(c));
          var g = (a === 0 ? b : b >>> a) & f;
          g = this.nodes[g];
          return g ? g.get(a + d, b, c, e) : e;
        };
        Hb.prototype.update = function (a, b, c, e, h, i, j) {
          c === void 0 && (c = K(e));
          var k = (b === 0 ? c : c >>> b) & f,
            l = h === g,
            m = this.nodes,
            n = m[k];
          if (l && !n) return this;
          l = Rb(n, a, b + d, c, e, h, i, j);
          if (l === n) return this;
          b = this.count;
          if (!n) b++;
          else if (!l) {
            b--;
            if (b < gc) return Vb(a, m, b, k);
          }
          c = a && a === this.ownerID;
          e = bc(m, k, l, c);
          if (c) {
            this.count = b;
            this.nodes = e;
            return this;
          }
          return new Hb(a, b, e);
        };
        function Ib(a, b, c) {
          (this.ownerID = a), (this.keyHash = b), (this.entries = c);
        }
        Ib.prototype.get = function (a, b, c, d) {
          a = this.entries;
          for (var b = 0, e = a.length; b < e; b++)
            if (J(c, a[b][0])) return a[b][1];
          return d;
        };
        Ib.prototype.update = function (a, b, c, d, e, f, h) {
          c === void 0 && (c = K(d));
          var i = e === g;
          if (c !== this.keyHash) {
            if (i) return this;
            k(h);
            k(f);
            return Tb(this, a, b, c, [d, e]);
          }
          b = this.entries;
          c = 0;
          for (var j = b.length; c < j; c++) if (J(d, b[c][0])) break;
          var l = c < j;
          if (l ? b[c][1] === e : i) return this;
          k(h);
          (i || !l) && k(f);
          if (i && j === 2) return new Jb(a, this.keyHash, b[c ^ 1]);
          h = a && a === this.ownerID;
          f = h ? b : m(b);
          l
            ? i
              ? c === j - 1
                ? f.pop()
                : (f[c] = f.pop())
              : (f[c] = [d, e])
            : f.push([d, e]);
          if (h) {
            this.entries = f;
            return this;
          }
          return new Ib(a, this.keyHash, f);
        };
        function Jb(a, b, c) {
          (this.ownerID = a), (this.keyHash = b), (this.entry = c);
        }
        Jb.prototype.get = function (a, b, c, d) {
          return J(c, this.entry[0]) ? this.entry[1] : d;
        };
        Jb.prototype.update = function (a, b, c, d, e, f, h) {
          c = e === g;
          var i = J(d, this.entry[0]);
          if (i ? e === this.entry[1] : c) return this;
          k(h);
          if (c) {
            k(f);
            return;
          }
          if (i) {
            if (a && a === this.ownerID) {
              this.entry[1] = e;
              return this;
            }
            return new Jb(a, this.keyHash, [d, e]);
          }
          k(f);
          return Tb(this, a, b, K(d), [d, e]);
        };
        Fb.prototype.iterate = Ib.prototype.iterate = function (a, b) {
          var c = this.entries;
          for (var d = 0, e = c.length - 1; d <= e; d++)
            if (a(c[b ? e - d : d]) === !1) return !1;
        };
        Gb.prototype.iterate = Hb.prototype.iterate = function (a, b) {
          var c = this.nodes;
          for (var d = 0, e = c.length - 1; d <= e; d++) {
            var f = c[b ? e - d : d];
            if (f && f.iterate(a, b) === !1) return !1;
          }
        };
        Jb.prototype.iterate = function (a, b) {
          return a(this.entry);
        };
        b(Kb, C);
        function Kb(a, b, c) {
          (this._type = b),
            (this._reverse = c),
            (this._stack = a._root && Mb(a._root));
        }
        Kb.prototype.next = function () {
          var a = this._type,
            b = this._stack;
          while (b) {
            var c = b.node,
              d = b.index++,
              e;
            if (c.entry) {
              if (d === 0) return Lb(a, c.entry);
            } else if (c.entries) {
              e = c.entries.length - 1;
              if (d <= e) return Lb(a, c.entries[this._reverse ? e - d : d]);
            } else {
              e = c.nodes.length - 1;
              if (d <= e) {
                c = c.nodes[this._reverse ? e - d : d];
                if (c) {
                  if (c.entry) return Lb(a, c.entry);
                  b = this._stack = Mb(c, b);
                }
                continue;
              }
            }
            b = this._stack = this._stack.__prev;
          }
          return E();
        };
        function Lb(a, b) {
          return D(a, b[0], b[1]);
        }
        function Mb(a, b) {
          return { node: a, index: 0, __prev: b };
        }
        function Nb(b, c, d, a) {
          var e = Object.create(P);
          e.size = b;
          e._root = c;
          e.__ownerID = d;
          e.__hash = a;
          e.__altered = !1;
          return e;
        }
        var Ob;
        function Pb() {
          return Ob || (Ob = Nb(0));
        }
        function Qb(a, b, c) {
          var d, e;
          if (!a._root) {
            if (c === g) return a;
            e = 1;
            d = new Fb(a.__ownerID, [[b, c]]);
          } else {
            var f = j(h),
              k = j(i);
            d = Rb(a._root, a.__ownerID, 0, void 0, b, c, f, k);
            if (!k.value) return a;
            e = a.size + (f.value ? (c === g ? -1 : 1) : 0);
          }
          if (a.__ownerID) {
            a.size = e;
            a._root = d;
            a.__hash = void 0;
            a.__altered = !0;
            return a;
          }
          return d ? Nb(e, d) : Pb();
        }
        function Rb(a, b, c, d, e, f, h, i) {
          if (!a) {
            if (f === g) return a;
            k(i);
            k(h);
            return new Jb(b, d, [e, f]);
          }
          return a.update(b, c, d, e, f, h, i);
        }
        function Sb(a) {
          return a.constructor === Jb || a.constructor === Ib;
        }
        function Tb(a, b, c, e, g) {
          if (a.keyHash === e) return new Ib(b, e, [a.entry, g]);
          var h = (c === 0 ? a.keyHash : a.keyHash >>> c) & f,
            i = (c === 0 ? e : e >>> c) & f;
          e =
            h === i
              ? [Tb(a, b, c + d, e, g)]
              : ((c = new Jb(b, e, g)), h < i ? [a, c] : [c, a]);
          return new Gb(b, (1 << h) | (1 << i), e);
        }
        function Ub(a, b, c, d) {
          a || (a = new l());
          c = new Jb(a, K(c), [c, d]);
          for (d = 0; d < b.length; d++) {
            var e = b[d];
            c = c.update(a, 0, void 0, e[0], e[1]);
          }
          return c;
        }
        function Vb(a, b, c, d) {
          var e = 0,
            f = 0;
          c = new Array(c);
          for (var g = 0, h = 1, i = b.length; g < i; g++, h <<= 1) {
            var j = b[g];
            j !== void 0 && g !== d && ((e |= h), (c[f++] = j));
          }
          return new Gb(a, e, c);
        }
        function Wb(a, b, c, d, f) {
          var g = 0,
            h = new Array(e);
          for (var i = 0; c !== 0; i++, c >>>= 1)
            h[i] = c & 1 ? b[g++] : void 0;
          h[d] = f;
          return new Hb(a, g + 1, h);
        }
        function Xb(a, b, c) {
          var d = [];
          for (var e = 0; e < c.length; e++) {
            var f = c[e],
              g = u(f);
            x(f) ||
              (g = g.map(function (a) {
                return Ia(a);
              }));
            d.push(g);
          }
          return Zb(a, b, d);
        }
        function Yb(a) {
          return function (b, c, d) {
            return b && b.mergeDeepWith && x(c)
              ? b.mergeDeepWith(a, c)
              : a
              ? a(b, c, d)
              : c;
          };
        }
        function Zb(a, b, c) {
          c = c.filter(function (a) {
            return a.size !== 0;
          });
          if (c.length === 0) return a;
          return a.size === 0 && !a.__ownerID && c.length === 1
            ? a.constructor(c[0])
            : a.withMutations(function (a) {
                var d = b
                  ? function (c, d) {
                      a.update(d, g, function (a) {
                        return a === g ? c : b(a, c, d);
                      });
                    }
                  : function (b, c) {
                      a.set(c, b);
                    };
                for (var e = 0; e < c.length; e++) c[e].forEach(d);
              });
        }
        function $b(a, b, c, d) {
          var e = a === g,
            f = b.next();
          if (f.done) {
            var h = e ? c : a,
              i = d(h);
            return i === h ? a : i;
          }
          bb(e || (a && a.set), 'invalid keyPath');
          h = f.value;
          i = e ? g : a.get(h, g);
          f = $b(i, b, c, d);
          return f === i ? a : f === g ? a.remove(h) : (e ? Pb() : a).set(h, f);
        }
        function ac(a) {
          a = a - ((a >> 1) & 1431655765);
          a = (a & 858993459) + ((a >> 2) & 858993459);
          a = (a + (a >> 4)) & 252645135;
          a = a + (a >> 8);
          a = a + (a >> 16);
          return a & 127;
        }
        function bc(a, b, c, d) {
          d = d ? a : m(a);
          d[b] = c;
          return d;
        }
        function cc(a, b, c, d) {
          var e = a.length + 1;
          if (d && b + 1 === e) {
            a[b] = c;
            return a;
          }
          d = new Array(e);
          var f = 0;
          for (var g = 0; g < e; g++)
            g === b ? ((d[g] = c), (f = -1)) : (d[g] = a[g + f]);
          return d;
        }
        function dc(a, b, c) {
          var d = a.length - 1;
          if (c && b === d) {
            a.pop();
            return a;
          }
          c = new Array(d);
          var e = 0;
          for (var f = 0; f < d; f++) f === b && (e = 1), (c[f] = a[f + e]);
          return c;
        }
        var ec = e / 4,
          fc = e / 2,
          gc = e / 4;
        b(Q, Ga);
        function Q(a) {
          var b = oc();
          if (a === null || a === void 0) return b;
          if (hc(a)) return a;
          var c = v(a),
            f = c.size;
          if (f === 0) return b;
          L(f);
          return f > 0 && f < e
            ? mc(0, f, d, null, new jc(c.toArray()))
            : b.withMutations(function (a) {
                a.setSize(f),
                  c.forEach(function (b, c) {
                    return a.set(c, b);
                  });
              });
        }
        Q.of = function () {
          return this(arguments);
        };
        Q.prototype.toString = function () {
          return this.__toString('List [', ']');
        };
        Q.prototype.get = function (a, b) {
          a = o(this, a);
          if (a < 0 || a >= this.size) return b;
          a += this._origin;
          b = sc(this, a);
          return b && b.array[a & f];
        };
        Q.prototype.set = function (a, b) {
          return pc(this, a, b);
        };
        Q.prototype.remove = function (a) {
          return this.has(a)
            ? a === 0
              ? this.shift()
              : a === this.size - 1
              ? this.pop()
              : this.splice(a, 1)
            : this;
        };
        Q.prototype.clear = function () {
          if (this.size === 0) return this;
          if (this.__ownerID) {
            this.size = this._origin = this._capacity = 0;
            this._level = d;
            this._root = this._tail = null;
            this.__hash = void 0;
            this.__altered = !0;
            return this;
          }
          return oc();
        };
        Q.prototype.push = function () {
          var a = arguments,
            b = this.size;
          return this.withMutations(function (c) {
            tc(c, 0, b + a.length);
            for (var d = 0; d < a.length; d++) c.set(b + d, a[d]);
          });
        };
        Q.prototype.pop = function () {
          return tc(this, 0, -1);
        };
        Q.prototype.unshift = function () {
          var a = arguments;
          return this.withMutations(function (b) {
            tc(b, -a.length);
            for (var c = 0; c < a.length; c++) b.set(c, a[c]);
          });
        };
        Q.prototype.shift = function () {
          return tc(this, 1);
        };
        Q.prototype.merge = function () {
          return uc(this, void 0, arguments);
        };
        Q.prototype.mergeWith = function (b) {
          var c = a.call(arguments, 1);
          return uc(this, b, c);
        };
        Q.prototype.mergeDeep = function () {
          return uc(this, Yb(void 0), arguments);
        };
        Q.prototype.mergeDeepWith = function (b) {
          var c = a.call(arguments, 1);
          return uc(this, Yb(b), c);
        };
        Q.prototype.setSize = function (a) {
          return tc(this, 0, a);
        };
        Q.prototype.slice = function (a, b) {
          var c = this.size;
          return q(a, b, c) ? this : tc(this, r(a, c), s(b, c));
        };
        Q.prototype.__iterator = function (a, b) {
          var c = 0,
            d = lc(this, b);
          return new C(function () {
            var b = d();
            return b === kc ? E() : D(a, c++, b);
          });
        };
        Q.prototype.__iterate = function (a, b) {
          var c = 0;
          b = lc(this, b);
          var d;
          while ((d = b()) !== kc) if (a(d, c++, this) === !1) break;
          return c;
        };
        Q.prototype.__ensureOwner = function (a) {
          if (a === this.__ownerID) return this;
          if (!a) {
            this.__ownerID = a;
            return this;
          }
          return mc(
            this._origin,
            this._capacity,
            this._level,
            this._root,
            this._tail,
            a,
            this.__hash,
          );
        };
        function hc(a) {
          return !!(a && a[ic]);
        }
        Q.isList = hc;
        var ic = '@@__IMMUTABLE_LIST__@@',
          R = Q.prototype;
        R[ic] = !0;
        R[c] = R.remove;
        R.setIn = P.setIn;
        R.deleteIn = R.removeIn = P.removeIn;
        R.update = P.update;
        R.updateIn = P.updateIn;
        R.mergeIn = P.mergeIn;
        R.mergeDeepIn = P.mergeDeepIn;
        R.withMutations = P.withMutations;
        R.asMutable = P.asMutable;
        R.asImmutable = P.asImmutable;
        R.wasAltered = P.wasAltered;
        function jc(a, b) {
          (this.array = a), (this.ownerID = b);
        }
        jc.prototype.removeBefore = function (a, b, c) {
          if (c === b ? 1 << b : this.array.length === 0) return this;
          var e = (c >>> b) & f;
          if (e >= this.array.length) return new jc([], a);
          var g = e === 0,
            h;
          if (b > 0) {
            var i = this.array[e];
            h = i && i.removeBefore(a, b - d, c);
            if (h === i && g) return this;
          }
          if (g && !h) return this;
          b = rc(this, a);
          if (!g) for (c = 0; c < e; c++) b.array[c] = void 0;
          h && (b.array[e] = h);
          return b;
        };
        jc.prototype.removeAfter = function (a, b, c) {
          if (c === b ? 1 << b : this.array.length === 0) return this;
          var e = ((c - 1) >>> b) & f;
          if (e >= this.array.length) return this;
          var g = e === this.array.length - 1,
            h;
          if (b > 0) {
            var i = this.array[e];
            h = i && i.removeAfter(a, b - d, c);
            if (h === i && g) return this;
          }
          if (g && !h) return this;
          b = rc(this, a);
          g || b.array.pop();
          h && (b.array[e] = h);
          return b;
        };
        var kc = {};
        function lc(a, b) {
          var c = a._origin,
            f = a._capacity,
            g = vc(f),
            h = a._tail;
          return i(a._root, a._level, 0);
          function i(a, b, c) {
            return b === 0 ? j(a, c) : k(a, b, c);
          }
          function j(a, d) {
            var i = d === g ? h && h.array : a && a.array,
              j = d > c ? 0 : c - d,
              k = f - d;
            k > e && (k = e);
            return function () {
              if (j === k) return kc;
              var a = b ? --k : j++;
              return i && i[a];
            };
          }
          function k(a, g, h) {
            var j,
              k = a && a.array,
              l = h > c ? 0 : (c - h) >> g,
              m = ((f - h) >> g) + 1;
            m > e && (m = e);
            return function () {
              do {
                if (j) {
                  var a = j();
                  if (a !== kc) return a;
                  j = null;
                }
                if (l === m) return kc;
                a = b ? --m : l++;
                j = i(k && k[a], g - d, h + (a << g));
              } while (!0);
            };
          }
        }
        function mc(b, c, d, e, f, g, a) {
          var h = Object.create(R);
          h.size = c - b;
          h._origin = b;
          h._capacity = c;
          h._level = d;
          h._root = e;
          h._tail = f;
          h.__ownerID = g;
          h.__hash = a;
          h.__altered = !1;
          return h;
        }
        var nc;
        function oc() {
          return nc || (nc = mc(0, 0, d));
        }
        function pc(a, b, c) {
          b = o(a, b);
          if (b >= a.size || b < 0)
            return a.withMutations(function (a) {
              b < 0 ? tc(a, b).set(0, c) : tc(a, 0, b + 1).set(b, c);
            });
          b += a._origin;
          var d = a._tail,
            e = a._root,
            f = j(i);
          b >= vc(a._capacity)
            ? (d = qc(d, a.__ownerID, 0, b, c, f))
            : (e = qc(e, a.__ownerID, a._level, b, c, f));
          if (!f.value) return a;
          if (a.__ownerID) {
            a._root = e;
            a._tail = d;
            a.__hash = void 0;
            a.__altered = !0;
            return a;
          }
          return mc(a._origin, a._capacity, a._level, e, d);
        }
        function qc(a, b, c, e, g, h) {
          var i = (e >>> c) & f,
            j = a && i < a.array.length;
          if (!j && g === void 0) return a;
          if (c > 0) {
            var l = a && a.array[i];
            c = qc(l, b, c - d, e, g, h);
            if (c === l) return a;
            e = rc(a, b);
            e.array[i] = c;
            return e;
          }
          if (j && a.array[i] === g) return a;
          k(h);
          e = rc(a, b);
          g === void 0 && i === e.array.length - 1
            ? e.array.pop()
            : (e.array[i] = g);
          return e;
        }
        function rc(a, b) {
          return b && a && b === a.ownerID
            ? a
            : new jc(a ? a.array.slice() : [], b);
        }
        function sc(a, b) {
          if (b >= vc(a._capacity)) return a._tail;
          if (b < 1 << (a._level + d)) {
            var c = a._root;
            a = a._level;
            while (c && a > 0) (c = c.array[(b >>> a) & f]), (a -= d);
            return c;
          }
        }
        function tc(a, b, c) {
          var e = a.__ownerID || new l(),
            g = a._origin,
            h = a._capacity;
          b = g + b;
          c = c === void 0 ? h : c < 0 ? h + c : g + c;
          if (b === g && c === h) return a;
          if (b >= c) return a.clear();
          var i = a._level,
            j = a._root,
            k = 0;
          while (b + k < 0)
            (j = new jc(j && j.array.length ? [void 0, j] : [], e)),
              (i += d),
              (k += 1 << i);
          k && ((b += k), (g += k), (c += k), (h += k));
          var m = vc(h),
            n = vc(c);
          while (n >= 1 << (i + d))
            (j = new jc(j && j.array.length ? [j] : [], e)), (i += d);
          var o = a._tail,
            p = n < m ? sc(a, c - 1) : n > m ? new jc([], e) : o;
          if (o && n > m && b < h && o.array.length) {
            j = rc(j, e);
            var q = j;
            for (var r = i; r > d; r -= d) {
              var s = (m >>> r) & f;
              q = q.array[s] = rc(q.array[s], e);
            }
            q.array[(m >>> d) & f] = o;
          }
          c < h && (p = p && p.removeAfter(e, 0, c));
          if (b >= n)
            (b -= n),
              (c -= n),
              (i = d),
              (j = null),
              (p = p && p.removeBefore(e, 0, b));
          else if (b > g || n < m) {
            k = 0;
            while (j) {
              s = (b >>> i) & f;
              if ((s !== n >>> i) & f) break;
              s && (k += (1 << i) * s);
              i -= d;
              j = j.array[s];
            }
            j && b > g && (j = j.removeBefore(e, i, b - k));
            j && n < m && (j = j.removeAfter(e, i, n - k));
            k && ((b -= k), (c -= k));
          }
          if (a.__ownerID) {
            a.size = c - b;
            a._origin = b;
            a._capacity = c;
            a._level = i;
            a._root = j;
            a._tail = p;
            a.__hash = void 0;
            a.__altered = !0;
            return a;
          }
          return mc(b, c, i, j, p);
        }
        function uc(a, b, c) {
          var d = [],
            e = 0;
          for (var f = 0; f < c.length; f++) {
            var g = c[f],
              h = v(g);
            h.size > e && (e = h.size);
            x(g) ||
              (h = h.map(function (a) {
                return Ia(a);
              }));
            d.push(h);
          }
          e > a.size && (a = a.setSize(e));
          return Zb(a, b, d);
        }
        function vc(a) {
          return a < e ? 0 : ((a - 1) >>> d) << d;
        }
        b(S, O);
        function S(a) {
          return a === null || a === void 0
            ? zc()
            : wc(a)
            ? a
            : zc().withMutations(function (b) {
                var c = u(a);
                L(c.size);
                c.forEach(function (a, c) {
                  return b.set(c, a);
                });
              });
        }
        S.of = function () {
          return this(arguments);
        };
        S.prototype.toString = function () {
          return this.__toString('OrderedMap {', '}');
        };
        S.prototype.get = function (a, b) {
          a = this._map.get(a);
          return a !== void 0 ? this._list.get(a)[1] : b;
        };
        S.prototype.clear = function () {
          if (this.size === 0) return this;
          if (this.__ownerID) {
            this.size = 0;
            this._map.clear();
            this._list.clear();
            return this;
          }
          return zc();
        };
        S.prototype.set = function (a, b) {
          return Ac(this, a, b);
        };
        S.prototype.remove = function (a) {
          return Ac(this, a, g);
        };
        S.prototype.wasAltered = function () {
          return this._map.wasAltered() || this._list.wasAltered();
        };
        S.prototype.__iterate = function (a, b) {
          var c = this;
          return this._list.__iterate(function (b) {
            return b && a(b[1], b[0], c);
          }, b);
        };
        S.prototype.__iterator = function (a, b) {
          return this._list.fromEntrySeq().__iterator(a, b);
        };
        S.prototype.__ensureOwner = function (a) {
          if (a === this.__ownerID) return this;
          var b = this._map.__ensureOwner(a),
            c = this._list.__ensureOwner(a);
          if (!a) {
            this.__ownerID = a;
            this._map = b;
            this._list = c;
            return this;
          }
          return xc(b, c, a, this.__hash);
        };
        function wc(a) {
          return Db(a) && ca(a);
        }
        S.isOrderedMap = wc;
        S.prototype[ga] = !0;
        S.prototype[c] = S.prototype.remove;
        function xc(b, c, d, a) {
          var e = Object.create(S.prototype);
          e.size = b ? b.size : 0;
          e._map = b;
          e._list = c;
          e.__ownerID = d;
          e.__hash = a;
          return e;
        }
        var yc;
        function zc() {
          return yc || (yc = xc(Pb(), oc()));
        }
        function Ac(a, b, c) {
          var d = a._map,
            f = a._list,
            h = d.get(b),
            i = h !== void 0,
            j,
            k;
          if (c === g) {
            if (!i) return a;
            f.size >= e && f.size >= d.size * 2
              ? ((k = f.filter(function (a, b) {
                  return a !== void 0 && h !== b;
                })),
                (j = k
                  .toKeyedSeq()
                  .map(function (a) {
                    return a[0];
                  })
                  .flip()
                  .toMap()),
                a.__ownerID && (j.__ownerID = k.__ownerID = a.__ownerID))
              : ((j = d.remove(b)),
                (k = h === f.size - 1 ? f.pop() : f.set(h, void 0)));
          } else if (i) {
            if (c === f.get(h)[1]) return a;
            j = d;
            k = f.set(h, [b, c]);
          } else (j = d.set(b, f.size)), (k = f.set(f.size, [b, c]));
          if (a.__ownerID) {
            a.size = j.size;
            a._map = j;
            a._list = k;
            a.__hash = void 0;
            return a;
          }
          return xc(j, k);
        }
        b(T, Ga);
        function T(a) {
          return a === null || a === void 0
            ? Gc()
            : Bc(a)
            ? a
            : Gc().unshiftAll(a);
        }
        T.of = function () {
          return this(arguments);
        };
        T.prototype.toString = function () {
          return this.__toString('Stack [', ']');
        };
        T.prototype.get = function (a, b) {
          var c = this._head;
          a = o(this, a);
          while (c && a--) c = c.next;
          return c ? c.value : b;
        };
        T.prototype.peek = function () {
          return this._head && this._head.value;
        };
        T.prototype.push = function () {
          if (arguments.length === 0) return this;
          var a = this.size + arguments.length,
            b = this._head;
          for (var c = arguments.length - 1; c >= 0; c--)
            b = { value: arguments[c], next: b };
          if (this.__ownerID) {
            this.size = a;
            this._head = b;
            this.__hash = void 0;
            this.__altered = !0;
            return this;
          }
          return Ec(a, b);
        };
        T.prototype.pushAll = function (a) {
          a = v(a);
          if (a.size === 0) return this;
          L(a.size);
          var b = this.size,
            c = this._head;
          a.reverse().forEach(function (a) {
            b++, (c = { value: a, next: c });
          });
          if (this.__ownerID) {
            this.size = b;
            this._head = c;
            this.__hash = void 0;
            this.__altered = !0;
            return this;
          }
          return Ec(b, c);
        };
        T.prototype.pop = function () {
          return this.slice(1);
        };
        T.prototype.unshift = function () {
          return this.push.apply(this, arguments);
        };
        T.prototype.unshiftAll = function (a) {
          return this.pushAll(a);
        };
        T.prototype.shift = function () {
          return this.pop.apply(this, arguments);
        };
        T.prototype.clear = function () {
          if (this.size === 0) return this;
          if (this.__ownerID) {
            this.size = 0;
            this._head = void 0;
            this.__hash = void 0;
            this.__altered = !0;
            return this;
          }
          return Gc();
        };
        T.prototype.slice = function (a, b) {
          if (q(a, b, this.size)) return this;
          var c = r(a, this.size),
            d = s(b, this.size);
          if (d !== this.size) return Ga.prototype.slice.call(this, a, b);
          d = this.size - c;
          a = this._head;
          while (c--) a = a.next;
          if (this.__ownerID) {
            this.size = d;
            this._head = a;
            this.__hash = void 0;
            this.__altered = !0;
            return this;
          }
          return Ec(d, a);
        };
        T.prototype.__ensureOwner = function (a) {
          if (a === this.__ownerID) return this;
          if (!a) {
            this.__ownerID = a;
            this.__altered = !1;
            return this;
          }
          return Ec(this.size, this._head, a, this.__hash);
        };
        T.prototype.__iterate = function (a, b) {
          if (b) return this.reverse().__iterate(a);
          b = 0;
          var c = this._head;
          while (c) {
            if (a(c.value, b++, this) === !1) break;
            c = c.next;
          }
          return b;
        };
        T.prototype.__iterator = function (a, b) {
          if (b) return this.reverse().__iterator(a);
          var c = 0,
            d = this._head;
          return new C(function () {
            if (d) {
              var b = d.value;
              d = d.next;
              return D(a, c++, b);
            }
            return E();
          });
        };
        function Bc(a) {
          return !!(a && a[Cc]);
        }
        T.isStack = Bc;
        var Cc = '@@__IMMUTABLE_STACK__@@',
          Dc = T.prototype;
        Dc[Cc] = !0;
        Dc.withMutations = P.withMutations;
        Dc.asMutable = P.asMutable;
        Dc.asImmutable = P.asImmutable;
        Dc.wasAltered = P.wasAltered;
        function Ec(b, c, d, a) {
          var e = Object.create(Dc);
          e.size = b;
          e._head = c;
          e.__ownerID = d;
          e.__hash = a;
          e.__altered = !1;
          return e;
        }
        var Fc;
        function Gc() {
          return Fc || (Fc = Ec(0));
        }
        b(U, Ha);
        function U(a) {
          return a === null || a === void 0
            ? Mc()
            : Hc(a)
            ? a
            : Mc().withMutations(function (b) {
                var c = w(a);
                L(c.size);
                c.forEach(function (a) {
                  return b.add(a);
                });
              });
        }
        U.of = function () {
          return this(arguments);
        };
        U.fromKeys = function (a) {
          return this(u(a).keySeq());
        };
        U.prototype.toString = function () {
          return this.__toString('Set {', '}');
        };
        U.prototype.has = function (a) {
          return this._map.has(a);
        };
        U.prototype.add = function (a) {
          return Jc(this, this._map.set(a, !0));
        };
        U.prototype.remove = function (a) {
          return Jc(this, this._map.remove(a));
        };
        U.prototype.clear = function () {
          return Jc(this, this._map.clear());
        };
        U.prototype.union = function () {
          var b = a.call(arguments, 0);
          b = b.filter(function (a) {
            return a.size !== 0;
          });
          if (b.length === 0) return this;
          return this.size === 0 && !this.__ownerID && b.length === 1
            ? this.constructor(b[0])
            : this.withMutations(function (a) {
                for (var c = 0; c < b.length; c++)
                  w(b[c]).forEach(function (b) {
                    return a.add(b);
                  });
              });
        };
        U.prototype.intersect = function () {
          var b = a.call(arguments, 0);
          if (b.length === 0) return this;
          b = b.map(function (a) {
            return w(a);
          });
          var c = this;
          return this.withMutations(function (a) {
            c.forEach(function (c) {
              b.every(function (a) {
                return a.includes(c);
              }) || a.remove(c);
            });
          });
        };
        U.prototype.subtract = function () {
          var b = a.call(arguments, 0);
          if (b.length === 0) return this;
          b = b.map(function (a) {
            return w(a);
          });
          var c = this;
          return this.withMutations(function (a) {
            c.forEach(function (c) {
              b.some(function (a) {
                return a.includes(c);
              }) && a.remove(c);
            });
          });
        };
        U.prototype.merge = function () {
          return this.union.apply(this, arguments);
        };
        U.prototype.mergeWith = function (b) {
          var c = a.call(arguments, 1);
          return this.union.apply(this, c);
        };
        U.prototype.sort = function (a) {
          return Nc(sb(this, a));
        };
        U.prototype.sortBy = function (a, b) {
          return Nc(sb(this, b, a));
        };
        U.prototype.wasAltered = function () {
          return this._map.wasAltered();
        };
        U.prototype.__iterate = function (a, b) {
          var c = this;
          return this._map.__iterate(function (b, d) {
            return a(d, d, c);
          }, b);
        };
        U.prototype.__iterator = function (a, b) {
          return this._map
            .map(function (a, b) {
              return b;
            })
            .__iterator(a, b);
        };
        U.prototype.__ensureOwner = function (a) {
          if (a === this.__ownerID) return this;
          var b = this._map.__ensureOwner(a);
          if (!a) {
            this.__ownerID = a;
            this._map = b;
            return this;
          }
          return this.__make(b, a);
        };
        function Hc(a) {
          return !!(a && a[Ic]);
        }
        U.isSet = Hc;
        var Ic = '@@__IMMUTABLE_SET__@@',
          V = U.prototype;
        V[Ic] = !0;
        V[c] = V.remove;
        V.mergeDeep = V.merge;
        V.mergeDeepWith = V.mergeWith;
        V.withMutations = P.withMutations;
        V.asMutable = P.asMutable;
        V.asImmutable = P.asImmutable;
        V.__empty = Mc;
        V.__make = Kc;
        function Jc(a, b) {
          if (a.__ownerID) {
            a.size = b.size;
            a._map = b;
            return a;
          }
          return b === a._map ? a : b.size === 0 ? a.__empty() : a.__make(b);
        }
        function Kc(a, b) {
          var c = Object.create(V);
          c.size = a ? a.size : 0;
          c._map = a;
          c.__ownerID = b;
          return c;
        }
        var Lc;
        function Mc() {
          return Lc || (Lc = Kc(Pb()));
        }
        b(Nc, U);
        function Nc(a) {
          return a === null || a === void 0
            ? Sc()
            : Oc(a)
            ? a
            : Sc().withMutations(function (b) {
                var c = w(a);
                L(c.size);
                c.forEach(function (a) {
                  return b.add(a);
                });
              });
        }
        Nc.of = function () {
          return this(arguments);
        };
        Nc.fromKeys = function (a) {
          return this(u(a).keySeq());
        };
        Nc.prototype.toString = function () {
          return this.__toString('OrderedSet {', '}');
        };
        function Oc(a) {
          return Hc(a) && ca(a);
        }
        Nc.isOrderedSet = Oc;
        var Pc = Nc.prototype;
        Pc[ga] = !0;
        Pc.__empty = Sc;
        Pc.__make = Qc;
        function Qc(a, b) {
          var c = Object.create(Pc);
          c.size = a ? a.size : 0;
          c._map = a;
          c.__ownerID = b;
          return c;
        }
        var Rc;
        function Sc() {
          return Rc || (Rc = Qc(zc()));
        }
        b(W, Fa);
        function W(a, b) {
          var c,
            d = function (f) {
              if (f instanceof d) return f;
              if (!(this instanceof d)) return new d(f);
              if (!c) {
                c = !0;
                var g = Object.keys(a);
                Vc(e, g);
                e.size = g.length;
                e._name = b;
                e._keys = g;
                e._defaultValues = a;
              }
              this._map = O(f);
            },
            e = (d.prototype = Object.create(X));
          e.constructor = d;
          return d;
        }
        W.prototype.toString = function () {
          return this.__toString(Uc(this) + ' {', '}');
        };
        W.prototype.has = function (a) {
          return this._defaultValues.hasOwnProperty(a);
        };
        W.prototype.get = function (a, b) {
          if (!this.has(a)) return b;
          b = this._defaultValues[a];
          return this._map ? this._map.get(a, b) : b;
        };
        W.prototype.clear = function () {
          if (this.__ownerID) {
            this._map && this._map.clear();
            return this;
          }
          var a = this.constructor;
          return a._empty || (a._empty = Tc(this, Pb()));
        };
        W.prototype.set = function (a, b) {
          if (!this.has(a))
            throw new Error(
              'Cannot set unknown key "' + a + '" on ' + Uc(this),
            );
          a = this._map && this._map.set(a, b);
          return this.__ownerID || a === this._map ? this : Tc(this, a);
        };
        W.prototype.remove = function (a) {
          if (!this.has(a)) return this;
          a = this._map && this._map.remove(a);
          return this.__ownerID || a === this._map ? this : Tc(this, a);
        };
        W.prototype.wasAltered = function () {
          return this._map.wasAltered();
        };
        W.prototype.__iterator = function (a, b) {
          var c = this;
          return u(this._defaultValues)
            .map(function (a, b) {
              return c.get(b);
            })
            .__iterator(a, b);
        };
        W.prototype.__iterate = function (a, b) {
          var c = this;
          return u(this._defaultValues)
            .map(function (a, b) {
              return c.get(b);
            })
            .__iterate(a, b);
        };
        W.prototype.__ensureOwner = function (a) {
          if (a === this.__ownerID) return this;
          var b = this._map && this._map.__ensureOwner(a);
          if (!a) {
            this.__ownerID = a;
            this._map = b;
            return this;
          }
          return Tc(this, b, a);
        };
        var X = W.prototype;
        X[c] = X.remove;
        X.deleteIn = X.removeIn = P.removeIn;
        X.merge = P.merge;
        X.mergeWith = P.mergeWith;
        X.mergeIn = P.mergeIn;
        X.mergeDeep = P.mergeDeep;
        X.mergeDeepWith = P.mergeDeepWith;
        X.mergeDeepIn = P.mergeDeepIn;
        X.setIn = P.setIn;
        X.update = P.update;
        X.updateIn = P.updateIn;
        X.withMutations = P.withMutations;
        X.asMutable = P.asMutable;
        X.asImmutable = P.asImmutable;
        function Tc(a, b, c) {
          a = Object.create(Object.getPrototypeOf(a));
          a._map = b;
          a.__ownerID = c;
          return a;
        }
        function Uc(a) {
          return a._name || a.constructor.name || 'Record';
        }
        function Vc(a, b) {
          try {
            b.forEach(Wc.bind(void 0, a));
          } catch (a) {}
        }
        function Wc(a, b) {
          Object.defineProperty(a, b, {
            get: function () {
              return this.get(b);
            },
            set: function (a) {
              bb(this.__ownerID, 'Cannot set on an immutable record.'),
                this.set(b, a);
            },
          });
        }
        function Xc(a, b) {
          if (a === b) return !0;
          if (
            !x(b) ||
            (a.size !== void 0 && b.size !== void 0 && a.size !== b.size) ||
            (a.__hash !== void 0 &&
              b.__hash !== void 0 &&
              a.__hash !== b.__hash) ||
            y(a) !== y(b) ||
            z(a) !== z(b) ||
            ca(a) !== ca(b)
          )
            return !1;
          if (a.size === 0 && b.size === 0) return !0;
          var c = !ba(a);
          if (ca(a)) {
            var d = a.entries();
            return (
              b.every(function (a, b) {
                var e = d.next().value;
                return e && J(e[1], a) && (c || J(e[0], b));
              }) && d.next().done
            );
          }
          var e = !1;
          if (a.size === void 0)
            if (b.size === void 0)
              typeof a.cacheResult === 'function' && a.cacheResult();
            else {
              e = !0;
              var f = a;
              a = b;
              b = f;
            }
          f = !0;
          b = b.__iterate(function (b, d) {
            if (c ? !a.has(b) : e ? !J(b, a.get(d, g)) : !J(a.get(d, g), b)) {
              f = !1;
              return !1;
            }
          });
          return f && a.size === b;
        }
        b(Y, H);
        function Y(a, b, c) {
          if (!(this instanceof Y)) return new Y(a, b, c);
          bb(c !== 0, 'Cannot step a Range by 0');
          a = a || 0;
          b === void 0 && (b = Infinity);
          c = c === void 0 ? 1 : Math.abs(c);
          b < a && (c = -c);
          this._start = a;
          this._end = b;
          this._step = c;
          this.size = Math.max(0, Math.ceil((b - a) / c - 1) + 1);
          if (this.size === 0) {
            if (Yc) return Yc;
            Yc = this;
          }
        }
        Y.prototype.toString = function () {
          return this.size === 0
            ? 'Range []'
            : 'Range [ ' +
                this._start +
                '...' +
                this._end +
                (this._step > 1 ? ' by ' + this._step : '') +
                ' ]';
        };
        Y.prototype.get = function (a, b) {
          return this.has(a) ? this._start + o(this, a) * this._step : b;
        };
        Y.prototype.includes = function (a) {
          a = (a - this._start) / this._step;
          return a >= 0 && a < this.size && a === Math.floor(a);
        };
        Y.prototype.slice = function (a, b) {
          if (q(a, b, this.size)) return this;
          a = r(a, this.size);
          b = s(b, this.size);
          return b <= a
            ? new Y(0, 0)
            : new Y(this.get(a, this._end), this.get(b, this._end), this._step);
        };
        Y.prototype.indexOf = function (a) {
          a = a - this._start;
          if (a % this._step === 0) {
            a = a / this._step;
            if (a >= 0 && a < this.size) return a;
          }
          return -1;
        };
        Y.prototype.lastIndexOf = function (a) {
          return this.indexOf(a);
        };
        Y.prototype.__iterate = function (a, b) {
          var c = this.size - 1,
            d = this._step,
            e = b ? this._start + c * d : this._start;
          for (var f = 0; f <= c; f++) {
            if (a(e, f, this) === !1) return f + 1;
            e += b ? -d : d;
          }
          return f;
        };
        Y.prototype.__iterator = function (a, b) {
          var c = this.size - 1,
            d = this._step,
            e = b ? this._start + c * d : this._start,
            f = 0;
          return new C(function () {
            var g = e;
            e += b ? -d : d;
            return f > c ? E() : D(a, f++, g);
          });
        };
        Y.prototype.equals = function (a) {
          return a instanceof Y
            ? this._start === a._start &&
                this._end === a._end &&
                this._step === a._step
            : Xc(this, a);
        };
        var Yc;
        b(Z, H);
        function Z(a, b) {
          if (!(this instanceof Z)) return new Z(a, b);
          this._value = a;
          this.size = b === void 0 ? Infinity : Math.max(0, b);
          if (this.size === 0) {
            if (Zc) return Zc;
            Zc = this;
          }
        }
        Z.prototype.toString = function () {
          return this.size === 0
            ? 'Repeat []'
            : 'Repeat [ ' + this._value + ' ' + this.size + ' times ]';
        };
        Z.prototype.get = function (a, b) {
          return this.has(a) ? this._value : b;
        };
        Z.prototype.includes = function (a) {
          return J(this._value, a);
        };
        Z.prototype.slice = function (a, b) {
          var c = this.size;
          return q(a, b, c) ? this : new Z(this._value, s(b, c) - r(a, c));
        };
        Z.prototype.reverse = function () {
          return this;
        };
        Z.prototype.indexOf = function (a) {
          return J(this._value, a) ? 0 : -1;
        };
        Z.prototype.lastIndexOf = function (a) {
          return J(this._value, a) ? this.size : -1;
        };
        Z.prototype.__iterate = function (a, b) {
          for (b = 0; b < this.size; b++)
            if (a(this._value, b, this) === !1) return b + 1;
          return b;
        };
        Z.prototype.__iterator = function (a, b) {
          var c = this,
            d = 0;
          return new C(function () {
            return d < c.size ? D(a, d++, c._value) : E();
          });
        };
        Z.prototype.equals = function (a) {
          return a instanceof Z ? J(this._value, a._value) : Xc(a);
        };
        var Zc;
        function $c(a, b) {
          var c = function (c) {
            a.prototype[c] = b[c];
          };
          Object.keys(b).forEach(c);
          Object.getOwnPropertySymbols &&
            Object.getOwnPropertySymbols(b).forEach(c);
          return a;
        }
        t.Iterator = C;
        $c(t, {
          toArray: function () {
            L(this.size);
            var a = new Array(this.size || 0);
            this.valueSeq().__iterate(function (b, c) {
              a[c] = b;
            });
            return a;
          },
          toIndexedSeq: function () {
            return new cb(this);
          },
          toJS: function () {
            return this.toSeq()
              .map(function (a) {
                return a && typeof a.toJS === 'function' ? a.toJS() : a;
              })
              .__toJS();
          },
          toJSON: function () {
            return this.toSeq()
              .map(function (a) {
                return a && typeof a.toJSON === 'function' ? a.toJSON() : a;
              })
              .__toJS();
          },
          toKeyedSeq: function () {
            return new M(this, !0);
          },
          toMap: function () {
            return O(this.toKeyedSeq());
          },
          toObject: function () {
            L(this.size);
            var a = {};
            this.__iterate(function (b, c) {
              a[c] = b;
            });
            return a;
          },
          toOrderedMap: function () {
            return S(this.toKeyedSeq());
          },
          toOrderedSet: function () {
            return Nc(y(this) ? this.valueSeq() : this);
          },
          toSet: function () {
            return U(y(this) ? this.valueSeq() : this);
          },
          toSetSeq: function () {
            return new db(this);
          },
          toSeq: function () {
            return z(this)
              ? this.toIndexedSeq()
              : y(this)
              ? this.toKeyedSeq()
              : this.toSetSeq();
          },
          toStack: function () {
            return T(y(this) ? this.valueSeq() : this);
          },
          toList: function () {
            return Q(y(this) ? this.valueSeq() : this);
          },
          toString: function () {
            return '[Iterable]';
          },
          __toString: function (a, b) {
            return this.size === 0
              ? a + b
              : a +
                  ' ' +
                  this.toSeq().map(this.__toStringMapper).join(', ') +
                  ' ' +
                  b;
          },
          concat: function () {
            var b = a.call(arguments, 0);
            return N(this, ob(this, b));
          },
          contains: function (a) {
            return this.includes(a);
          },
          includes: function (a) {
            return this.some(function (b) {
              return J(b, a);
            });
          },
          entries: function () {
            return this.__iterator(B);
          },
          every: function (a, b) {
            L(this.size);
            var c = !0;
            this.__iterate(function (d, e, f) {
              if (!a.call(b, d, e, f)) {
                c = !1;
                return !1;
              }
            });
            return c;
          },
          filter: function (a, b) {
            return N(this, ib(this, a, b, !0));
          },
          find: function (a, b, c) {
            a = this.findEntry(a, b);
            return a ? a[1] : c;
          },
          findEntry: function (a, b) {
            var c;
            this.__iterate(function (d, e, f) {
              if (a.call(b, d, e, f)) {
                c = [e, d];
                return !1;
              }
            });
            return c;
          },
          findLastEntry: function (a, b) {
            return this.toSeq().reverse().findEntry(a, b);
          },
          forEach: function (a, b) {
            L(this.size);
            return this.__iterate(b ? a.bind(b) : a);
          },
          join: function (a) {
            L(this.size);
            a = a !== void 0 ? '' + a : ',';
            var b = '',
              c = !0;
            this.__iterate(function (d) {
              c ? (c = !1) : (b += a),
                (b += d !== null && d !== void 0 ? d.toString() : '');
            });
            return b;
          },
          keys: function () {
            return this.__iterator(ha);
          },
          map: function (a, b) {
            return N(this, gb(this, a, b));
          },
          reduce: function (a, b, c) {
            L(this.size);
            var d, e;
            arguments.length < 2 ? (e = !0) : (d = b);
            this.__iterate(function (b, f, g) {
              e ? ((e = !1), (d = b)) : (d = a.call(c, d, b, f, g));
            });
            return d;
          },
          reduceRight: function (a, b, c) {
            var d = this.toKeyedSeq().reverse();
            return d.reduce.apply(d, arguments);
          },
          reverse: function () {
            return N(this, hb(this, !0));
          },
          slice: function (a, b) {
            return N(this, lb(this, a, b, !0));
          },
          some: function (a, b) {
            return !this.every(cd(a), b);
          },
          sort: function (a) {
            return N(this, sb(this, a));
          },
          values: function () {
            return this.__iterator(A);
          },
          butLast: function () {
            return this.slice(0, -1);
          },
          isEmpty: function () {
            return this.size !== void 0
              ? this.size === 0
              : !this.some(function () {
                  return !0;
                });
          },
          count: function (a, b) {
            return n(a ? this.toSeq().filter(a, b) : this);
          },
          countBy: function (a, b) {
            return jb(this, a, b);
          },
          equals: function (a) {
            return Xc(this, a);
          },
          entrySeq: function () {
            var a = this;
            if (a._cache) return new ra(a._cache);
            var b = a.toSeq().map(bd).toIndexedSeq();
            b.fromEntrySeq = function () {
              return a.toSeq();
            };
            return b;
          },
          filterNot: function (a, b) {
            return this.filter(cd(a), b);
          },
          findLast: function (a, b, c) {
            return this.toKeyedSeq().reverse().find(a, b, c);
          },
          first: function () {
            return this.find(p);
          },
          flatMap: function (a, b) {
            return N(this, qb(this, a, b));
          },
          flatten: function (a) {
            return N(this, pb(this, a, !0));
          },
          fromEntrySeq: function () {
            return new eb(this);
          },
          get: function (a, b) {
            return this.find(
              function (b, c) {
                return J(c, a);
              },
              void 0,
              b,
            );
          },
          getIn: function (a, b) {
            var c = this;
            a = Cb(a);
            var d;
            while (!(d = a.next()).done) {
              d = d.value;
              c = c && c.get ? c.get(d, g) : g;
              if (c === g) return b;
            }
            return c;
          },
          groupBy: function (a, b) {
            return kb(this, a, b);
          },
          has: function (a) {
            return this.get(a, g) !== g;
          },
          hasIn: function (a) {
            return this.getIn(a, g) !== g;
          },
          isSubset: function (a) {
            a = typeof a.includes === 'function' ? a : t(a);
            return this.every(function (b) {
              return a.includes(b);
            });
          },
          isSuperset: function (a) {
            return a.isSubset(this);
          },
          keySeq: function () {
            return this.toSeq().map(ad).toIndexedSeq();
          },
          last: function () {
            return this.toSeq().reverse().first();
          },
          max: function (a) {
            return tb(this, a);
          },
          maxBy: function (a, b) {
            return tb(this, b, a);
          },
          min: function (a) {
            return tb(this, a ? dd(a) : gd);
          },
          minBy: function (a, b) {
            return tb(this, b ? dd(b) : gd, a);
          },
          rest: function () {
            return this.slice(1);
          },
          skip: function (a) {
            return this.slice(Math.max(0, a));
          },
          skipLast: function (a) {
            return N(this, this.toSeq().reverse().skip(a).reverse());
          },
          skipWhile: function (a, b) {
            return N(this, nb(this, a, b, !0));
          },
          skipUntil: function (a, b) {
            return this.skipWhile(cd(a), b);
          },
          sortBy: function (a, b) {
            return N(this, sb(this, b, a));
          },
          take: function (a) {
            return this.slice(0, Math.max(0, a));
          },
          takeLast: function (a) {
            return N(this, this.toSeq().reverse().take(a).reverse());
          },
          takeWhile: function (a, b) {
            return N(this, mb(this, a, b));
          },
          takeUntil: function (a, b) {
            return this.takeWhile(cd(a), b);
          },
          valueSeq: function () {
            return this.toIndexedSeq();
          },
          hashCode: function () {
            return this.__hash || (this.__hash = hd(this));
          },
        });
        var $ = t.prototype;
        $[da] = !0;
        $[ka] = $.values;
        $.__toJS = $.toArray;
        $.__toStringMapper = ed;
        $.inspect = $.toSource = function () {
          return this.toString();
        };
        $.chain = $.flatMap;
        (function () {
          try {
            Object.defineProperty($, 'length', {
              get: function () {
                if (!t.noLengthWarning) {
                  var a;
                  try {
                    throw new Error();
                  } catch (b) {
                    a = b.stack;
                  }
                  if (a.indexOf('_wrapObject') === -1) {
                    console && emptyFunction && !1;
                    return this.size;
                  }
                }
              },
            });
          } catch (a) {}
        })();
        $c(u, {
          flip: function () {
            return N(this, fb(this));
          },
          findKey: function (a, b) {
            a = this.findEntry(a, b);
            return a && a[0];
          },
          findLastKey: function (a, b) {
            return this.toSeq().reverse().findKey(a, b);
          },
          keyOf: function (a) {
            return this.findKey(function (b) {
              return J(b, a);
            });
          },
          lastKeyOf: function (a) {
            return this.findLastKey(function (b) {
              return J(b, a);
            });
          },
          mapEntries: function (a, b) {
            var c = this,
              d = 0;
            return N(
              this,
              this.toSeq()
                .map(function (e, f) {
                  return a.call(b, [f, e], d++, c);
                })
                .fromEntrySeq(),
            );
          },
          mapKeys: function (a, b) {
            var c = this;
            return N(
              this,
              this.toSeq()
                .flip()
                .map(function (d, e) {
                  return a.call(b, d, e, c);
                })
                .flip(),
            );
          },
        });
        c = u.prototype;
        c[ea] = !0;
        c[ka] = $.entries;
        c.__toJS = $.toObject;
        c.__toStringMapper = function (a, b) {
          return JSON.stringify(b) + ': ' + ed(a);
        };
        $c(v, {
          toKeyedSeq: function () {
            return new M(this, !1);
          },
          filter: function (a, b) {
            return N(this, ib(this, a, b, !1));
          },
          findIndex: function (a, b) {
            a = this.findEntry(a, b);
            return a ? a[0] : -1;
          },
          indexOf: function (a) {
            a = this.toKeyedSeq().keyOf(a);
            return a === void 0 ? -1 : a;
          },
          lastIndexOf: function (a) {
            return this.toSeq().reverse().indexOf(a);
          },
          reverse: function () {
            return N(this, hb(this, !1));
          },
          slice: function (a, b) {
            return N(this, lb(this, a, b, !1));
          },
          splice: function (a, b) {
            var c = arguments.length;
            b = Math.max(b | 0, 0);
            if (c === 0 || (c === 2 && !b)) return this;
            a = r(a, this.size);
            var d = this.slice(0, a);
            return N(
              this,
              c === 1 ? d : d.concat(m(arguments, 2), this.slice(a + b)),
            );
          },
          findLastIndex: function (a, b) {
            a = this.toKeyedSeq().findLastKey(a, b);
            return a === void 0 ? -1 : a;
          },
          first: function () {
            return this.get(0);
          },
          flatten: function (a) {
            return N(this, pb(this, a, !1));
          },
          get: function (a, b) {
            a = o(this, a);
            return a < 0 ||
              this.size === Infinity ||
              (this.size !== void 0 && a > this.size)
              ? b
              : this.find(
                  function (b, c) {
                    return c === a;
                  },
                  void 0,
                  b,
                );
          },
          has: function (a) {
            a = o(this, a);
            return (
              a >= 0 &&
              (this.size !== void 0
                ? this.size === Infinity || a < this.size
                : this.indexOf(a) !== -1)
            );
          },
          interpose: function (a) {
            return N(this, rb(this, a));
          },
          interleave: function () {
            var a = [this].concat(m(arguments)),
              b = vb(this.toSeq(), H.of, a),
              c = b.flatten(!0);
            b.size && (c.size = b.size * a.length);
            return N(this, c);
          },
          last: function () {
            return this.get(-1);
          },
          skipWhile: function (a, b) {
            return N(this, nb(this, a, b, !1));
          },
          zip: function () {
            var a = [this].concat(m(arguments));
            return N(this, vb(this, fd, a));
          },
          zipWith: function (a) {
            var b = m(arguments);
            b[0] = this;
            return N(this, vb(this, a, b));
          },
        });
        v.prototype[fa] = !0;
        v.prototype[ga] = !0;
        $c(w, {
          get: function (a, b) {
            return this.has(a) ? a : b;
          },
          includes: function (a) {
            return this.has(a);
          },
          keySeq: function () {
            return this.valueSeq();
          },
        });
        w.prototype.has = $.includes;
        $c(G, u.prototype);
        $c(H, v.prototype);
        $c(I, w.prototype);
        $c(Fa, u.prototype);
        $c(Ga, v.prototype);
        $c(Ha, w.prototype);
        function ad(a, b) {
          return b;
        }
        function bd(a, b) {
          return [b, a];
        }
        function cd(a) {
          return function () {
            return !a.apply(this, arguments);
          };
        }
        function dd(a) {
          return function () {
            return -a.apply(this, arguments);
          };
        }
        function ed(a) {
          return typeof a === 'string' ? JSON.stringify(a) : a;
        }
        function fd() {
          return m(arguments);
        }
        function gd(a, b) {
          return a < b ? 1 : a > b ? -1 : 0;
        }
        function hd(a) {
          if (a.size === Infinity) return 0;
          var b = ca(a),
            c = y(a),
            d = b ? 1 : 0;
          a = a.__iterate(
            c
              ? b
                ? function (a, b) {
                    d = (31 * d + jd(K(a), K(b))) | 0;
                  }
                : function (a, b) {
                    d = (d + jd(K(a), K(b))) | 0;
                  }
              : b
              ? function (a) {
                  d = (31 * d + K(a)) | 0;
                }
              : function (a) {
                  d = (d + K(a)) | 0;
                },
          );
          return id(a, d);
        }
        function id(a, b) {
          b = Ma(b, 3432918353);
          b = Ma((b << 15) | (b >>> -15), 461845907);
          b = Ma((b << 13) | (b >>> -13), 5);
          b = ((b + 3864292196) | 0) ^ a;
          b = Ma(b ^ (b >>> 16), 2246822507);
          b = Ma(b ^ (b >>> 13), 3266489909);
          b = Na(b ^ (b >>> 16));
          return b;
        }
        function jd(a, b) {
          return (a ^ (b + 2654435769 + (a << 6) + (a >> 2))) | 0;
        }
        b = {
          Iterable: t,
          Seq: F,
          Collection: Ea,
          Map: O,
          OrderedMap: S,
          List: Q,
          Stack: T,
          Set: U,
          OrderedSet: Nc,
          Record: W,
          Range: Y,
          Repeat: Z,
          is: J,
          fromJS: Ia,
        };
        return b;
      });
    }
    var k = !1;
    function l() {
      k || ((k = !0), j());
      return h.exports;
    }
    function a(a) {
      switch (a) {
        case void 0:
          return l();
      }
    }
    e.exports = a;
  },
  null,
);
__d(
  'immutable',
  ['immutable-3.7.3'],
  function (a, b, c, d, e, f) {
    e.exports = b('immutable-3.7.3')();
  },
  null,
); /*FB_PKG_DELIM*/
__d(
  'CometAddTypeaheadRecentSearchMutation_facebookRelayOperation',
  [],
  function (a, b, c, d, e, f) {
    e.exports = '4967262846700060';
  },
  null,
);
__d(
  'CometAddTypeaheadRecentSearchMutation.graphql',
  ['CometAddTypeaheadRecentSearchMutation_facebookRelayOperation'],
  function (a, b, c, d, e, f) {
    'use strict';
    a = (function () {
      var a = [{ defaultValue: null, kind: 'LocalArgument', name: 'input' }],
        c = [
          {
            alias: null,
            args: [{ kind: 'Variable', name: 'data', variableName: 'input' }],
            concreteType: 'SearchTypeaheadAddRecentSearchResponsePayload',
            kind: 'LinkedField',
            name: 'search_typeahead_add_recent_search',
            plural: !1,
            selections: [
              {
                alias: null,
                args: null,
                kind: 'ScalarField',
                name: 'client_mutation_id',
                storageKey: null,
              },
            ],
            storageKey: null,
          },
        ];
      return {
        fragment: {
          argumentDefinitions: a,
          kind: 'Fragment',
          metadata: null,
          name: 'CometAddTypeaheadRecentSearchMutation',
          selections: c,
          type: 'Mutation',
          abstractKey: null,
        },
        kind: 'Request',
        operation: {
          argumentDefinitions: a,
          kind: 'Operation',
          name: 'CometAddTypeaheadRecentSearchMutation',
          selections: c,
        },
        params: {
          id: b('CometAddTypeaheadRecentSearchMutation_facebookRelayOperation'),
          metadata: {},
          name: 'CometAddTypeaheadRecentSearchMutation',
          operationKind: 'mutation',
          text: null,
        },
      };
    })();
    e.exports = a;
  },
  null,
);
__d(
  'CometDeleteRecentSearchMutation_facebookRelayOperation',
  [],
  function (a, b, c, d, e, f) {
    e.exports = '4945240752198545';
  },
  null,
);
__d(
  'CometDeleteRecentSearchMutation.graphql',
  ['CometDeleteRecentSearchMutation_facebookRelayOperation'],
  function (a, b, c, d, e, f) {
    'use strict';
    a = (function () {
      var a = [{ defaultValue: null, kind: 'LocalArgument', name: 'input' }],
        c = [
          {
            alias: null,
            args: [{ kind: 'Variable', name: 'data', variableName: 'input' }],
            concreteType: 'SearchTypeaheadDeleteRecentResponsePayload',
            kind: 'LinkedField',
            name: 'search_typeahead_delete_recent',
            plural: !1,
            selections: [
              {
                alias: null,
                args: null,
                kind: 'ScalarField',
                name: 'client_mutation_id',
                storageKey: null,
              },
            ],
            storageKey: null,
          },
        ];
      return {
        fragment: {
          argumentDefinitions: a,
          kind: 'Fragment',
          metadata: null,
          name: 'CometDeleteRecentSearchMutation',
          selections: c,
          type: 'Mutation',
          abstractKey: null,
        },
        kind: 'Request',
        operation: {
          argumentDefinitions: a,
          kind: 'Operation',
          name: 'CometDeleteRecentSearchMutation',
          selections: c,
        },
        params: {
          id: b('CometDeleteRecentSearchMutation_facebookRelayOperation'),
          metadata: {},
          name: 'CometDeleteRecentSearchMutation',
          operationKind: 'mutation',
          text: null,
        },
      };
    })();
    e.exports = a;
  },
  null,
);
__d(
  'CometSearchBootstrapKeywordsDataSourceQuery.graphql',
  ['relay-runtime'],
  function (a, b, c, d, e, f) {
    'use strict';
    a = (function () {
      var a = [{ defaultValue: null, kind: 'LocalArgument', name: 'first' }],
        b = [{ kind: 'Variable', name: 'first', variableName: 'first' }],
        c = {
          alias: null,
          args: null,
          kind: 'ScalarField',
          name: 'keyword_text',
          storageKey: null,
        },
        d = {
          alias: null,
          args: null,
          kind: 'ScalarField',
          name: 'item_logging_id',
          storageKey: null,
        },
        e = {
          alias: null,
          args: null,
          kind: 'ScalarField',
          name: 'item_logging_info',
          storageKey: null,
        },
        f = {
          alias: null,
          args: null,
          kind: 'ScalarField',
          name: 'link_url',
          storageKey: null,
        },
        g = {
          alias: null,
          args: null,
          kind: 'ScalarField',
          name: 'snippet',
          storageKey: null,
        },
        h = {
          alias: null,
          args: null,
          kind: 'ScalarField',
          name: 'title',
          storageKey: null,
        },
        i = {
          alias: null,
          args: null,
          kind: 'ScalarField',
          name: 'type',
          storageKey: null,
        };
      g = [
        {
          alias: null,
          args: null,
          concreteType: 'STSDirectNavResult',
          kind: 'LinkedField',
          name: 'direct_nav_result',
          plural: !1,
          selections: [
            {
              alias: null,
              args: null,
              kind: 'ScalarField',
              name: 'ent_id',
              storageKey: null,
            },
            {
              alias: null,
              args: null,
              kind: 'ScalarField',
              name: 'img_url',
              storageKey: null,
            },
            f,
            {
              alias: null,
              args: null,
              kind: 'ScalarField',
              name: 'entity_type',
              storageKey: null,
            },
            g,
            h,
            i,
          ],
          storageKey: null,
        },
        {
          alias: null,
          args: null,
          concreteType: 'STSHighConfidenceResult',
          kind: 'LinkedField',
          name: 'high_confidence_result',
          plural: !1,
          selections: [
            {
              alias: null,
              args: null,
              kind: 'ScalarField',
              name: 'hcm_id',
              storageKey: null,
            },
            {
              alias: null,
              args: null,
              kind: 'ScalarField',
              name: 'picture_url',
              storageKey: null,
            },
            g,
            {
              alias: null,
              args: null,
              kind: 'ScalarField',
              name: 'source_as_enum',
              storageKey: null,
            },
            {
              alias: null,
              args: null,
              kind: 'ScalarField',
              name: 'text',
              storageKey: null,
            },
          ],
          storageKey: null,
        },
        {
          alias: null,
          args: null,
          concreteType: 'STSDisambiguationResult',
          kind: 'LinkedField',
          name: 'disambiguation_result',
          plural: !1,
          selections: [
            h,
            {
              alias: null,
              args: null,
              concreteType: 'STSDisambiguationInfo',
              kind: 'LinkedField',
              name: 'disambiguation_info_list',
              plural: !0,
              selections: [
                {
                  alias: 'snippet',
                  args: null,
                  kind: 'ScalarField',
                  name: 'text',
                  storageKey: null,
                },
                f,
                i,
              ],
              storageKey: null,
            },
          ],
          storageKey: null,
        },
      ];
      h = {
        alias: null,
        args: null,
        concreteType: 'SearchTypeaheadSuggestionKeys',
        kind: 'LinkedField',
        name: 'suggestion_keys',
        plural: !1,
        selections: [
          {
            alias: null,
            args: null,
            kind: 'ScalarField',
            name: 'tier',
            storageKey: null,
          },
          {
            alias: null,
            args: null,
            kind: 'ScalarField',
            name: 'keys',
            storageKey: null,
          },
          {
            alias: null,
            args: null,
            kind: 'ScalarField',
            name: 'default_key',
            storageKey: null,
          },
        ],
        storageKey: null,
      };
      return {
        fragment: {
          argumentDefinitions: a,
          kind: 'Fragment',
          metadata: null,
          name: 'CometSearchBootstrapKeywordsDataSourceQuery',
          selections: [
            {
              alias: null,
              args: null,
              concreteType: 'Viewer',
              kind: 'LinkedField',
              name: 'viewer',
              plural: !1,
              selections: [
                {
                  alias: null,
                  args: b,
                  concreteType: 'BootstrapKeywordsConnection',
                  kind: 'LinkedField',
                  name: 'bootstrap_keywords',
                  plural: !1,
                  selections: [
                    {
                      alias: null,
                      args: null,
                      concreteType: 'BootstrapKeywordsEdge',
                      kind: 'LinkedField',
                      name: 'edges',
                      plural: !0,
                      selections: [
                        {
                          alias: null,
                          args: null,
                          concreteType: 'BootstrapResult',
                          kind: 'LinkedField',
                          name: 'node',
                          plural: !1,
                          selections: [
                            c,
                            d,
                            e,
                            {
                              alias: null,
                              args: null,
                              concreteType: 'StructuredTypeaheadInfo',
                              kind: 'LinkedField',
                              name: 'sts_info',
                              plural: !1,
                              selections: [
                                {
                                  kind: 'InlineDataFragmentSpread',
                                  name: 'getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo',
                                  selections: g,
                                  args: null,
                                  argumentDefinitions: [],
                                },
                              ],
                              storageKey: null,
                            },
                            h,
                          ],
                          storageKey: null,
                        },
                      ],
                      storageKey: null,
                    },
                  ],
                  storageKey: null,
                },
              ],
              storageKey: null,
            },
          ],
          type: 'Query',
          abstractKey: null,
        },
        kind: 'Request',
        operation: {
          argumentDefinitions: a,
          kind: 'Operation',
          name: 'CometSearchBootstrapKeywordsDataSourceQuery',
          selections: [
            {
              alias: null,
              args: null,
              concreteType: 'Viewer',
              kind: 'LinkedField',
              name: 'viewer',
              plural: !1,
              selections: [
                {
                  alias: null,
                  args: b,
                  concreteType: 'BootstrapKeywordsConnection',
                  kind: 'LinkedField',
                  name: 'bootstrap_keywords',
                  plural: !1,
                  selections: [
                    {
                      alias: null,
                      args: null,
                      concreteType: 'BootstrapKeywordsEdge',
                      kind: 'LinkedField',
                      name: 'edges',
                      plural: !0,
                      selections: [
                        {
                          alias: null,
                          args: null,
                          concreteType: 'BootstrapResult',
                          kind: 'LinkedField',
                          name: 'node',
                          plural: !1,
                          selections: [
                            c,
                            d,
                            e,
                            {
                              alias: null,
                              args: null,
                              concreteType: 'StructuredTypeaheadInfo',
                              kind: 'LinkedField',
                              name: 'sts_info',
                              plural: !1,
                              selections: g,
                              storageKey: null,
                            },
                            h,
                          ],
                          storageKey: null,
                        },
                      ],
                      storageKey: null,
                    },
                  ],
                  storageKey: null,
                },
              ],
              storageKey: null,
            },
          ],
        },
        params: {
          id: '4255077087859078',
          metadata: {},
          name: 'CometSearchBootstrapKeywordsDataSourceQuery',
          operationKind: 'query',
          text: null,
        },
      };
    })();
    b('relay-runtime').PreloadableQueryRegistry.set(a.params.id, a);
    e.exports = a;
  },
  null,
);
__d(
  'getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo.graphql',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    a = {
      kind: 'InlineDataFragment',
      name: 'getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo',
    };
    e.exports = a;
  },
  null,
);
__d(
  'CometSearchKeywordDataSourceQuery_facebookRelayOperation',
  [],
  function (a, b, c, d, e, f) {
    e.exports = '4970436386382601';
  },
  null,
);
__d(
  'CometSearchKeywordDataSourceQuery.graphql',
  ['CometSearchKeywordDataSourceQuery_facebookRelayOperation'],
  function (a, b, c, d, e, f) {
    'use strict';
    a = (function () {
      var a = [{ defaultValue: null, kind: 'LocalArgument', name: 'query' }],
        c = [{ kind: 'Variable', name: 'query', variableName: 'query' }],
        d = {
          alias: 'name',
          args: null,
          kind: 'ScalarField',
          name: 'text',
          storageKey: null,
        },
        e = {
          alias: null,
          args: null,
          kind: 'ScalarField',
          name: 'logging_id',
          storageKey: null,
        },
        f = {
          alias: null,
          args: null,
          kind: 'ScalarField',
          name: 'logging_info',
          storageKey: null,
        },
        g = {
          alias: null,
          args: null,
          kind: 'ScalarField',
          name: 'link_url',
          storageKey: null,
        },
        h = {
          alias: null,
          args: null,
          kind: 'ScalarField',
          name: 'snippet',
          storageKey: null,
        },
        i = {
          alias: null,
          args: null,
          kind: 'ScalarField',
          name: 'title',
          storageKey: null,
        },
        j = {
          alias: null,
          args: null,
          kind: 'ScalarField',
          name: 'type',
          storageKey: null,
        };
      h = [
        {
          alias: null,
          args: null,
          concreteType: 'STSDirectNavResult',
          kind: 'LinkedField',
          name: 'direct_nav_result',
          plural: !1,
          selections: [
            {
              alias: null,
              args: null,
              kind: 'ScalarField',
              name: 'ent_id',
              storageKey: null,
            },
            {
              alias: null,
              args: null,
              kind: 'ScalarField',
              name: 'img_url',
              storageKey: null,
            },
            g,
            {
              alias: null,
              args: null,
              kind: 'ScalarField',
              name: 'entity_type',
              storageKey: null,
            },
            h,
            i,
            j,
          ],
          storageKey: null,
        },
        {
          alias: null,
          args: null,
          concreteType: 'STSHighConfidenceResult',
          kind: 'LinkedField',
          name: 'high_confidence_result',
          plural: !1,
          selections: [
            {
              alias: null,
              args: null,
              kind: 'ScalarField',
              name: 'hcm_id',
              storageKey: null,
            },
            {
              alias: null,
              args: null,
              kind: 'ScalarField',
              name: 'picture_url',
              storageKey: null,
            },
            h,
            {
              alias: null,
              args: null,
              kind: 'ScalarField',
              name: 'source_as_enum',
              storageKey: null,
            },
            {
              alias: null,
              args: null,
              kind: 'ScalarField',
              name: 'text',
              storageKey: null,
            },
          ],
          storageKey: null,
        },
        {
          alias: null,
          args: null,
          concreteType: 'STSDisambiguationResult',
          kind: 'LinkedField',
          name: 'disambiguation_result',
          plural: !1,
          selections: [
            i,
            {
              alias: null,
              args: null,
              concreteType: 'STSDisambiguationInfo',
              kind: 'LinkedField',
              name: 'disambiguation_info_list',
              plural: !0,
              selections: [
                {
                  alias: 'snippet',
                  args: null,
                  kind: 'ScalarField',
                  name: 'text',
                  storageKey: null,
                },
                g,
                j,
              ],
              storageKey: null,
            },
          ],
          storageKey: null,
        },
      ];
      i = {
        alias: null,
        args: null,
        concreteType: 'SearchTypeaheadSuggestionKeys',
        kind: 'LinkedField',
        name: 'suggestion_keys',
        plural: !1,
        selections: [
          {
            alias: null,
            args: null,
            kind: 'ScalarField',
            name: 'tier',
            storageKey: null,
          },
          {
            alias: null,
            args: null,
            kind: 'ScalarField',
            name: 'keys',
            storageKey: null,
          },
          {
            alias: null,
            args: null,
            kind: 'ScalarField',
            name: 'default_key',
            storageKey: null,
          },
        ],
        storageKey: null,
      };
      return {
        fragment: {
          argumentDefinitions: a,
          kind: 'Fragment',
          metadata: null,
          name: 'CometSearchKeywordDataSourceQuery',
          selections: [
            {
              alias: null,
              args: c,
              concreteType: 'KeywordsSearchSuggestionSet',
              kind: 'LinkedField',
              name: 'search_keywords_suggestion',
              plural: !1,
              selections: [
                {
                  alias: null,
                  args: null,
                  concreteType: 'KeywordsSearchSuggestionsConnection',
                  kind: 'LinkedField',
                  name: 'suggestions',
                  plural: !1,
                  selections: [
                    {
                      alias: null,
                      args: null,
                      concreteType: 'KeywordsSearchSuggestionsEdge',
                      kind: 'LinkedField',
                      name: 'edges',
                      plural: !0,
                      selections: [
                        {
                          alias: null,
                          args: null,
                          concreteType: 'KeywordSuggestionUnit',
                          kind: 'LinkedField',
                          name: 'node',
                          plural: !1,
                          selections: [
                            d,
                            e,
                            f,
                            {
                              alias: null,
                              args: null,
                              concreteType: 'StructuredTypeaheadInfo',
                              kind: 'LinkedField',
                              name: 'structured_info',
                              plural: !1,
                              selections: [
                                {
                                  kind: 'InlineDataFragmentSpread',
                                  name: 'getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo',
                                  selections: h,
                                  args: null,
                                  argumentDefinitions: [],
                                },
                              ],
                              storageKey: null,
                            },
                            i,
                          ],
                          storageKey: null,
                        },
                      ],
                      storageKey: null,
                    },
                  ],
                  storageKey: null,
                },
              ],
              storageKey: null,
            },
          ],
          type: 'Query',
          abstractKey: null,
        },
        kind: 'Request',
        operation: {
          argumentDefinitions: a,
          kind: 'Operation',
          name: 'CometSearchKeywordDataSourceQuery',
          selections: [
            {
              alias: null,
              args: c,
              concreteType: 'KeywordsSearchSuggestionSet',
              kind: 'LinkedField',
              name: 'search_keywords_suggestion',
              plural: !1,
              selections: [
                {
                  alias: null,
                  args: null,
                  concreteType: 'KeywordsSearchSuggestionsConnection',
                  kind: 'LinkedField',
                  name: 'suggestions',
                  plural: !1,
                  selections: [
                    {
                      alias: null,
                      args: null,
                      concreteType: 'KeywordsSearchSuggestionsEdge',
                      kind: 'LinkedField',
                      name: 'edges',
                      plural: !0,
                      selections: [
                        {
                          alias: null,
                          args: null,
                          concreteType: 'KeywordSuggestionUnit',
                          kind: 'LinkedField',
                          name: 'node',
                          plural: !1,
                          selections: [
                            d,
                            e,
                            f,
                            {
                              alias: null,
                              args: null,
                              concreteType: 'StructuredTypeaheadInfo',
                              kind: 'LinkedField',
                              name: 'structured_info',
                              plural: !1,
                              selections: h,
                              storageKey: null,
                            },
                            i,
                          ],
                          storageKey: null,
                        },
                      ],
                      storageKey: null,
                    },
                  ],
                  storageKey: null,
                },
              ],
              storageKey: null,
            },
          ],
        },
        params: {
          id: b('CometSearchKeywordDataSourceQuery_facebookRelayOperation'),
          metadata: {},
          name: 'CometSearchKeywordDataSourceQuery',
          operationKind: 'query',
          text: null,
        },
      };
    })();
    e.exports = a;
  },
  null,
);
__d(
  'CometSearchRecentDataSourceQuery.graphql',
  ['relay-runtime'],
  function (a, b, c, d, e, f) {
    'use strict';
    a = (function () {
      var a = {
          defaultValue: null,
          kind: 'LocalArgument',
          name: 'fetch_nullstate',
        },
        b = {
          defaultValue: null,
          kind: 'LocalArgument',
          name: 'fetch_search_badge',
        },
        c = { defaultValue: null, kind: 'LocalArgument', name: 'filter' },
        d = { defaultValue: null, kind: 'LocalArgument', name: 'first' },
        e = { defaultValue: null, kind: 'LocalArgument', name: 'scale' },
        f = {
          defaultValue: null,
          kind: 'LocalArgument',
          name: 'search_null_state_argument',
        },
        g = {
          defaultValue: null,
          kind: 'LocalArgument',
          name: 'search_scope_entity_id',
        },
        h = [
          { kind: 'Variable', name: 'filter', variableName: 'filter' },
          { kind: 'Variable', name: 'first', variableName: 'first' },
          {
            kind: 'Variable',
            name: 'search_scope_entity_id',
            variableName: 'search_scope_entity_id',
          },
        ],
        i = {
          alias: null,
          args: null,
          kind: 'ScalarField',
          name: '__typename',
          storageKey: null,
        },
        j = {
          alias: null,
          args: null,
          kind: 'ScalarField',
          name: 'id',
          storageKey: null,
        },
        k = {
          kind: 'InlineFragment',
          selections: [
            {
              alias: null,
              args: [
                { kind: 'Variable', name: 'scale', variableName: 'scale' },
                { kind: 'Literal', name: 'width', value: 36 },
              ],
              concreteType: 'Image',
              kind: 'LinkedField',
              name: 'profile_picture',
              plural: !1,
              selections: [
                {
                  alias: null,
                  args: null,
                  kind: 'ScalarField',
                  name: 'uri',
                  storageKey: null,
                },
              ],
              storageKey: null,
            },
          ],
          type: 'Profile',
          abstractKey: '__isProfile',
        },
        l = [
          {
            alias: null,
            args: null,
            kind: 'ScalarField',
            name: 'url',
            storageKey: null,
          },
        ],
        m = {
          kind: 'InlineFragment',
          selections: l,
          type: 'Application',
          abstractKey: null,
        },
        n = {
          kind: 'InlineFragment',
          selections: l,
          type: 'Event',
          abstractKey: null,
        },
        o = {
          kind: 'InlineFragment',
          selections: l,
          type: 'Group',
          abstractKey: null,
        },
        p = {
          kind: 'InlineFragment',
          selections: l,
          type: 'Page',
          abstractKey: null,
        };
      l = {
        kind: 'InlineFragment',
        selections: l,
        type: 'User',
        abstractKey: null,
      };
      var q = {
          alias: null,
          args: null,
          kind: 'ScalarField',
          name: 'name',
          storageKey: null,
        },
        r = {
          alias: null,
          args: null,
          kind: 'ScalarField',
          name: 'link_url',
          storageKey: null,
        },
        s = {
          alias: null,
          args: null,
          kind: 'ScalarField',
          name: 'snippet',
          storageKey: null,
        },
        t = {
          alias: null,
          args: null,
          kind: 'ScalarField',
          name: 'title',
          storageKey: null,
        },
        u = {
          alias: null,
          args: null,
          kind: 'ScalarField',
          name: 'type',
          storageKey: null,
        };
      t = [
        {
          alias: null,
          args: null,
          concreteType: 'STSDirectNavResult',
          kind: 'LinkedField',
          name: 'direct_nav_result',
          plural: !1,
          selections: [
            {
              alias: null,
              args: null,
              kind: 'ScalarField',
              name: 'ent_id',
              storageKey: null,
            },
            {
              alias: null,
              args: null,
              kind: 'ScalarField',
              name: 'img_url',
              storageKey: null,
            },
            r,
            {
              alias: null,
              args: null,
              kind: 'ScalarField',
              name: 'entity_type',
              storageKey: null,
            },
            s,
            t,
            u,
          ],
          storageKey: null,
        },
        {
          alias: null,
          args: null,
          concreteType: 'STSHighConfidenceResult',
          kind: 'LinkedField',
          name: 'high_confidence_result',
          plural: !1,
          selections: [
            {
              alias: null,
              args: null,
              kind: 'ScalarField',
              name: 'hcm_id',
              storageKey: null,
            },
            {
              alias: null,
              args: null,
              kind: 'ScalarField',
              name: 'picture_url',
              storageKey: null,
            },
            s,
            {
              alias: null,
              args: null,
              kind: 'ScalarField',
              name: 'source_as_enum',
              storageKey: null,
            },
            {
              alias: null,
              args: null,
              kind: 'ScalarField',
              name: 'text',
              storageKey: null,
            },
          ],
          storageKey: null,
        },
        {
          alias: null,
          args: null,
          concreteType: 'STSDisambiguationResult',
          kind: 'LinkedField',
          name: 'disambiguation_result',
          plural: !1,
          selections: [
            t,
            {
              alias: null,
              args: null,
              concreteType: 'STSDisambiguationInfo',
              kind: 'LinkedField',
              name: 'disambiguation_info_list',
              plural: !0,
              selections: [
                {
                  alias: 'snippet',
                  args: null,
                  kind: 'ScalarField',
                  name: 'text',
                  storageKey: null,
                },
                r,
                u,
              ],
              storageKey: null,
            },
          ],
          storageKey: null,
        },
      ];
      r = {
        alias: null,
        args: null,
        concreteType: 'StructuredTypeaheadInfo',
        kind: 'LinkedField',
        name: 'sts_info',
        plural: !1,
        selections: [
          {
            kind: 'InlineDataFragmentSpread',
            name: 'getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo',
            selections: t,
            args: null,
            argumentDefinitions: [],
          },
        ],
        storageKey: null,
      };
      u = {
        alias: null,
        args: null,
        kind: 'ScalarField',
        name: 'item_logging_info',
        storageKey: null,
      };
      s = {
        condition: 'fetch_search_badge',
        kind: 'Condition',
        passingValue: !0,
        selections: [
          {
            alias: null,
            args: null,
            concreteType: 'XFBSearchEntityBadge',
            kind: 'LinkedField',
            name: 'search_badge',
            plural: !1,
            selections: [
              {
                alias: null,
                args: null,
                kind: 'ScalarField',
                name: 'enabled',
                storageKey: null,
              },
              s,
            ],
            storageKey: null,
          },
        ],
      };
      var v = [
          {
            kind: 'Variable',
            name: 'input',
            variableName: 'search_null_state_argument',
          },
        ],
        w = {
          alias: null,
          args: null,
          kind: 'ScalarField',
          name: 'key',
          storageKey: null,
        },
        x = {
          kind: 'InlineFragment',
          selections: [
            w,
            {
              alias: null,
              args: null,
              concreteType: 'XFBSearchNullStateSectionResult',
              kind: 'LinkedField',
              name: 'result',
              plural: !1,
              selections: [
                {
                  alias: null,
                  args: null,
                  kind: 'ScalarField',
                  name: 'header_text',
                  storageKey: null,
                },
              ],
              storageKey: null,
            },
          ],
          type: 'XFBSearchNullStateGeneralHeaderRenderingStrategy',
          abstractKey: null,
        },
        y = {
          alias: null,
          args: null,
          kind: 'ScalarField',
          name: 'display_text',
          storageKey: null,
        },
        z = {
          alias: 'suggestion_logging_info',
          args: null,
          concreteType: 'XFBSearchSuggestionLoggingSuggestion',
          kind: 'LinkedField',
          name: 'logging_info',
          plural: !1,
          selections: [
            {
              alias: null,
              args: null,
              kind: 'ScalarField',
              name: 'fetch_source',
              storageKey: null,
            },
            {
              alias: null,
              args: null,
              kind: 'ScalarField',
              name: 'logging_info',
              storageKey: null,
            },
          ],
          storageKey: null,
        };
      t = {
        alias: null,
        args: null,
        concreteType: 'StructuredTypeaheadInfo',
        kind: 'LinkedField',
        name: 'sts_info',
        plural: !1,
        selections: t,
        storageKey: null,
      };
      return {
        fragment: {
          argumentDefinitions: [a, b, c, d, e, f, g],
          kind: 'Fragment',
          metadata: null,
          name: 'CometSearchRecentDataSourceQuery',
          selections: [
            {
              alias: null,
              args: null,
              concreteType: 'Viewer',
              kind: 'LinkedField',
              name: 'viewer',
              plural: !1,
              selections: [
                {
                  alias: null,
                  args: h,
                  concreteType: 'RecentSearchConnection',
                  kind: 'LinkedField',
                  name: 'recent_searches',
                  plural: !1,
                  selections: [
                    {
                      alias: null,
                      args: null,
                      concreteType: 'RecentSearchEdge',
                      kind: 'LinkedField',
                      name: 'edges',
                      plural: !0,
                      selections: [
                        {
                          alias: null,
                          args: null,
                          concreteType: null,
                          kind: 'LinkedField',
                          name: 'node',
                          plural: !1,
                          selections: [
                            {
                              kind: 'InlineFragment',
                              selections: [i, j],
                              type: 'Node',
                              abstractKey: '__isNode',
                            },
                            k,
                            m,
                            n,
                            o,
                            p,
                            l,
                            q,
                            {
                              kind: 'InlineFragment',
                              selections: [r, u],
                              type: 'GraphSearchQuery',
                              abstractKey: null,
                            },
                          ],
                          storageKey: null,
                        },
                        s,
                      ],
                      storageKey: null,
                    },
                  ],
                  storageKey: null,
                },
              ],
              storageKey: null,
            },
            {
              condition: 'fetch_nullstate',
              kind: 'Condition',
              passingValue: !0,
              selections: [
                {
                  alias: null,
                  args: v,
                  concreteType: 'SearchNullStatePage',
                  kind: 'LinkedField',
                  name: 'search_null_state',
                  plural: !1,
                  selections: [
                    {
                      alias: null,
                      args: null,
                      concreteType: 'SearchNullStatePageResultsConnection',
                      kind: 'LinkedField',
                      name: 'results',
                      plural: !1,
                      selections: [
                        {
                          alias: null,
                          args: null,
                          concreteType: 'SearchNullStatePageResultsEdge',
                          kind: 'LinkedField',
                          name: 'edges',
                          plural: !0,
                          selections: [
                            {
                              alias: null,
                              args: null,
                              concreteType: null,
                              kind: 'LinkedField',
                              name: 'node',
                              plural: !1,
                              selections: [
                                {
                                  kind: 'InlineFragment',
                                  selections: [
                                    {
                                      alias: null,
                                      args: null,
                                      concreteType: null,
                                      kind: 'LinkedField',
                                      name: 'rendering_strategy',
                                      plural: !1,
                                      selections: [
                                        x,
                                        {
                                          kind: 'InlineFragment',
                                          selections: [
                                            w,
                                            {
                                              alias: null,
                                              args: null,
                                              concreteType:
                                                'XFBSearchNullStateSectionResult',
                                              kind: 'LinkedField',
                                              name: 'result',
                                              plural: !1,
                                              selections: [
                                                {
                                                  alias: null,
                                                  args: null,
                                                  concreteType: null,
                                                  kind: 'LinkedField',
                                                  name: 'suggestions',
                                                  plural: !0,
                                                  selections: [
                                                    i,
                                                    {
                                                      kind: 'InlineFragment',
                                                      selections: [w, y, r, z],
                                                      type: 'XFBSearchNullStateQuerySuggestion',
                                                      abstractKey: null,
                                                    },
                                                  ],
                                                  storageKey: null,
                                                },
                                              ],
                                              storageKey: null,
                                            },
                                          ],
                                          type: 'XFBSearchNullStateListRenderingStrategy',
                                          abstractKey: null,
                                        },
                                      ],
                                      storageKey: null,
                                    },
                                  ],
                                  type: 'XFBSearchNullStateRenderingStrategyResult',
                                  abstractKey: null,
                                },
                              ],
                              storageKey: null,
                            },
                          ],
                          storageKey: null,
                        },
                      ],
                      storageKey: null,
                    },
                  ],
                  storageKey: null,
                },
              ],
            },
          ],
          type: 'Query',
          abstractKey: null,
        },
        kind: 'Request',
        operation: {
          argumentDefinitions: [c, d, e, g, b, f, a],
          kind: 'Operation',
          name: 'CometSearchRecentDataSourceQuery',
          selections: [
            {
              alias: null,
              args: null,
              concreteType: 'Viewer',
              kind: 'LinkedField',
              name: 'viewer',
              plural: !1,
              selections: [
                {
                  alias: null,
                  args: h,
                  concreteType: 'RecentSearchConnection',
                  kind: 'LinkedField',
                  name: 'recent_searches',
                  plural: !1,
                  selections: [
                    {
                      alias: null,
                      args: null,
                      concreteType: 'RecentSearchEdge',
                      kind: 'LinkedField',
                      name: 'edges',
                      plural: !0,
                      selections: [
                        {
                          alias: null,
                          args: null,
                          concreteType: null,
                          kind: 'LinkedField',
                          name: 'node',
                          plural: !1,
                          selections: [
                            i,
                            q,
                            {
                              kind: 'InlineFragment',
                              selections: [j],
                              type: 'Node',
                              abstractKey: '__isNode',
                            },
                            k,
                            m,
                            n,
                            o,
                            p,
                            l,
                            {
                              kind: 'InlineFragment',
                              selections: [t, u],
                              type: 'GraphSearchQuery',
                              abstractKey: null,
                            },
                          ],
                          storageKey: null,
                        },
                        s,
                      ],
                      storageKey: null,
                    },
                  ],
                  storageKey: null,
                },
              ],
              storageKey: null,
            },
            {
              condition: 'fetch_nullstate',
              kind: 'Condition',
              passingValue: !0,
              selections: [
                {
                  alias: null,
                  args: v,
                  concreteType: 'SearchNullStatePage',
                  kind: 'LinkedField',
                  name: 'search_null_state',
                  plural: !1,
                  selections: [
                    {
                      alias: null,
                      args: null,
                      concreteType: 'SearchNullStatePageResultsConnection',
                      kind: 'LinkedField',
                      name: 'results',
                      plural: !1,
                      selections: [
                        {
                          alias: null,
                          args: null,
                          concreteType: 'SearchNullStatePageResultsEdge',
                          kind: 'LinkedField',
                          name: 'edges',
                          plural: !0,
                          selections: [
                            {
                              alias: null,
                              args: null,
                              concreteType: null,
                              kind: 'LinkedField',
                              name: 'node',
                              plural: !1,
                              selections: [
                                i,
                                {
                                  kind: 'InlineFragment',
                                  selections: [
                                    {
                                      alias: null,
                                      args: null,
                                      concreteType: null,
                                      kind: 'LinkedField',
                                      name: 'rendering_strategy',
                                      plural: !1,
                                      selections: [
                                        i,
                                        x,
                                        {
                                          kind: 'InlineFragment',
                                          selections: [
                                            w,
                                            {
                                              alias: null,
                                              args: null,
                                              concreteType:
                                                'XFBSearchNullStateSectionResult',
                                              kind: 'LinkedField',
                                              name: 'result',
                                              plural: !1,
                                              selections: [
                                                {
                                                  alias: null,
                                                  args: null,
                                                  concreteType: null,
                                                  kind: 'LinkedField',
                                                  name: 'suggestions',
                                                  plural: !0,
                                                  selections: [
                                                    i,
                                                    {
                                                      kind: 'InlineFragment',
                                                      selections: [w, y, t, z],
                                                      type: 'XFBSearchNullStateQuerySuggestion',
                                                      abstractKey: null,
                                                    },
                                                  ],
                                                  storageKey: null,
                                                },
                                              ],
                                              storageKey: null,
                                            },
                                          ],
                                          type: 'XFBSearchNullStateListRenderingStrategy',
                                          abstractKey: null,
                                        },
                                      ],
                                      storageKey: null,
                                    },
                                  ],
                                  type: 'XFBSearchNullStateRenderingStrategyResult',
                                  abstractKey: null,
                                },
                              ],
                              storageKey: null,
                            },
                          ],
                          storageKey: null,
                        },
                      ],
                      storageKey: null,
                    },
                  ],
                  storageKey: null,
                },
              ],
            },
          ],
        },
        params: {
          id: '5499590706763174',
          metadata: {},
          name: 'CometSearchRecentDataSourceQuery',
          operationKind: 'query',
          text: null,
        },
      };
    })();
    b('relay-runtime').PreloadableQueryRegistry.set(a.params.id, a);
    e.exports = a;
  },
  null,
);
__d(
  'BaseTypeaheadInMemoryListDataCache',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    a = (function () {
      function a() {
        this.$1 = [];
      }
      var b = a.prototype;
      b.clear = function () {
        this.$1 = [];
      };
      b.get = function (a) {
        var b = this.$1.find(function (b) {
          return b.key === a;
        });
        return b ? b.value : null;
      };
      b.has = function (a) {
        return this.$1.some(function (b) {
          return b.key === a;
        });
      };
      b.set = function (a, b) {
        var c = this.$1.findIndex(function (b) {
          return b.key === a;
        });
        if (c === -1) {
          this.$1.push({ key: a, value: b });
          return;
        }
        this.$1[c] = { key: a, value: b };
      };
      b.remove = function (a) {
        var b = this.$1.findIndex(function (b) {
          return b.key === a;
        });
        this.$1.splice(b, 1);
      };
      b.values = function () {
        return this.$1.map(function (a) {
          return a.value;
        });
      };
      return a;
    })();
    f['default'] = a;
  },
  66,
);
__d(
  'cometTypeaheadMemoizeEntryKey',
  ['cometUniqueID', 'memoizeStringOnly'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = c('memoizeStringOnly')(function (a) {
      return c('cometUniqueID')();
    });
    function a(a) {
      return h(a);
    }
    g['default'] = a;
  },
  98,
);
__d(
  'CometTypeaheadEchoViewItem.react',
  [
    'CometTypeaheadViewItem.react',
    'CometTypeaheadViewItemIcon.react',
    'TetraText.react',
    'react',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    function a(a) {
      var b = a.entry,
        e = a.isActive,
        f = a.queryString;
      a = babelHelpers.objectWithoutPropertiesLoose(a, [
        'entry',
        'isActive',
        'queryString',
      ]);
      return h.jsx(
        c('CometTypeaheadViewItem.react'),
        babelHelpers['extends']({}, a, {
          entry: b,
          isActive: e,
          itemStartContent: h.jsx(
            d('CometTypeaheadViewItemIcon.react').CometTypeaheadViewTypedIcon,
            { isActive: e },
          ),
          children: h.jsx(c('TetraText.react'), {
            numberOfLines: 1,
            type: 'body3',
            children: String(f).toLowerCase(),
          }),
        }),
      );
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    g['default'] = a;
  },
  98,
);
__d(
  'CometTypeaheadSeeAllViewItem.react',
  [
    'fbt',
    'ix',
    'CometTypeaheadViewItem.react',
    'TetraIcon.react',
    'TetraText.react',
    'fbicon',
    'react',
  ],
  function (a, b, c, d, e, f, g, h, i) {
    'use strict';
    var j = d('react'),
      k = d('react').useMemo;
    function a(a) {
      var b = a.entry,
        e = a.extraViewItemProps,
        f = a.queryString;
      a = babelHelpers.objectWithoutPropertiesLoose(a, [
        'entry',
        'extraViewItemProps',
        'queryString',
      ]);
      var g = k(
        function () {
          var a;
          return (a = e == null ? void 0 : e.placeholderBuilder) != null
            ? a
            : l;
        },
        [e == null ? void 0 : e.placeholderBuilder],
      );
      return j.jsx(
        c('CometTypeaheadViewItem.react'),
        babelHelpers['extends']({}, a, {
          entry: b,
          itemStartContent: j.jsx('div', {
            className:
              'x6s0dn4 xwnonoy x1o1ewxj x3x9cwd x1e5q0jg x13rtm0m x78zum5 xc9qbxq xl56j7k x14qfxbe',
            children: j.jsx(c('TetraIcon.react'), {
              color: 'white',
              icon: d('fbicon')._(i('491282'), 16),
              size: 16,
            }),
          }),
          children: j.jsx(c('TetraText.react'), {
            color: 'blueLink',
            numberOfLines: 1,
            type: 'body3',
            children: g(f),
          }),
        }),
      );
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    function l(a) {
      return h._('__JHASH__rcEEwxiDmS5__JHASH__', [
        h._implicitParam(
          '=m1',
          j.jsx('strong', {
            children: h._('__JHASH__BFbyaDXF_eS__JHASH__', [
              h._param('query', a.toLowerCase()),
            ]),
          }),
        ),
      ]);
    }
    l.displayName = l.name + ' [from ' + f.id + ']';
    g['default'] = a;
  },
  98,
);
__d(
  'CometSearchRecentDataSourceDispatcherContext',
  ['react'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    a = d('react');
    b = a.createContext();
    g['default'] = b;
  },
  98,
);
__d(
  'CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react',
  [
    'fbt',
    'ix',
    'CometSearchRecentDataSourceDispatcherContext',
    'TetraIcon.react',
    'fbicon',
    'react',
  ],
  function (a, b, c, d, e, f, g, h, i) {
    'use strict';
    var j = d('react');
    b = d('react');
    var k = b.useCallback,
      l = b.useContext,
      m = b.useState;
    function a(a) {
      var b = a.entry;
      a = a.testid;
      var e = l(c('CometSearchRecentDataSourceDispatcherContext'));
      a = m(!1);
      var f = a[0],
        g = a[1];
      a = k(
        function (a) {
          a && a.type !== 'press' && a.stopPropagation(),
            g(!0),
            e == null ? void 0 : e.dispatchRemoveRecentEntry(b);
        },
        [b, e],
      );
      return j.jsx('div', {
        className: 'x1qx5ct2 xw4jnvo',
        'data-testid': void 0,
        children: j.jsx(c('TetraIcon.react'), {
          'aria-label': h._('__JHASH__Im1kdkmyLZa__JHASH__'),
          color: 'secondary',
          disabled: f,
          focusable: !1,
          icon: d('fbicon')._(i('478231'), 12),
          onPress: a,
          size: 24,
        }),
      });
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    g['default'] = a;
  },
  98,
);
__d(
  'CometSearchTypeaheadBaseSurfaceRecentViewItem.react',
  [
    'CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react',
    'CometTypeaheadFocusLockRegion.react',
    'CometTypeaheadRecentViewItem.react',
    'react',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    function a(a) {
      var b = a.entry;
      a = babelHelpers.objectWithoutPropertiesLoose(a, ['entry']);
      return h.jsx(
        c('CometTypeaheadRecentViewItem.react'),
        babelHelpers['extends']({}, a, {
          entry: b,
          itemEndContent: h.jsx(c('CometTypeaheadFocusLockRegion.react'), {
            children: h.jsx(
              c(
                'CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react',
              ),
              { entry: b, testid: void 0 },
            ),
          }),
          testid: void 0,
        }),
      );
    }
    a.displayName = a.name + ' [from ' + f.id + ']';
    g['default'] = a;
  },
  98,
);
__d(
  'cometSearchTypeaheadEchoViewItem.resolver',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    function a(a) {
      var b = a.metaData.markers;
      return b.has('echo') ? a : null;
    }
    f['default'] = a;
  },
  66,
);
__d(
  'cometSearchTypeaheadKeywordViewItem.resolver',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    function a(a) {
      var b = a.metaData.markers;
      return b.has('keyword') ? a : null;
    }
    f['default'] = a;
  },
  66,
);
__d(
  'cometSearchTypeaheadRecentViewItem.resolver',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    function a(a) {
      return a.subtype === 'recent' ? a : null;
    }
    f['default'] = a;
  },
  66,
);
__d(
  'cometSearchTypeaheadSeeAllViewItem.resolver',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    function a(a) {
      var b = a.metaData.markers;
      return b.has('see_all') ? a : null;
    }
    f['default'] = a;
  },
  66,
);
__d(
  'SearchCometTypeaheadViewItemResolver.react',
  [
    'CometSearchTypeaheadBaseSurfaceRecentViewItem.react',
    'CometTypeaheadEchoViewItem.react',
    'CometTypeaheadKeywordViewItem.react',
    'CometTypeaheadSeeAllViewItem.react',
    'cometSearchTypeaheadEchoViewItem.resolver',
    'cometSearchTypeaheadKeywordViewItem.resolver',
    'cometSearchTypeaheadRecentViewItem.resolver',
    'cometSearchTypeaheadSeeAllViewItem.resolver',
    'react',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react').useMemo;
    function a(a) {
      var b = a.additionalEntryMappings,
        d = a.children,
        e = a.entry,
        f = a.fallbackViewItem;
      f = f === void 0 ? c('CometTypeaheadKeywordViewItem.react') : f;
      var g = a.seeAllLabelBuilder;
      a = h(
        function () {
          var a;
          return [].concat(
            (a = b) != null ? a : [],
            i({ seeAllLabelBuilder: g }),
          );
        },
        [b, g],
      );
      a = a.find(function (a) {
        a = a.resolver;
        return a(e);
      });
      if (a) {
        var j = a.viewItem;
        a = a.viewItemProps;
        return d(j, a);
      }
      return d(f);
    }
    function i(a) {
      a = a.seeAllLabelBuilder;
      return [
        {
          resolver: c('cometSearchTypeaheadEchoViewItem.resolver'),
          viewItem: c('CometTypeaheadEchoViewItem.react'),
        },
        {
          resolver: c('cometSearchTypeaheadSeeAllViewItem.resolver'),
          viewItem: c('CometTypeaheadSeeAllViewItem.react'),
          viewItemProps: { placeholderBuilder: a },
        },
        {
          resolver: c('cometSearchTypeaheadRecentViewItem.resolver'),
          viewItem: c('CometSearchTypeaheadBaseSurfaceRecentViewItem.react'),
        },
        {
          resolver: c('cometSearchTypeaheadKeywordViewItem.resolver'),
          viewItem: c('CometTypeaheadKeywordViewItem.react'),
        },
      ].filter(Boolean);
    }
    g['default'] = a;
  },
  98,
);
__d(
  'useSearchCometTypeaheadViewItem',
  ['SearchCometTypeaheadViewItemResolver.react', 'cr:2417', 'react'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react'),
      i = d('react').useCallback;
    function a(a) {
      var d = a.additionalEntryMappings,
        e = a.getLinkProps,
        f = a.seeAllLabelBuilder;
      return i(
        function (a) {
          var g = a.entry,
            i = a.queryString,
            j = babelHelpers.objectWithoutPropertiesLoose(a, [
              'entry',
              'queryString',
            ]);
          return h.jsx(c('SearchCometTypeaheadViewItemResolver.react'), {
            additionalEntryMappings: d,
            entry: g,
            seeAllLabelBuilder: f,
            children: function (a, c) {
              return h.jsx(
                a,
                babelHelpers['extends']({}, j, {
                  debugElement: b('cr:2417')
                    ? h.jsx(b('cr:2417'), { entry: g, queryString: i })
                    : null,
                  entry: g,
                  extraViewItemProps: c,
                  linkProps:
                    e == null ? void 0 : e({ entry: g, queryString: i }),
                  queryString: i,
                }),
              );
            },
          });
        },
        [d, e, f],
      );
    }
    g['default'] = a;
  },
  98,
);
__d(
  'useSearchCometTypeaheadViewListStrategy',
  [
    'CometScrollableArea.react',
    'FocusInertRegion.react',
    'focusScopeQueries',
    'react',
    'stylex',
    'useCometTypeaheadSectionedViewListStrategy',
    'useSearchCometTypeaheadViewItem',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react'),
      i = d('react').useCallback;
    function a(a) {
      var b = a.additionalEntryMappings,
        e = a.afterNullstateContent,
        f = a.emptyStateContent,
        g = a.getLinkProps,
        j = a.isScrollable,
        k = a.nullstateContent,
        l = a.onHeaderActionPress,
        m = a.scrollableXStyle,
        n = a.seeAllLabelBuilder,
        o = a.xstyle;
      a = c('useSearchCometTypeaheadViewItem')({
        additionalEntryMappings: b,
        getLinkProps: g,
        seeAllLabelBuilder: n,
      });
      var p = c('useCometTypeaheadSectionedViewListStrategy')({
        emptyStateContent: f,
        nullstateContent: k,
        onHeaderActionPress: l,
        viewItemStrategyRenderer: a,
      });
      return i(
        function (a) {
          var b = a.ariaProps,
            f = a.entries,
            g = a.highlightedEntry,
            i = a.isLoading,
            k = a.queryString;
          a = babelHelpers.objectWithoutPropertiesLoose(a, [
            'ariaProps',
            'entries',
            'highlightedEntry',
            'isLoading',
            'queryString',
          ]);
          b = h.jsxs(h.Fragment, {
            children: [
              h.jsx(
                p,
                babelHelpers['extends'](
                  {
                    ariaProps: b,
                    entries: f,
                    highlightedEntry: g,
                    isLoading: i,
                    queryString: k,
                  },
                  a,
                ),
              ),
              e != null && k.length === 0 && f.length > 0 ? e : null,
            ],
          });
          g = k === '';
          return h.jsx(c('FocusInertRegion.react'), {
            focusQuery: d('focusScopeQueries').tabbableScopeQuery,
            children: h.jsx('div', {
              className: c('stylex')(o),
              'data-testid': void 0,
              children: j
                ? h.jsx(c('CometScrollableArea.react'), {
                    horizontal: !1,
                    xstyle: m,
                    children: b,
                  })
                : b,
            }),
          });
        },
        [p, e, j, m, o],
      );
    }
    g['default'] = a;
  },
  98,
);
__d(
  'CometAddTypeaheadRecentSearchMutation',
  ['CometAddTypeaheadRecentSearchMutation.graphql', 'cr:1012418'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h,
      i =
        h !== void 0
          ? h
          : (h = b('CometAddTypeaheadRecentSearchMutation.graphql'));
    function a(a) {
      var c = a.onBeforeCommitMutation,
        d = a.onError,
        e = a.onSuccess,
        f = a.relayEnvironment,
        g = a.searchScopeEntityID,
        h = a.selectedID,
        j = a.selectedText,
        k = a.selectedType,
        l = a.source,
        m = a.stsDirectNavType,
        n = a.stsDisambiguationType,
        o = a.stsHighConfidenceSource,
        p = a.userID;
      a = a.userInput;
      c && c();
      b('cr:1012418').commitMutation(f, {
        mutation: i,
        onCompleted: function (a, b) {
          b && b.length
            ? d &&
              d(
                new Error(
                  'Payload errors while executing `addTypeaheadRecentSearchMutation`.',
                ),
              )
            : e && e(a);
        },
        onError: d,
        variables: {
          input: {
            actor_id: p != null ? p : void 0,
            search_scope_entity_id: g,
            selected_id: h,
            selected_text: j,
            selected_type: k,
            source: l,
            sts_direct_nav_type_for_graphql: m,
            sts_disambiguation_type_for_graphql: n,
            sts_high_confidence_source_for_graphql: o,
            user_input: a,
          },
        },
      });
    }
    g.commit = a;
  },
  98,
);
__d(
  'CometDeleteRecentSearchMutation',
  ['CometDeleteRecentSearchMutation.graphql', 'cr:1012418'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h,
      i = h !== void 0 ? h : (h = b('CometDeleteRecentSearchMutation.graphql'));
    function a(a) {
      var c = a.onBeforeCommitMutation,
        d = a.onError,
        e = a.onSuccess,
        f = a.relayEnvironment,
        g = a.searchEntityType,
        h = a.searchText;
      a = a.userID;
      c && c();
      b('cr:1012418').commitMutation(f, {
        mutation: i,
        onCompleted: function (a, b) {
          b && b.length
            ? d &&
              d(
                new Error(
                  'Payloads error while executing `deleteSearchMutation`.',
                ),
              )
            : e && e(a);
        },
        onError: d,
        variables: {
          input: babelHelpers['extends'](
            {},
            a != null ? { actor_id: a } : null,
            { search_entity_type: g, search_text: h },
          ),
        },
      });
    }
    g.commit = a;
  },
  98,
);
__d(
  'searchCometTypeaheadGetHighConfidenceResult',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    function a(a) {
      var b = a.metaData,
        c = a.rawData;
      b = b.markers;
      if (
        (a.subtype === 'keyword' || a.subtype === 'recent') &&
        b.has('high_confidence')
      ) {
        c =
          (b =
            (a = c.structuredInfo) == null
              ? void 0
              : a.high_confidence_result) != null
            ? b
            : {};
        a = c.hcm_id;
        b = c.source_as_enum;
        if (a != null && b != null) return { id: a, source: b };
      }
    }
    f['default'] = a;
  },
  66,
);
__d(
  'searchCometTypeaheadGetStsDisambiguation',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    function a(a) {
      var b = a.metaData,
        c = a.rawData;
      b = b.markers;
      if (a.subtype === 'keyword' && b.has('disambiguation')) {
        a =
          (c =
            (a = c.structuredInfo) == null
              ? void 0
              : (b = a.disambiguation_result) == null
              ? void 0
              : b.disambiguation_info_list[0]) != null
            ? c
            : {};
        b = a.type;
        if (b != null) return { primary: { type: b } };
      }
    }
    f['default'] = a;
  },
  66,
);
__d(
  'getSearchCometKeywordDataSourceStructuredSuggestionKey',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    function a(a) {
      var b;
      if (((b = a.direct_nav_result) == null ? void 0 : b.ent_id) != null) {
        return (
          'dir_nav_sts:' +
          ((b = a.direct_nav_result) == null ? void 0 : b.ent_id)
        );
      }
      if (
        ((b = a.high_confidence_result) == null ? void 0 : b.hcm_id) != null
      ) {
        return (
          'hc_sts:' +
          ((b = a.high_confidence_result) == null ? void 0 : b.hcm_id)
        );
      }
      return ((b = a.disambiguation_result) == null ? void 0 : b.title) !=
        null &&
        ((b = a.disambiguation_result) == null
          ? void 0
          : (b = b.disambiguation_info_list[0]) == null
          ? void 0
          : b.type) != null
        ? a.disambiguation_result.disambiguation_info_list[0].type +
            ':' +
            a.disambiguation_result.title
        : null;
    }
    f['default'] = a;
  },
  66,
);
__d(
  'getSearchCometKeywordDataSourceStructuredInfoForEntry',
  [
    'CometRelay',
    'getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo.graphql',
    'getSearchCometKeywordDataSourceStructuredSuggestionKey',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h;
    function a(a) {
      a = a.structuredTypeaheadInfo;
      if (a == null)
        return {
          entryKey: null,
          extraLoggingInfo: null,
          label: null,
          markers: [],
          structuredInfo: null,
        };
      a = d('CometRelay').readInlineData(
        h !== void 0
          ? h
          : (h = b(
              'getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo.graphql',
            )),
        a,
      );
      var e = a.direct_nav_result,
        f = a.disambiguation_result;
      a = a.high_confidence_result;
      var g = [],
        i,
        j,
        k;
      if (e != null) {
        g = ['direct_nav'];
        var l = e.ent_id,
          m = e.entity_type,
          n = e.img_url,
          o = e.link_url,
          p = e.snippet,
          q = e.title;
        e = e.type;
        k = q;
        i = {
          direct_nav_result: {
            ent_id: l,
            entity_type: m,
            img_url: n,
            link_url: o,
            snippet: p,
            title: q,
            type: e,
          },
        };
        j = {
          stsDirectNavEntityID: l,
          stsDirectNavEntityType: m,
          stsDirectNavType: e,
        };
      }
      if (a != null) {
        g = ['high_confidence'];
        n = a.hcm_id;
        o = a.picture_url;
        p = a.snippet;
        q = a.source_as_enum;
        l = a.text;
        k = l;
        i = {
          high_confidence_result: {
            hcm_id: n,
            picture_url: o,
            snippet: p,
            source_as_enum: q,
            text: l,
          },
        };
        j = { stsHighConfidenceID: n, stsHighConfidenceSource: q };
      }
      if (f != null) {
        g = ['disambiguation'];
        m = f.disambiguation_info_list;
        e = f.title;
        k = e;
        i = {
          disambiguation_result: { disambiguation_info_list: m, title: e },
        };
        j = { stsDisambiguationType: m[0].type };
      }
      return {
        entryKey:
          i != null
            ? c('getSearchCometKeywordDataSourceStructuredSuggestionKey')(i)
            : null,
        extraLoggingInfo: j,
        label: k,
        markers: g,
        structuredInfo: i,
      };
    }
    g['default'] = a;
  },
  98,
);
__d(
  'CometSearchBootstrapKeywordsDataSource.query',
  [
    'CometSearchBootstrapKeywordsDataSourceQuery.graphql',
    'filterNulls',
    'getSearchCometKeywordDataSourceStructuredInfoForEntry',
    'recoverableViolation',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h;
    d =
      h !== void 0
        ? h
        : (h = b('CometSearchBootstrapKeywordsDataSourceQuery.graphql'));
    function a(a) {
      if (!a) return [];
      a = a.viewer;
      a = (
        (a =
          a == null
            ? void 0
            : (a = a.bootstrap_keywords) == null
            ? void 0
            : a.edges) != null
          ? a
          : []
      )
        .map(function (a) {
          return a.node;
        })
        .filter(Boolean);
      return c('filterNulls')(
        a.map(function (a) {
          var b,
            d = a.item_logging_id,
            e = a.item_logging_info,
            f = a.keyword_text,
            g = a.sts_info;
          a = a.suggestion_keys;
          if (f == null) {
            c('recoverableViolation')(
              'Cannot have TA bootstrap entry without keyword_text',
              'search',
            );
            return null;
          }
          g = c('getSearchCometKeywordDataSourceStructuredInfoForEntry')({
            structuredTypeaheadInfo: g,
          });
          var h = g.entryKey,
            i = g.extraLoggingInfo,
            j = g.label,
            k = g.markers;
          g = g.structuredInfo;
          b = (b = a) != null ? b : {};
          var l = b.default_key,
            m = b.keys;
          b = b.tier;
          return {
            key:
              (h =
                (h = h) != null
                  ? h
                  : g && (a == null ? void 0 : a.default_key)) != null
                ? h
                : f,
            label: (a = j) != null ? a : f,
            metaData: {
              logging: babelHelpers['extends']({}, i, {
                loggingID: (h = d) != null ? h : '',
                loggingInfo: e,
              }),
              markers: new Set(['bootstrap', 'keyword'].concat(k)),
            },
            rawData: {
              structuredInfo: g,
              suggestion_keys:
                b != null ? { default_key: l, keys: m, tier: b } : null,
            },
            subtype: 'bootstrap',
            type: 'entry',
          };
        }),
      );
    }
    g.query = d;
    g.normalize = a;
  },
  98,
);
__d(
  'CometSearchBootstrapKeywordsDataSource',
  [
    'BaseTypeaheadDataCacheProvider',
    'BaseTypeaheadDataProvider',
    'BaseTypeaheadDataProviderQueryVariablesBuilder',
    'BaseTypeaheadInMemoryMapDataCache',
    'BaseTypeaheadPayloadDecoratorAddLimit',
    'CometSearchBootstrapKeywordsDataSource.query',
    'baseTypeaheadStartsWithMatchBuilder',
    'promiseDone',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    a = (function () {
      function a(a) {
        var b = a.limit,
          e = a.queryVariables;
        a = a.relayEnvironment;
        this.$2 = new (c('BaseTypeaheadDataCacheProvider'))({
          cache: new (c('BaseTypeaheadInMemoryMapDataCache'))(),
          matchBuilder: c('baseTypeaheadStartsWithMatchBuilder'),
        });
        this.$3 = b;
        b = new (c('BaseTypeaheadDataProviderQueryVariablesBuilder'))(
          function () {
            return function () {
              return e;
            };
          },
        );
        this.$1 = new (c('BaseTypeaheadDataProvider'))({
          query: d('CometSearchBootstrapKeywordsDataSource.query').query,
          queryVariablesBuilder: b,
          relayEnvironment: a,
        });
      }
      var b = a.prototype;
      b.bootstrap = function () {
        var a = this;
        c('promiseDone')(
          this.$1
            .fetch({ query: '' })
            .then(function (a) {
              a = a.response;
              return d(
                'CometSearchBootstrapKeywordsDataSource.query',
              ).normalize(a);
            })
            .then(function (b) {
              a.$2.clear(), a.$2.add(b, null);
            }),
        );
      };
      b.fetchCache = function (a) {
        var b = a.query;
        b = this.$2.match(b);
        var d = c('BaseTypeaheadPayloadDecoratorAddLimit')(this.$3);
        return d({ entries: b, params: a });
      };
      b.clear = function () {
        this.$2.clear();
      };
      b.removeEntriesByEntID = function (a) {
        var b = this.$2.values();
        for (
          var b = b,
            c = Array.isArray(b),
            d = 0,
            b = c
              ? b
              : b[
                  typeof Symbol === 'function' ? Symbol.iterator : '@@iterator'
                ]();
          ;

        ) {
          var e, f;
          if (c) {
            if (d >= b.length) break;
            f = b[d++];
          } else {
            d = b.next();
            if (d.done) break;
            f = d.value;
          }
          f = f;
          a ===
            ((e = f.rawData.structuredInfo) == null
              ? void 0
              : (e = e.direct_nav_result) == null
              ? void 0
              : e.ent_id) && this.$2.remove(f);
        }
      };
      return a;
    })();
    g['default'] = a;
  },
  98,
);
__d(
  'CometSearchKeywordDataSource.query',
  [
    'CometSearchKeywordDataSourceQuery.graphql',
    'cometUniqueID',
    'getSearchCometKeywordDataSourceStructuredInfoForEntry',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h;
    d = h !== void 0 ? h : (h = b('CometSearchKeywordDataSourceQuery.graphql'));
    function a(a, b) {
      if (!a) return [];
      a = a.search_keywords_suggestion;
      var d = b.query.request_id;
      a = (
        (a =
          a == null
            ? void 0
            : (a = a.suggestions) == null
            ? void 0
            : a.edges) != null
          ? a
          : []
      )
        .map(function (a) {
          return a.node;
        })
        .filter(Boolean);
      var e;
      try {
        b = JSON.parse(b.query.query_text);
        e = b != null ? b[0] : null;
      } catch (a) {}
      return a.map(function (a) {
        var b,
          f = a.logging_id,
          g = a.logging_info,
          h = a.name,
          i = a.structured_info;
        a = a.suggestion_keys;
        i = c('getSearchCometKeywordDataSourceStructuredInfoForEntry')({
          structuredTypeaheadInfo: i,
        });
        var j = i.entryKey,
          k = i.extraLoggingInfo,
          l = i.label,
          m = i.markers;
        i = i.structuredInfo;
        b = (b = a) != null ? b : {};
        var n = b.default_key,
          o = b.keys;
        b = b.tier;
        return {
          key:
            (a =
              (j =
                (j = j) != null
                  ? j
                  : i && (a == null ? void 0 : a.default_key)) != null
                ? j
                : h) != null
              ? a
              : c('cometUniqueID')(),
          label: (a = (j = l) != null ? j : h) != null ? a : '',
          metaData: {
            logging: babelHelpers['extends']({}, k, {
              loggingID: f,
              loggingInfo: g,
              query: e,
              sequenceID: d,
            }),
            markers: new Set(['keyword'].concat(m)),
          },
          rawData: {
            structuredInfo: i,
            suggestion_keys:
              b != null ? { default_key: n, keys: o, tier: b } : null,
          },
          subtype: 'keyword',
          type: 'entry',
        };
      });
    }
    g.query = d;
    g.normalize = a;
  },
  98,
);
__d(
  'cometSearchKeywordDataSourceQueryVariablesBuilder',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    var g = 10,
      h = 'blended';
    function a(a) {
      return function (b) {
        var c,
          d = b.loggingEventTrace;
        b = b.query;
        c = (c = a) != null ? c : {};
        var e = c.fetch_count,
          f = c.fetch_mode;
        c = c.group_id;
        c = JSON.stringify(
          c != null ? [{ text: '', type: 'group', uid: c }, b] : [b],
        );
        return {
          query: {
            fetch_count: (b = e) != null ? b : g,
            fetch_mode: (e = f) != null ? e : h,
            query_text: c,
            request_id: d == null ? void 0 : d.sequenceID,
            session_id: (b = d == null ? void 0 : d.sessionID) != null ? b : '',
          },
        };
      };
    }
    f['default'] = a;
  },
  66,
);
__d(
  'CometSearchKeywordDataSource',
  [
    'BaseCacheEntryKeyBuilder',
    'BaseTypeaheadDataProvider',
    'BaseTypeaheadDataProviderQueryVariablesBuilder',
    'BaseTypeaheadNetworkCacheDataSource',
    'BaseTypeaheadQueryDataCacheProvider',
    'CometSearchKeywordDataSource.query',
    'baseTypeaheadDedupEntriesBuilder',
    'baseTypeaheadLabelSuffixBuilder',
    'cometSearchKeywordDataSourceQueryVariablesBuilder',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    a = (function () {
      function a(a) {
        var b = a.dedupe,
          e = a.onError,
          f = a.queryVariables;
        a = a.relayEnvironment;
        f = new (c('BaseTypeaheadDataProviderQueryVariablesBuilder'))(
          c('cometSearchKeywordDataSourceQueryVariablesBuilder'),
        ).setDefaultVariables(f);
        e = new (c('BaseTypeaheadDataProvider'))({
          onError: e,
          query: d('CometSearchKeywordDataSource.query').query,
          queryVariablesBuilder: f,
          relayEnvironment: a,
        });
        this.$1 = new (c('BaseTypeaheadQueryDataCacheProvider'))({
          dedupe:
            (f = b) != null
              ? f
              : c('baseTypeaheadDedupEntriesBuilder')(
                  c('BaseCacheEntryKeyBuilder'),
                ),
          suffixBuilder: function () {
            return c('baseTypeaheadLabelSuffixBuilder').apply(
              void 0,
              arguments,
            );
          },
        });
        this.$2 = new (c('BaseTypeaheadNetworkCacheDataSource'))(e, this.$1, {
          normalizeFunc: d('CometSearchKeywordDataSource.query').normalize,
        });
      }
      var b = a.prototype;
      b.fetchCache = function (a) {
        return this.$2.fetchCache(a);
      };
      b.fetchNetwork = function (a) {
        return this.$2.fetchNetwork(a);
      };
      b.clearQueryCache = function () {
        this.$1.clear();
      };
      return a;
    })();
    g['default'] = a;
  },
  98,
);
__d(
  'cometSearchTypeaheadPayloadDecoratorAddEcho',
  ['BaseDataEntryKeyBuilder', 'cometTypeaheadMemoizeEntryKey'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function a(a) {
      var b = a.keyBuilder,
        d = b === void 0 ? c('BaseDataEntryKeyBuilder') : b,
        e = a.limit;
      return function (a) {
        var b = a.entries,
          f = a.params.query;
        b = (b = b) != null ? b : [];
        var g =
            b.find(function (a) {
              return d(a).trim().toLowerCase() === f.trim().toLowerCase();
            }) != null,
          h = [];
        if (!g && b.length < e) {
          g = c('cometTypeaheadMemoizeEntryKey')(f + '-echo');
          g = {
            key: g,
            label: f,
            metaData: { markers: new Set(['echo']) },
            rawData: { type: 'echo' },
          };
          h.push(g);
        }
        return babelHelpers['extends']({}, a, { entries: [].concat(b, h) });
      };
    }
    g['default'] = a;
  },
  98,
);
__d(
  'cometSearchTypeaheadPayloadDecoratorAddSeeAll',
  ['cometTypeaheadMemoizeEntryKey'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function a(a) {
      var b = a.position;
      return function (a) {
        var d = a.entries,
          e = a.params.query;
        d = (d = d) != null ? d : [];
        var f = c('cometTypeaheadMemoizeEntryKey')(e + '-see_all');
        f = {
          key: f,
          label: e,
          metaData: { markers: new Set(['see_all']) },
          rawData: { type: 'see_all' },
        };
        e = [];
        switch (b) {
          case 'bottom':
            e = [].concat(d, [f]);
            break;
          case 'top':
            e = [f].concat(d);
            break;
        }
        return babelHelpers['extends']({}, a, { entries: e });
      };
    }
    g['default'] = a;
  },
  98,
);
__d(
  'cometSearchTypeaheadDecorateMixedPayload',
  [
    'BaseTypeaheadPayloadDecoratorAddLimit',
    'baseTypeaheadFetchPayloadDecorate',
    'cometSearchTypeaheadPayloadDecoratorAddEcho',
    'cometSearchTypeaheadPayloadDecoratorAddSeeAll',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function a(a, b) {
      var d = b.keyBuilder,
        e = b.limit;
      b = b.seeAllPosition;
      b = b === void 0 ? 'bottom' : b;
      return c('baseTypeaheadFetchPayloadDecorate')(a, [
        c('BaseTypeaheadPayloadDecoratorAddLimit')(e),
        c('cometSearchTypeaheadPayloadDecoratorAddEcho')({
          keyBuilder: d,
          limit: e,
        }),
        c('cometSearchTypeaheadPayloadDecoratorAddSeeAll')({ position: b }),
      ]);
    }
    g['default'] = a;
  },
  98,
);
__d(
  'cometSearchTypeaheadPayloadDecoratorApplySectionLimits',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    function a(a) {
      return function (b) {
        for (
          var c = b.entries,
            d = Array.isArray(c),
            e = 0,
            c = d
              ? c
              : c[
                  typeof Symbol === 'function' ? Symbol.iterator : '@@iterator'
                ]();
          ;

        ) {
          var f;
          if (d) {
            if (e >= c.length) break;
            f = c[e++];
          } else {
            e = c.next();
            if (e.done) break;
            f = e.value;
          }
          f = f;
          var g = a.get(f.key);
          g != null &&
            f.type === 'section' &&
            (f.entries = f.entries.slice(0, g));
        }
        return b;
      };
    }
    f['default'] = a;
  },
  66,
);
__d(
  'cometSearchTypeaheadDecorateRecentPayload',
  [
    'BaseTypeaheadPayloadDecoratorAddLimit',
    'baseTypeaheadFetchPayloadDecorate',
    'cometSearchTypeaheadPayloadDecoratorApplySectionLimits',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function a(a, b) {
      var d = b.limit;
      b = b.sectionLimits;
      var e = a.entries.every(function (a) {
        return a.type === 'section';
      });
      return c('baseTypeaheadFetchPayloadDecorate')(a, [
        e && b != null
          ? c('cometSearchTypeaheadPayloadDecoratorApplySectionLimits')(b)
          : c('BaseTypeaheadPayloadDecoratorAddLimit')(d),
      ]);
    }
    g['default'] = a;
  },
  98,
);
__d(
  'getCometSearchTypeaheadStructuredInfoKey',
  ['getSearchCometKeywordDataSourceStructuredSuggestionKey'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function a(a) {
      a = a.rawData.structuredInfo;
      return a == null
        ? null
        : c('getSearchCometKeywordDataSourceStructuredSuggestionKey')(a);
    }
    g['default'] = a;
  },
  98,
);
__d(
  'CometSearchTypeaheadDefaultEntryComparator',
  [
    'BaseDataEntryLabelKeyBuilder',
    'getCometSearchTypeaheadStructuredInfoKey',
    'recoverableViolation',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function h(a, b) {
      var d = c('getCometSearchTypeaheadStructuredInfoKey')(a),
        e = c('getCometSearchTypeaheadStructuredInfoKey')(b);
      return d != null && e != null
        ? d === e
        : c('BaseDataEntryLabelKeyBuilder')(a) ===
            c('BaseDataEntryLabelKeyBuilder')(b);
    }
    function a(a, b) {
      if (!h(a, b)) {
        c('recoverableViolation')(
          'The suggestions are not dupes: ' + a.key + ' compared to ' + b.key,
          'search',
        );
        return a;
      }
      var d = c('getCometSearchTypeaheadStructuredInfoKey')(a),
        e = c('getCometSearchTypeaheadStructuredInfoKey')(b);
      return d != null && e != null ? b : e != null ? b : a;
    }
    g.areEntriesDupes = h;
    g.pickEntryToKeep = a;
  },
  98,
);
__d(
  'CometSearchTypeaheadServerDrivenEntryComparator',
  ['FBLogger', 'getCometSearchTypeaheadStructuredInfoKey', 'gkx'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function h(a) {
      a = (a = a.rawData) != null ? a : {};
      a = a.suggestion_keys;
      if (a == null)
        throw c('FBLogger')('search').mustfixThrow('Unexpected missing keys');
      return a;
    }
    function a(a, b) {
      var d = h(a),
        e = d.default_key;
      d = d.keys;
      var f = h(b),
        g = f.default_key,
        i = f.keys;
      if (
        d.some(function (a) {
          return i.includes(a);
        })
      )
        return !0;
      f = c('getCometSearchTypeaheadStructuredInfoKey')(a);
      var k = c('getCometSearchTypeaheadStructuredInfoKey')(b);
      f != null &&
        f === k &&
        j('STS dupe: same STS UI key but no keys overlap', a, b);
      if (d.length > 0 && i.length > 0) return !1;
      if (e == null || g == null) return !1;
      e === g &&
        a.label.toLowerCase() !== b.label.toLowerCase() &&
        j('STS dupe: same default key but different label', a, b);
      return e.toLowerCase() === g.toLowerCase();
    }
    function b(a, b) {
      var c = h(a);
      c = c.tier;
      var d = h(b);
      d = d.tier;
      return c <= d ? b : a;
    }
    function i(a) {
      var b = h(a),
        c = b.default_key;
      b = b.keys;
      return (
        'ui key: ' +
        a.key +
        ', keys: ' +
        (b.join(',') || 'empty') +
        ', default key: ' +
        ((b = c) != null ? b : 'null') +
        ', label: ' +
        a.label
      );
    }
    function j(a, b, d) {
      c('FBLogger')('search').warn(a + ': (' + i(b) + ') vs (' + i(d) + ')');
    }
    g.areEntriesDupes = a;
    g.pickEntryToKeep = b;
  },
  98,
);
__d(
  'cometSearchTypeaheadDedupeAndLog',
  ['FBLogger', 'gkx', 'killswitch', 'requireDeferred'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = c('requireDeferred')('ODS').__setRef(
      'cometSearchTypeaheadDedupeAndLog',
    );
    function a(a, b, d) {
      if (c('killswitch')('SEARCH_COMET_DISABLE_STS_DUPE_LOGGING')) return b;
      var e = new Map(),
        f = [];
      for (
        var b = b,
          g = Array.isArray(b),
          h = 0,
          b = g
            ? b
            : b[
                typeof Symbol === 'function' ? Symbol.iterator : '@@iterator'
              ]();
        ;

      ) {
        var j;
        if (g) {
          if (h >= b.length) break;
          j = b[h++];
        } else {
          h = b.next();
          if (h.done) break;
          j = h.value;
        }
        j = j;
        var k = e.get(j.key);
        k != null
          ? i({ caller: d, dupeEntry: j, existingEntry: k, strategy: a })
          : (e.set(j.key, j), f.push(j));
      }
      return f;
    }
    function i(a) {
      var b = a.caller,
        d = a.dupeEntry,
        e = a.existingEntry;
      a = a.strategy;
      var f = e.metaData.markers,
        g = d.metaData.markers;
      c('FBLogger')('search').warn(
        'STS Dupe encountered: ' +
          e.key +
          ' (' +
          Array.from(f).join('_') +
          ', label: ' +
          e.label +
          ') compared to ' +
          d.key +
          '\n    (' +
          Array.from(g).join('_') +
          ', label: ' +
          d.label +
          ')',
      );
      var i = 'comet_ta_sts_dupe_v4.' + a,
        j = [
          'react_key_' + (Array.from(f).join('_') || 'plain_keyword'),
          b,
          'existing_kind_' + Array.from(f).join('_'),
          'dupe_kind_' + Array.from(g).join('_'),
        ].join('.');
      h.onReady(function (a) {
        a.bumpEntityKey(354, i, j, 1);
      });
    }
    g['default'] = a;
  },
  98,
);
__d(
  'cometSearchTypeaheadSTSDedupeEntries',
  [
    'CometSearchTypeaheadDefaultEntryComparator',
    'CometSearchTypeaheadServerDrivenEntryComparator',
    'cometSearchTypeaheadDedupeAndLog',
    'filterNulls',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function a(a, b, c) {
      c === void 0 && (c = 'bootstrap_and_backend_merge');
      var e = a.concat(b).every(function (a) {
        return a.rawData.suggestion_keys != null;
      });
      return h.apply(
        void 0,
        [a, b, c].concat(
          e
            ? [
                d('CometSearchTypeaheadServerDrivenEntryComparator')
                  .areEntriesDupes,
                d('CometSearchTypeaheadServerDrivenEntryComparator')
                  .pickEntryToKeep,
              ]
            : [
                d('CometSearchTypeaheadDefaultEntryComparator').areEntriesDupes,
                d('CometSearchTypeaheadDefaultEntryComparator').pickEntryToKeep,
              ],
        ),
      );
    }
    function h(a, b, e, f, g) {
      var h = d(
          'CometSearchTypeaheadServerDrivenEntryComparator',
        ).areEntriesDupes,
        i = [],
        j = new Set(b);
      for (
        var a = a,
          k = Array.isArray(a),
          l = 0,
          a = k
            ? a
            : a[
                typeof Symbol === 'function' ? Symbol.iterator : '@@iterator'
              ]();
        ;

      ) {
        var m;
        if (k) {
          if (l >= a.length) break;
          m = a[l++];
        } else {
          l = a.next();
          if (l.done) break;
          m = l.value;
        }
        m = m;
        i.push(m);
      }
      for (
        m = b,
          l = Array.isArray(m),
          k = 0,
          m = l
            ? m
            : m[
                typeof Symbol === 'function' ? Symbol.iterator : '@@iterator'
              ]();
        ;

      ) {
        if (l) {
          if (k >= m.length) break;
          a = m[k++];
        } else {
          k = m.next();
          if (k.done) break;
          a = k.value;
        }
        b = a;
        a = [];
        for (var n = 0; n < i.length; n++) {
          var o = i[n];
          o != null && f(o, b) && a.push(n);
        }
        o = a[0];
        n = o != null ? i[o] : null;
        if (n != null && !j.has(n)) {
          n = g(n, b);
          i[o] = n;
          for (o = 0; o < a.length; o++) {
            var p = a[o],
              q = i[p];
            q != null && q !== n && q !== g(q, b) && (i[p] = null);
          }
        } else i.push(b);
      }
      return c('cometSearchTypeaheadDedupeAndLog')(
        h ? 'with_keys' : 'without_keys',
        c('filterNulls')(i),
        e,
      );
    }
    g['default'] = a;
  },
  98,
);
__d(
  'cometSearchTypeaheadSTSDedupeCachedEntries',
  ['cometSearchTypeaheadSTSDedupeEntries', 'filterNulls'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function a(a, b) {
      var d = c('cometSearchTypeaheadSTSDedupeEntries')(
          a.map(function (a) {
            return a.entry;
          }),
          b.map(function (a) {
            return a.entry;
          }),
          'query_cache',
        ),
        e = [].concat(a, b);
      return c('filterNulls')(
        d.map(function (a) {
          return e.find(function (b) {
            return b.entry === a;
          });
        }),
      );
    }
    g['default'] = a;
  },
  98,
);
__d(
  'searchCometTypeaheadPushErrorToast',
  ['fbt', 'cometPushToast'],
  function (a, b, c, d, e, f, g, h) {
    'use strict';
    function a() {
      d('cometPushToast').cometPushErrorToast({
        message: h._('__JHASH__EY5KKLiSk-O__JHASH__'),
      });
    }
    g['default'] = a;
  },
  98,
);
__d(
  'useSearchCometTypeaheadCompositeDataSource',
  [
    'BaseDataEntryLabelKeyBuilder',
    'CometRelay',
    'CometSearchBootstrapKeywordsDataSource',
    'CometSearchKeywordDataSource',
    'Promise',
    'cometSearchTypeaheadDecorateMixedPayload',
    'cometSearchTypeaheadDecorateRecentPayload',
    'cometSearchTypeaheadSTSDedupeCachedEntries',
    'cometSearchTypeaheadSTSDedupeEntries',
    'qex',
    'react',
    'searchCometTypeaheadPushErrorToast',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    e = d('react');
    var h = e.useCallback,
      i = e.useMemo;
    function a(a) {
      var e = a.config,
        f = e.dataSources,
        g = f.bootstrapKeywordsDataSourceParams,
        j = f.keywordDataSourceParams,
        k = e.logging.sessionContext;
      f = e.view;
      var l = f.renderLimit,
        m = f.sectionLimits,
        n = a.recentDataSource,
        o = a.searchScopeEntityID,
        p = d('CometRelay').useRelayEnvironment(),
        q = i(
          function () {
            return g != null
              ? new (c('CometSearchBootstrapKeywordsDataSource'))(
                  babelHelpers['extends']({}, g, {
                    limit: l,
                    relayEnvironment: p,
                  }),
                )
              : null;
          },
          [g, l, p],
        ),
        r = i(
          function () {
            return new (c('CometSearchKeywordDataSource'))(
              babelHelpers['extends']({}, j, {
                dedupe: c('cometSearchTypeaheadSTSDedupeCachedEntries'),
                limit: l,
                onError: function () {
                  return c('searchCometTypeaheadPushErrorToast')();
                },
                relayEnvironment: p,
              }),
            );
          },
          [j, l, p],
        ),
        s = h(
          function (a) {
            var b = a.entries;
            a = a.params;
            return c('cometSearchTypeaheadDecorateMixedPayload')(
              { entries: b, params: a },
              { keyBuilder: c('BaseDataEntryLabelKeyBuilder'), limit: l },
            );
          },
          [l],
        ),
        t = h(function (a, b) {
          return c('cometSearchTypeaheadSTSDedupeEntries')(
            a,
            b,
            'bootstrap_and_backend_merge',
          );
        }, []),
        u = h(
          function () {
            var a;
            a = (a = c('qex')._('869')) != null ? a : !1;
            a || (q == null ? void 0 : q.bootstrap());
            n == null ? void 0 : n.bootstrap();
          },
          [q, n],
        ),
        v = h(
          function (a, b) {
            if (n == null) return;
            if (o == null) {
              n.add(a, k, b);
              return;
            }
            var c = a.key,
              d = a.label,
              e = a.metaData;
            a = a.rawData;
            e = { logging: { searchScopeEntityID: o }, markers: e.markers };
            c = {
              key: c,
              label: d,
              metaData: e,
              rawData: a,
              subtype: 'recent',
              type: 'entry',
            };
            n.add(c, k, b);
          },
          [k, n, o],
        ),
        w = h(
          function (a) {
            var b = a.query;
            if (b === '' && n != null) {
              var d = n.fetchCache(a),
                e = d.entries;
              d = d.params;
              return c('cometSearchTypeaheadDecorateRecentPayload')(
                { entries: e, params: d },
                { limit: l, sectionLimits: m },
              );
            }
            if (b === '') return { entries: [], params: a };
            if (q == null) {
              e = r.fetchCache(a);
              return s(babelHelpers['extends']({}, e));
            }
            d = q.fetchCache(a);
            b = d.entries;
            e = d.params;
            if (b.length >= l) return s({ entries: b, params: e });
            d = r.fetchCache(a);
            e = d.entries;
            a = d.params;
            d = t(b, e);
            return s({ entries: d, params: a });
          },
          [q, s, t, r, l, n, m],
        ),
        x = h(
          function (a) {
            var d = a.query;
            if (d === '' && n != null)
              return n.fetchNetwork(a).then(function (a) {
                return c('cometSearchTypeaheadDecorateRecentPayload')(
                  { entries: a.entries, params: a.params },
                  { limit: l, sectionLimits: m },
                );
              });
            if (d === '')
              return b('Promise').resolve({ entries: [], params: a });
            return q == null
              ? r.fetchNetwork(a).then(function (a) {
                  return s(babelHelpers['extends']({}, a));
                })
              : r.fetchNetwork(a).then(function (b) {
                  var c = q.fetchCache(a);
                  c = c.entries;
                  var d = b.entries;
                  b = b.params;
                  c = t(c, d);
                  return s({ entries: c, params: b });
                });
          },
          [q, s, t, r, l, n, m],
        ),
        y = h(
          function (a, b) {
            n != null && n.remove(a, b);
          },
          [n],
        );
      return i(
        function () {
          return {
            addRecentEntry: v,
            bootstrap: u,
            clearQueryCache: function () {
              return r.clearQueryCache();
            },
            clearRecentSearches: function () {
              return n == null ? void 0 : n.clear();
            },
            fetchCache: w,
            fetchNetwork: x,
            getBootstrapKeywordsDataSource: function () {
              return q;
            },
            refreshRecentSearches: function () {
              return n == null ? void 0 : n.refresh();
            },
            removeRecentEntry: y,
          };
        },
        [q, v, u, w, x, y, r, n],
      );
    }
    g['default'] = a;
  },
  98,
);
__d(
  'searchCometTypeaheadSubtractSections',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    function a(a, b) {
      var c = new Set(
        a.entries.map(function (a) {
          return a.key;
        }),
      );
      b.entries = b.entries.filter(function (a) {
        return !c.has(a.key);
      });
    }
    f['default'] = a;
  },
  66,
);
__d(
  'searchCometTypeaheadMergeSections',
  ['searchCometTypeaheadSubtractSections'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    function a(a, b) {
      c('searchCometTypeaheadSubtractSections')(a, b),
        (b.entries = a.entries.concat(b.entries));
    }
    g['default'] = a;
  },
  98,
);
__d(
  'CometSearchRecentDataCacheProvider',
  [
    'BaseDataEntryLabelKeyBuilder',
    'searchCometTypeaheadMergeSections',
    'searchCometTypeaheadSubtractSections',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    a = (function () {
      function a(a) {
        var b = a.cache,
          d = a.matchBuilder;
        a = a.keyBuilder;
        a = a === void 0 ? c('BaseDataEntryLabelKeyBuilder') : a;
        this.$1 = b;
        this.$2 = d;
        this.$3 = a;
      }
      var b = a.prototype;
      b.add = function (a, b, d) {
        var e = this;
        if (d === 'network') {
          this.$1.clear();
          []
            .concat(a)
            .reverse()
            .forEach(function (a) {
              var b = e.$3(a);
              e.$1.set(b, a);
            });
          return;
        }
        a.forEach(function (a) {
          var b = e.$3(a),
            d = e.$1.get(b);
          if (d)
            if (d.type === 'section' && a.type === 'section') {
              c('searchCometTypeaheadMergeSections')(a, d);
              return;
            } else e.$1.remove(b);
          e.$1.set(b, a);
        });
      };
      b.clear = function () {
        this.$1.clear();
      };
      b.remove = function (a) {
        var b = this.$3(a),
          d = this.$1.get(b);
        d &&
        d.type === 'section' &&
        a.type === 'section' &&
        d.entries.length !== 0
          ? c('searchCometTypeaheadSubtractSections')(a, d)
          : this.$1.remove(b);
      };
      b.match = function (a) {
        var b = this.$2({ query: a });
        return this.$1
          .values()
          .map(function (a) {
            return a.type === 'section'
              ? babelHelpers['extends']({}, a)
              : babelHelpers['extends']({}, a);
          })
          .reverse()
          .filter(function (a) {
            if (a.type === 'section') {
              a.entries = a.entries.filter(b);
              return !0;
            } else return b(a);
          });
      };
      b.values = function () {
        return this.$1.values();
      };
      return a;
    })();
    g['default'] = a;
  },
  98,
);
__d(
  'cometSearchNullStateMatchBuilder',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    function a() {
      return function (a) {
        a = a.metaData.markers;
        return (
          a.has('recent') || a.has('nullstate_explore') || a.has('keyword')
        );
      };
    }
    f['default'] = a;
  },
  66,
);
__d(
  'CometSearchRecentDataSource',
  [
    'fbt',
    'BaseDataEntryKeyBuilder',
    'BaseTypeaheadDataProvider',
    'BaseTypeaheadDataProviderQueryVariablesBuilder',
    'BaseTypeaheadInMemoryListDataCache',
    'BaseTypeaheadNetworkDataSource',
    'CometAddTypeaheadRecentSearchMutation',
    'CometDeleteRecentSearchMutation',
    'CometSearchRecentDataCacheProvider',
    'Promise',
    'cometSearchNullStateMatchBuilder',
    'qex',
  ],
  function (a, b, c, d, e, f, g, h) {
    'use strict';
    a = (function () {
      var a = e.prototype;
      a.$8 = function () {
        var a = this.$2
          .values()
          .map(function (a) {
            return a.type === 'section' && a.key === 'RECENT_SEARCHES'
              ? a
              : null;
          })
          .filter(Boolean);
        return a.length !== 0 ? a[0] : null;
      };
      function e(a) {
        var b = a.activityLogURL,
          d = a.gqlQuery,
          e = a.limit,
          f = a.normalize,
          g = a.options,
          h = a.queryVariablesBuilderFunction;
        a = a.relayEnvironment;
        this.$4 = a;
        this.$5 = e;
        this.$6 = h({ query: '' }).filter;
        this.$7 = b;
        a = function () {
          return h;
        };
        e = new (c('BaseTypeaheadDataProviderQueryVariablesBuilder'))(a);
        b = new (c('BaseTypeaheadDataProvider'))({
          options: g,
          query: d,
          queryVariablesBuilder: e,
          relayEnvironment: this.$4,
        });
        this.$2 = new (c('CometSearchRecentDataCacheProvider'))({
          cache: new (c('BaseTypeaheadInMemoryListDataCache'))(),
          keyBuilder: c('BaseDataEntryKeyBuilder'),
          matchBuilder: c('cometSearchNullStateMatchBuilder'),
        });
        this.$1 = new (c('BaseTypeaheadNetworkDataSource'))(b, f);
      }
      a.add = function (a, b, c) {
        c = c === void 0 ? {} : c;
        var e = c.onBeforeCommitMutation,
          f = c.onError;
        c = c.onSuccess;
        var g = a.metaData,
          h = this.$8();
        h != null
          ? this.$2.add([babelHelpers['extends']({}, h, { entries: [a] })], '')
          : this.$2.add([a], '');
        g = (h = g == null ? void 0 : g.logging) != null ? h : {};
        h = g.entityID;
        var i = g.entityType,
          j = g.searchScopeEntityID,
          k = g.stsDirectNavEntityID,
          l = g.stsDirectNavType,
          m = g.stsDisambiguationType,
          n = g.stsHighConfidenceID;
        g = g.stsHighConfidenceSource;
        d('CometAddTypeaheadRecentSearchMutation').commit({
          onBeforeCommitMutation: e,
          onError: f,
          onSuccess: c,
          relayEnvironment: this.$4,
          searchScopeEntityID: j,
          selectedID: (f = (e = h) != null ? e : k) != null ? f : n,
          selectedText: a.label.toLowerCase(),
          selectedType: (c = i) != null ? c : 'keyword',
          source: b,
          stsDirectNavType: l,
          stsDisambiguationType: m,
          stsHighConfidenceSource: g,
          userInput: a.label.toLowerCase(),
        });
      };
      a.bootstrap = function () {
        var a;
        a = (a = c('qex')._('1300')) != null ? a : !1;
        if (a && this.$6 === 'all') return;
        this.fetchNetwork({ query: '' });
      };
      a.fetchCache = function (a) {
        var b = a.query;
        b = this.$2.match(b);
        return { entries: b, params: a };
      };
      a.fetchNetwork = function (a) {
        var c = this;
        return this.$3 != null && this.$3 < this.$5
          ? b('Promise').resolve({ entries: this.$2.match(a.query), params: a })
          : this.$1.fetchNetwork(a).then(function (b) {
              var d = b.entries;
              b = b.params.query;
              d != null &&
                (d.forEach(function (a) {
                  var b = c.$7;
                  ['all', 'group_scoped_search'].includes(c.$6) &&
                    b != null &&
                    a.type === 'section' &&
                    a.key === 'RECENT_SEARCHES' &&
                    (a.action = {
                      label: h._('__JHASH__0ioTgLFUb4g__JHASH__'),
                      type: 'link',
                      url: b,
                    });
                }),
                (c.$3 = d.length),
                c.$2.add(d, b, 'network'));
              return { entries: c.$2.match(b), params: a };
            });
      };
      a.remove = function (a, b) {
        b = b === void 0 ? {} : b;
        var c = b.onBeforeCommitMutation,
          e = b.onError;
        b = b.onSuccess;
        var f = this.$8();
        f != null
          ? this.$2.remove(babelHelpers['extends']({}, f, { entries: [a] }))
          : this.$2.remove(a);
        d('CometDeleteRecentSearchMutation').commit({
          onBeforeCommitMutation: c,
          onError: e,
          onSuccess: b,
          relayEnvironment: this.$4,
          searchText: a.label,
        });
      };
      a.clear = function () {
        var a = this.$8();
        if (a == null) {
          this.$2.clear();
          return;
        }
        a.entries.length !== 0 && this.$2.remove(a);
      };
      a.refresh = function () {
        (this.$3 = null), this.clear(), this.fetchNetwork({ query: '' });
      };
      return e;
    })();
    g['default'] = a;
  },
  98,
);
__d(
  'searchCometIsValidRecentSearchEntityType',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    var g = ['app', 'application', 'event', 'group', 'page', 'user'];
    function a(a) {
      return g.includes(a == null ? void 0 : a.toLowerCase());
    }
    f['default'] = a;
  },
  66,
);
__d(
  'CometSearchRecentDataSource.query',
  [
    'fbt',
    'CometSearchRecentDataSourceQuery.graphql',
    'FBLogger',
    'filterNulls',
    'getSearchCometKeywordDataSourceStructuredInfoForEntry',
    'searchCometIsValidRecentSearchEntityType',
  ],
  function (a, b, c, d, e, f, g, h) {
    'use strict';
    var i;
    d = i !== void 0 ? i : (i = b('CometSearchRecentDataSourceQuery.graphql'));
    function a(a) {
      var b;
      if (!a) return [];
      b = c('filterNulls')(
        ((b =
          (b = a.search_null_state) == null
            ? void 0
            : (b = b.results) == null
            ? void 0
            : b.edges) != null
          ? b
          : [
              {
                node: {
                  rendering_strategy: {
                    key: 'RECENT_SEARCHES',
                    result: {
                      header_fbt: h._('__JHASH__QJCAJUEzrgs__JHASH__'),
                      header_text: 'RECENT_SEARCHES',
                    },
                  },
                },
              },
            ]
        ).map(function (a) {
          return (a = a.node) == null ? void 0 : a.rendering_strategy;
        }),
      );
      var d = [],
        e = null;
      for (
        var b = b,
          f = Array.isArray(b),
          g = 0,
          b = f
            ? b
            : b[
                typeof Symbol === 'function' ? Symbol.iterator : '@@iterator'
              ]();
        ;

      ) {
        var i;
        if (f) {
          if (g >= b.length) break;
          i = b[g++];
        } else {
          g = b.next();
          if (g.done) break;
          i = g.value;
        }
        i = i;
        var l = i.key;
        i = i.result;
        if (i == null || l == null) continue;
        var m = i.header_fbt,
          n = i.header_text;
        if (n != null)
          if (l === 'RECENT_SEARCHES') {
            var o;
            d.push({
              entries: j(
                (o =
                  (o = a.viewer) == null
                    ? void 0
                    : (o = o.recent_searches) == null
                    ? void 0
                    : o.edges) != null
                  ? o
                  : [],
              ),
              key: l,
              label: n,
              title: m,
              type: 'section',
            });
          } else e = { headerText: n, key: l };
        else
          e != null &&
            (i == null ? void 0 : i.suggestions) != null &&
            (d.push({
              entries: k(i.suggestions),
              key: e.key,
              label: e.headerText,
              type: 'section',
            }),
            (e = null));
      }
      return d;
    }
    function j(a) {
      return c('filterNulls')(
        a.map(function (a) {
          var b = a.node;
          a = a.search_badge;
          if (b == null) return null;
          var d = b.__typename,
            e = b.id,
            f = b.item_logging_info,
            g = b.name,
            h = b.profile_picture,
            i = b.sts_info;
          b = b.url;
          var j = c('searchCometIsValidRecentSearchEntityType')(d);
          i = c('getSearchCometKeywordDataSourceStructuredInfoForEntry')({
            structuredTypeaheadInfo: i,
          });
          var k = i.extraLoggingInfo,
            l = i.label,
            m = i.markers;
          i = i.structuredInfo;
          if (g == null) {
            c('FBLogger')('search').mustfix(
              'Missing name for recent search data with __typename: %s',
              d,
            );
            return null;
          }
          var n = g.toLocaleLowerCase();
          return {
            key: n,
            label: (n = l) != null ? n : g,
            metaData: {
              logging: babelHelpers['extends']({}, k, {
                entityID: j ? e : null,
                entityType: j && d != null ? d.toLowerCase() : null,
                loggingInfo: f,
              }),
              markers: new Set(
                c('filterNulls')(['recent', j ? 'entity' : null].concat(m)),
              ),
            },
            rawData: {
              badgeSnippet:
                (a == null ? void 0 : a.enabled) === !0 ? a.snippet : null,
              profile:
                j &&
                e != null &&
                (h == null ? void 0 : h.uri) != null &&
                b != null
                  ? { id: e, profilePictureURL: h.uri, url: b }
                  : void 0,
              structuredInfo: i,
            },
            subtype: 'recent',
            type: 'entry',
          };
        }),
      );
    }
    function k(a) {
      return c('filterNulls')(
        a.map(function (a) {
          if (a.__typename !== 'XFBSearchNullStateQuerySuggestion') return null;
          var b = a.display_text,
            d = a.key,
            e = a.sts_info,
            f = a.suggestion_logging_info;
          if (b == null) {
            c('FBLogger')('search').mustfix(
              'Missing name for nullstate suggestion search data with __typename: %s',
              a.__typename,
            );
            return null;
          }
          if (d == null) {
            c('FBLogger')('search').mustfix(
              'Missing key for nullstate suggestion search data with __typename: %s',
              a.__typename,
            );
            return null;
          }
          a = c('getSearchCometKeywordDataSourceStructuredInfoForEntry')({
            structuredTypeaheadInfo: e,
          });
          e = a.extraLoggingInfo;
          var g = a.markers;
          a = a.structuredInfo;
          f = (f = f) != null ? f : {};
          var h = f.fetch_source;
          f = f.logging_info;
          return {
            key: d,
            label: b,
            metaData: {
              logging: babelHelpers['extends'](
                { fetchSource: h, loggingInfo: ((d = f) != null ? d : [])[0] },
                e,
              ),
              markers: new Set(
                new Set(['keyword', 'nullstate_explore'].concat(g)),
              ),
            },
            rawData: { structuredInfo: a },
            subtype: 'keyword',
            type: 'entry',
          };
        }),
      );
    }
    g.query = d;
    g.normalize = a;
  },
  98,
);
__d(
  'searchCometTypeaheadWithRecentDataSourceContext',
  [
    'CometSearchRecentDataSourceDispatcherContext',
    'SearchCometTypeaheadEventEmitterContext',
    'react',
    'useCometInternalTypeaheadFetch',
    'useSearchCometEventEmitterContext',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react');
    b = d('react');
    var i = b.useCallback,
      j = b.useEffect,
      k = b.useMemo;
    function a(a, b) {
      var d = b.dataSource,
        e = b.shouldSubscribeToRecentSearches;
      return function (b) {
        var f = b.inputRef,
          g = b.onPressEntry,
          l = b.onSelectFreeformQuery;
        b = babelHelpers.objectWithoutPropertiesLoose(b, [
          'inputRef',
          'onPressEntry',
          'onSelectFreeformQuery',
        ]);
        var m = c('useCometInternalTypeaheadFetch')(),
          n = m.refetch;
        m =
          (m = c('useSearchCometEventEmitterContext')(
            c('SearchCometTypeaheadEventEmitterContext'),
          )) != null
            ? m
            : {};
        var o = m.subscribeToRecentSearchEntryAdded;
        j(
          function () {
            if (e)
              return o == null
                ? void 0
                : o(function (a) {
                    d.addRecentEntry(a);
                  });
          },
          [o],
        );
        m = i(
          function (a) {
            var b = {
              key: a,
              label: a,
              metaData: { markers: new Set(['recent']) },
              rawData: {},
              subtype: 'recent',
              type: 'entry',
            };
            d.addRecentEntry(b);
            l && l(a);
          },
          [l],
        );
        var p = i(
            function (a) {
              var b,
                c = a.label,
                e = a.metaData;
              b = (b = e == null ? void 0 : e.markers) != null ? b : new Set();
              if (b.has('nullstate_explore')) {
                g && g(a);
                return;
              }
              var f = new Set(['recent']);
              b.has('entity') && f.add('entity');
              b.has('direct_nav') && f.add('direct_nav');
              b.has('high_confidence') && f.add('high_confidence');
              a.subtype === 'recent'
                ? (b = babelHelpers['extends']({}, a.rawData, {
                    badgeSnippet: null,
                  }))
                : a.subtype === 'bootstrap' || a.subtype === 'keyword'
                ? (b = a.rawData)
                : (b = {});
              e = (e = e == null ? void 0 : e.logging) != null ? e : {};
              var h = e.entityID,
                i = e.entityType,
                j = e.loggingInfo,
                k = e.stsDirectNavEntityID,
                l = e.stsDirectNavType,
                m = e.stsDisambiguationType,
                n = e.stsHighConfidenceID;
              e = e.stsHighConfidenceSource;
              d.addRecentEntry({
                key: c.toLocaleLowerCase(),
                label: c,
                metaData: {
                  logging: {
                    entityID: h,
                    entityType: i,
                    loggingInfo: j,
                    stsDirectNavEntityID: k,
                    stsDirectNavType: l,
                    stsDisambiguationType: m,
                    stsHighConfidenceID: n,
                    stsHighConfidenceSource: e,
                  },
                  markers: f,
                },
                rawData: b,
                subtype: 'recent',
                type: 'entry',
              });
              g && g(a);
            },
            [g],
          ),
          q = i(
            function (a) {
              d.removeRecentEntry(a, {
                onBeforeCommitMutation: function () {
                  n({ source: 'cache' });
                },
              });
            },
            [n],
          ),
          r = k(
            function () {
              return { dispatchRemoveRecentEntry: q };
            },
            [q],
          );
        return h.jsx(
          c('CometSearchRecentDataSourceDispatcherContext').Provider,
          {
            value: r,
            children: h.jsx(
              a,
              babelHelpers['extends']({}, b, {
                inputRef: f,
                onPressEntry: p,
                onSelectFreeformQuery: m,
              }),
            ),
          },
        );
      };
    }
    g['default'] = a;
  },
  98,
);
__d(
  'useSearchCometTypeaheadRecentDataSourceContextDecorator',
  ['react', 'searchCometTypeaheadWithRecentDataSourceContext'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react').useMemo;
    function a(a, b) {
      b === void 0 && (b = !0);
      return h(
        function () {
          return {
            decorate: function () {
              return c('searchCometTypeaheadWithRecentDataSourceContext').apply(
                void 0,
                arguments,
              );
            },
            params: { dataSource: a, shouldSubscribeToRecentSearches: b },
          };
        },
        [a, b],
      );
    }
    g['default'] = a;
  },
  98,
);
__d(
  'useSearchCometRecentSearchDataSource',
  [
    'Actor',
    'CometRelay',
    'CometSearchRecentDataSource',
    'CometSearchRecentDataSource.query',
    'WebPixelRatio',
    'XCometActivityLogControllerRouteBuilder',
    'react',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = d('react').useMemo,
      i = 16;
    function a(a) {
      var b = a.fetchNullstate,
        e = b === void 0 ? !1 : b;
      b = a.fetchSearchBadge;
      var f = b === void 0 ? !1 : b,
        g = a.filter,
        k = a.searchScopeEntityID,
        l = d('CometRelay').useRelayEnvironment();
      b = d('Actor').useActor();
      a = b[0];
      var m = c('XCometActivityLogControllerRouteBuilder').buildURL({
        category_key: 'SEARCH',
        entry_point: 'edit_search_history',
        log_filter: 'search',
        vanity: a,
      });
      return h(
        function () {
          return new (c('CometSearchRecentDataSource'))({
            activityLogURL: m,
            gqlQuery: d('CometSearchRecentDataSource.query').query,
            limit: i,
            normalize: d('CometSearchRecentDataSource.query').normalize,
            queryVariablesBuilderFunction: function () {
              return {
                fetch_nullstate: e,
                fetch_search_badge: f,
                filter: g,
                first: i,
                scale: d('WebPixelRatio').get(),
                search_null_state_argument: { surface: { name: j(g) } },
                search_scope_entity_id: k,
              };
            },
            relayEnvironment: l,
          });
        },
        [m, e, f, g, l, k],
      );
    }
    function j(a) {
      switch (a) {
        case 'all':
          return 'GLOBAL';
        case 'friends_scoped_search':
          return 'FRIENDS';
        case 'group_scoped_search':
          return 'GROUPS';
        case 'group_search':
          return 'GROUPS_TAB';
        case 'profile_scoped_search':
          return 'PROFILE';
        case 'reels_search':
          return 'REELS';
        case 'video_search':
          return 'VIDEO';
        default:
          return 'GLOBAL';
      }
    }
    g['default'] = a;
  },
  98,
);
__d(
  'XCometGamingVideoControllerRouteBuilder',
  ['jsRouteBuilder'],
  function (a, b, c, d, e, f, g) {
    a = c('jsRouteBuilder')('/gaming/video/', Object.freeze({}), void 0);
    b = a;
    g['default'] = b;
  },
  98,
); /*FB_PKG_DELIM*/
__d(
  'DOMControl',
  ['$', 'DataStore'],
  function (a, b, c, d, e, f) {
    a = (function () {
      'use strict';
      function a(a) {
        (this.root = b('$').fromIDOrElement(a)),
          (this.updating = !1),
          b('DataStore').set(a, 'DOMControl', this);
      }
      var c = a.prototype;
      c.getRoot = function () {
        return this.root;
      };
      c.beginUpdate = function () {
        if (this.updating) return !1;
        this.updating = !0;
        return !0;
      };
      c.endUpdate = function () {
        this.updating = !1;
      };
      c.update = function (a) {
        if (!this.beginUpdate()) return this;
        this.onupdate(a);
        this.endUpdate();
      };
      c.onupdate = function (a) {};
      a.getInstance = function (a) {
        return b('DataStore').get(a, 'DOMControl');
      };
      return a;
    })();
    e.exports = a;
  },
  null,
);
__d(
  'Input',
  ['CSS', 'DOMControl', 'DOMQuery'],
  function (a, b, c, d, e, f, g) {
    function h(a) {
      return !/\S/.test(a || '');
    }
    function i(a) {
      return h(a.value);
    }
    function a(a) {
      return i(a) ? '' : a.value;
    }
    function b(a) {
      return a.value;
    }
    function e(a, b) {
      a.value = b || '';
      b = c('DOMControl').getInstance(a);
      b && b.resetHeight && b.resetHeight();
    }
    function f(a, b) {
      b || (b = ''),
        a.setAttribute('aria-label', b),
        a.setAttribute('placeholder', b);
    }
    function j(a) {
      (a.value = ''), (a.style.height = '');
    }
    function k(a, b) {
      d('CSS').conditionClass(a, 'enter_submit', b);
    }
    function l(a) {
      return d('CSS').hasClass(a, 'enter_submit');
    }
    function m(a, b) {
      b > 0
        ? a.setAttribute('maxlength', b.toString())
        : a.removeAttribute('maxlength');
    }
    g.isWhiteSpaceOnly = h;
    g.isEmpty = i;
    g.getValue = a;
    g.getValueRaw = b;
    g.setValue = e;
    g.setPlaceholder = f;
    g.reset = j;
    g.setSubmitOnEnter = k;
    g.getSubmitOnEnter = l;
    g.setMaxLength = m;
  },
  98,
);
__d(
  'Form',
  [
    'DOM',
    'DOMQuery',
    'DTSG',
    'DTSGUtils',
    'DataStore',
    'Input',
    'LSD',
    'PHPQuerySerializer',
    'Random',
    'SprinkleConfig',
    'URI',
    'getElementPosition',
    'isFacebookURI',
    'isNode',
  ],
  function (a, b, c, d, e, f) {
    var g,
      h,
      i = 'FileList' in window,
      j = 'FormData' in window;
    function k(a) {
      var c = {};
      (g || (g = b('PHPQuerySerializer')))
        .serialize(a)
        .split('&')
        .forEach(function (a) {
          if (a) {
            a = /^([^=]*)(?:=(.*))?$/.exec(a);
            var d = (h || (h = b('URI'))).decodeComponent(a[1]),
              e = a[2] !== void 0;
            e = e ? (h || (h = b('URI'))).decodeComponent(a[2]) : null;
            c[d] = e;
          }
        });
      return c;
    }
    var l = {
      getInputs: function (a) {
        a === void 0 && (a = document);
        return [].concat(
          b('DOMQuery').scry(a, 'input'),
          b('DOMQuery').scry(a, 'select'),
          b('DOMQuery').scry(a, 'textarea'),
          b('DOMQuery').scry(a, 'button'),
        );
      },
      getInputsByName: function (a) {
        var b = {};
        l.getInputs(a).forEach(function (a) {
          var c = b[a.name];
          b[a.name] = typeof c === 'undefined' ? a : [a].concat(c);
        });
        return b;
      },
      getSelectValue: function (a) {
        return a.options[a.selectedIndex].value;
      },
      setSelectValue: function (a, b) {
        for (var c = 0; c < a.options.length; ++c)
          if (a.options[c].value == b) {
            a.selectedIndex = c;
            break;
          }
      },
      getRadioValue: function (a) {
        for (var b = 0; b < a.length; b++) if (a[b].checked) return a[b].value;
        return null;
      },
      getElements: function (a) {
        return a.tagName == 'FORM' && a.elements != a
          ? Array.from(a.elements)
          : l.getInputs(a);
      },
      getAttribute: function (a, b) {
        return (a.getAttributeNode(b) || {}).value || null;
      },
      setDisabled: function (a, c) {
        l.getElements(a).forEach(function (a) {
          if (a.disabled !== void 0) {
            var d = b('DataStore').get(a, 'origDisabledState');
            c
              ? (d === void 0 &&
                  b('DataStore').set(a, 'origDisabledState', a.disabled),
                (a.disabled = c))
              : d === !1 && (a.disabled = !1);
          }
        });
      },
      forEachValue: function (a, c, d) {
        l.getElements(a).forEach(function (a) {
          if (!a.name || a.disabled) return;
          if (a.type === 'submit') return;
          if (a.type === 'reset' || a.type === 'button' || a.type === 'image')
            return;
          if ((a.type === 'radio' || a.type === 'checkbox') && !a.checked)
            return;
          if (a.nodeName === 'SELECT') {
            for (var c = 0, e = a.options.length; c < e; c++) {
              var f = a.options[c];
              f.selected && d('select', a.name, f.value);
            }
            return;
          }
          if (a.type === 'file') {
            if (i) {
              f = a.files;
              for (c = 0; c < f.length; c++) d('file', a.name, f.item(c));
            }
            return;
          }
          d(a.type, a.name, b('Input').getValue(a));
        }),
          c &&
            c.name &&
            c.type === 'submit' &&
            b('DOMQuery').contains(a, c) &&
            b('DOMQuery').isNodeOfType(c, ['input', 'button']) &&
            d('submit', c.name, c.value);
      },
      createFormData: function (a, c) {
        if (!j) return null;
        var d = new FormData();
        if (a)
          if (b('isNode')(a))
            l.forEachValue(a, c, function (a, b, c) {
              d.append(b, c);
            });
          else {
            c = k(a);
            for (a in c) c[a] == null ? d.append(a, '') : d.append(a, c[a]);
          }
        return d;
      },
      serialize: function (a, b) {
        var c = {};
        l.forEachValue(a, b, function (a, b, d) {
          if (a === 'file') return;
          l._serializeHelper(c, b, d);
        });
        return l._serializeFix(c);
      },
      _serializeHelper: function (a, b, c) {
        var d = Object.prototype.hasOwnProperty,
          e = /([^\]]+)\[([^\]]*)\](.*)/.exec(b);
        if (e) {
          if (!a[e[1]] || !d.call(a, e[1])) {
            a[e[1]] = d = {};
            if (a[e[1]] !== d) return;
          }
          d = 0;
          if (e[2] === '') while (a[e[1]][d] !== void 0) d++;
          else d = e[2];
          e[3] === ''
            ? (a[e[1]][d] = c)
            : l._serializeHelper(a[e[1]], d.concat(e[3]), c);
        } else a[b] = c;
      },
      _serializeFix: function (a) {
        for (var b in a)
          a[b] instanceof Object && (a[b] = l._serializeFix(a[b]));
        b = Object.keys(a);
        if (b.length === 0 || b.some(isNaN)) return a;
        b.sort(function (a, b) {
          return a - b;
        });
        var c = 0,
          d = b.every(function (a) {
            return +a === c++;
          });
        return d
          ? b.map(function (b) {
              return a[b];
            })
          : a;
      },
      post: function (a, c, d, e) {
        e === void 0 && (e = !0);
        a = new (h || (h = b('URI')))(a);
        var f = document.createElement('form');
        f.action = a.toString();
        f.method = 'POST';
        f.style.display = 'none';
        var g = !b('isFacebookURI')(a);
        if (d) {
          if (g) {
            f.rel = 'noopener';
            if (d === '_blank') {
              d = btoa(b('Random').uint32());
              var i = window.open('about:blank', d);
              i !== void 0 && (i.opener = null);
            }
          }
          f.target = d;
        }
        if (e && !g && a.getSubdomain() !== 'apps') {
          i = b('DTSG').getToken();
          i &&
            ((c.fb_dtsg = i),
            b('SprinkleConfig').param_name &&
              (c[b('SprinkleConfig').param_name] =
                b('DTSGUtils').getNumericValue(i)));
          b('LSD').token &&
            ((c.lsd = b('LSD').token),
            b('SprinkleConfig').param_name &&
              !i &&
              (c[b('SprinkleConfig').param_name] = b(
                'DTSGUtils',
              ).getNumericValue(b('LSD').token)));
        }
        l.createHiddenInputs(c, f);
        b('DOMQuery').getRootElement().appendChild(f);
        f.submit();
        return !1;
      },
      createHiddenInputs: function (a, c, d, e) {
        e === void 0 && (e = !1);
        d = d || {};
        a = k(a);
        for (var f in a) {
          if (a[f] === null) continue;
          if (d[f] && e) d[f].value = a[f];
          else {
            var g = b('DOM').create('input', {
              type: 'hidden',
              name: f,
              value: a[f],
            });
            d[f] = g;
            c.appendChild(g);
          }
        }
        return d;
      },
      getFirstElement: function (a, c) {
        c === void 0 &&
          (c = [
            'input[type="text"]',
            'textarea',
            'input[type="password"]',
            'input[type="button"]',
            'input[type="submit"]',
          ]);
        var d = [];
        for (var e = 0; e < c.length; e++) {
          d = b('DOMQuery').scry(a, c[e]);
          for (var f = 0; f < d.length; f++) {
            var g = d[f];
            try {
              var h = b('getElementPosition')(g);
              if (h.y > 0 && h.x > 0) return g;
            } catch (a) {}
          }
        }
        return null;
      },
      focusFirst: function (a) {
        a = l.getFirstElement(a);
        if (a) {
          a.focus();
          return !0;
        }
        return !1;
      },
    };
    e.exports = l;
  },
  null,
);
__d(
  'AsyncUploadBase',
  [
    'ArbiterMixin',
    'AsyncRequest',
    'AsyncResponse',
    'BrowserSupport',
    'Form',
    'forEachObject',
    'mixin',
    'removeFromArray',
  ],
  function (a, b, c, d, e, f, g) {
    a = (function (a) {
      babelHelpers.inheritsLoose(b, a);
      b.parseFiles = function (a) {
        var b = {};
        c('forEachObject')(a, function (a, c) {
          if (Array.isArray(a)) b[c] = a;
          else {
            b[c] = [];
            if (a instanceof window.FileList)
              for (var d = 0; d < a.length; d++) b[c].push(a.item(d));
            else
              (a instanceof window.File || a instanceof window.Blob) &&
                b[c].push(a);
          }
        });
        return b;
      };
      function b(b) {
        var c;
        c = a.call(this) || this;
        c._allowCrossOrigin = !1;
        c._allowCrossPageTransition = !1;
        c._customHeader = {};
        c._inFlight = !1;
        c._limit = 10;
        c._option = {};
        c._preventDefaultErrorHandler = !1;
        c._suspended = !1;
        b && c.setURI(b);
        c.setNetworkErrorRetryLimit(0);
        return c;
      }
      var e = b.prototype;
      e.setAllowCrossOrigin = function (a) {
        this._allowCrossOrigin = !!a;
        return this;
      };
      e.setAllowCrossPageTransition = function (a) {
        this._allowCrossPageTransition = !!a;
        return this;
      };
      e.setCustomHttpHeader = function (a, b) {
        this._customHeader[a] = b;
        return this;
      };
      e.setData = function (a) {
        this._data = a;
        return this;
      };
      e.setOption = function (a, b) {
        this._option[a] = b;
        return this;
      };
      e.setPreventDefaultErrorHandler = function (a) {
        this._preventDefaultErrorHandler = a;
        return this;
      };
      e.setLimit = function (a) {
        this._limit = a;
        return this;
      };
      e.setNetworkErrorRetryLimit = function (a) {
        this._retryLimit = a;
        return this;
      };
      e.setPreprocessHandler = function (a) {
        this._preprocessHandler = a;
        return this;
      };
      e.setRelativeTo = function (a) {
        this._relativeTo = a;
        return this;
      };
      e.setStatusElement = function (a) {
        this._statusElement = a;
        return this;
      };
      e.setURI = function (a) {
        this._uri = a;
        return this;
      };
      e.suspend = function () {
        this._suspended = !0;
        return this;
      };
      e.resume = function () {
        this._suspended = !1;
        this._processQueue();
        return this;
      };
      e.isUploading = function () {
        return this._inFlight;
      };
      e._createFileUpload = function (a, b, c) {
        return new h(a, b, c);
      };
      e._processQueue = function () {
        if (this._suspended) return;
        while (this._pending.length < this._limit) {
          if (!this._waiting.length) break;
          var a = this._waiting.shift(),
            b = this._preprocessHandler;
          b ? b(a, this._processUpload.bind(this)) : this._processUpload(a);
          this._pending.push(a);
        }
      };
      e._processUpload = function (a) {
        var b = d('Form').createFormData(a.getData() || this._data);
        if (a.getFile()) {
          b.append(a.getName(), a.getFile());
          var e = a.getFile().uploadID;
          e && b.append('upload_id', e);
          a.getAdditionalData().forEach(function (a, c) {
            return b.append(c, a);
          });
        }
        e = new (c('AsyncRequest'))()
          .setAllowCrossOrigin(this._allowCrossOrigin)
          .setAllowCrossPageTransition(this._allowCrossPageTransition)
          .setURI(this._uri)
          .setRawData(b)
          .setStatusElement(this._statusElement)
          .setHandler(this._success.bind(this, a))
          .setErrorHandler(this._failure.bind(this, a))
          .setUploadProgressHandler(this._progress.bind(this, a))
          .setInitialHandler(this._initial.bind(this, a));
        for (var f in this._option) e.setOption(f, this._option[f]);
        for (f in this._customHeader)
          e.setRequestHeader(f, this._customHeader[f]);
        this._relativeTo && e.setRelativeTo(this._relativeTo);
        e.send();
        a.setAsyncRequest(e);
        this._inFlight = !0;
        a.getRetryCount() || this.inform('start', a);
      };
      e._abort = function (a) {
        this._pending.indexOf(a) !== -1 &&
          (c('removeFromArray')(this._pending, a), this._processQueue()),
          c('removeFromArray')(this._waiting, a),
          a.abort();
      };
      e._initial = function (a) {
        if (a.isAborted()) return;
        this.inform('initial', a);
      };
      e._success = function (a, b) {
        if (a.isAborted()) {
          this.inform('success_after_abort', b);
          return;
        }
        this._complete(a);
        this.inform('success', a.handleSuccess(b));
        this._processQueue();
      };
      e._retryUpload = function (a) {
        a.increaseRetryCount(), this._processUpload(a);
      };
      e._failure = function (a, b) {
        if (a.isAborted()) return;
        if (b.error === 1004 && a.getRetryCount() < (this._retryLimit || 0))
          return this._retryUpload(a);
        this._complete(a);
        this.inform('failure', a.handleFailure(b)) !== !1 &&
          (this._preventDefaultErrorHandler ||
            c('AsyncResponse').defaultErrorHandler(b));
        this._processQueue();
      };
      e._progress = function (a, b) {
        if (a.isAborted()) return;
        this.inform('progress', a.handleProgress(b));
      };
      e._complete = function (a) {
        c('removeFromArray')(this._pending, a),
          this._pending.length || (this._inFlight = !1);
      };
      b.isSupported = function () {
        return d('BrowserSupport').hasFileAPI();
      };
      return b;
    })(c('mixin')(c('ArbiterMixin')));
    var h = (function () {
      function a(a, b, c) {
        (this._additionalData = new Map()),
          (this._success = null),
          (this._response = null),
          (this._progressEvent = null),
          (this._request = null),
          (this._numRetries = 0),
          (this._aborted = !1),
          (this._name = a),
          (this._file = b),
          (this._data = c);
      }
      var b = a.prototype;
      b.getName = function () {
        return this._name;
      };
      b.getFile = function () {
        return this._file;
      };
      b.setFile = function (a) {
        this._file = a;
      };
      b.getData = function () {
        return this._data;
      };
      b.getAdditionalData = function () {
        return this._additionalData;
      };
      b.isComplete = function () {
        return this._success !== null;
      };
      b.isSuccess = function () {
        return this._success === !0;
      };
      b.getResponse = function () {
        return this._response;
      };
      b.getProgressEvent = function () {
        return this._progressEvent;
      };
      b.setAsyncRequest = function (a) {
        this._request = a;
        return this;
      };
      b.increaseRetryCount = function () {
        this._numRetries++;
        return this;
      };
      b.getRetryCount = function () {
        return this._numRetries;
      };
      b.isWaiting = function () {
        return !this._request;
      };
      b.isAborted = function () {
        return this._aborted;
      };
      b.abort = function () {
        (this._request = null), (this._aborted = !0);
      };
      b.handleSuccess = function (a) {
        this._success = !0;
        this._response = a;
        this._progressEvent = null;
        return this;
      };
      b.handleFailure = function (a) {
        this._success = !1;
        this._response = a;
        this._progressEvent = null;
        return this;
      };
      b.handleProgress = function (a) {
        this._progressEvent = a;
        return this;
      };
      return a;
    })();
    g['default'] = a;
  },
  98,
);
__d(
  'AsyncUploadRequest',
  ['AsyncUploadBase'],
  function (a, b, c, d, e, f, g) {
    a = (function (a) {
      babelHelpers.inheritsLoose(b, a);
      function b() {
        var b, c;
        for (var d = arguments.length, e = new Array(d), f = 0; f < d; f++)
          e[f] = arguments[f];
        return (
          ((b = c = a.call.apply(a, [this].concat(e)) || this),
          (c._files = null),
          (c._uploads = []),
          (c._fileLessUpload = null),
          b) || babelHelpers.assertThisInitialized(c)
        );
      }
      var d = b.prototype;
      d.setFiles = function (a) {
        this._files = c('AsyncUploadBase').parseFiles(a);
        return this;
      };
      d.setAlwaysReturnResponse = function (a) {
        this._shouldAlwaysReturnResponse = a;
      };
      d.abort = function () {
        var a = this;
        this._uploads.forEach(function (b) {
          return a._abort(b);
        });
      };
      d.send = function () {
        var a = this;
        if (this._inFlight) return;
        this._inFlight = !0;
        this._uploads = [];
        for (var b in this._files)
          this._files[b].forEach(function (c) {
            a._uploads.push(a._createFileUpload(b, c));
          });
        this._waiting = this._uploads.slice(0);
        this._pending = [];
        this._uploads.length
          ? this._processQueue()
          : ((this._fileLessUpload = this._createFileUpload(null, null)),
            this._processUpload(this._fileLessUpload));
      };
      d._processQueue = function () {
        a.prototype._processQueue.call(this);
        if (!this._pending.length && !this._waiting.length) {
          var b = this._uploads;
          b = this._shouldAlwaysReturnResponse
            ? this._fileLessUpload != null
              ? { response: this._fileLessUpload.getResponse(), uploads: b }
              : { response: b[0].getResponse(), uploads: b }
            : b;
          this.inform('complete', b);
        }
      };
      b.isSupported = function () {
        return c('AsyncUploadBase').isSupported();
      };
      return b;
    })(c('AsyncUploadBase'));
    g['default'] = a;
  },
  98,
);
__d(
  'shield',
  [],
  function (a, b, c, d, e, f) {
    function a(a, b) {
      for (
        var c = arguments.length, d = new Array(c > 2 ? c - 2 : 0), e = 2;
        e < c;
        e++
      )
        d[e - 2] = arguments[e];
      if (typeof a !== 'function')
        throw new TypeError('shield expects a function as the first argument');
      return function () {
        return a.apply(b, d);
      };
    }
    f['default'] = a;
  },
  66,
);
__d(
  'FileForm',
  [
    'ArbiterMixin',
    'AsyncRequest',
    'AsyncResponse',
    'AsyncUploadRequest',
    'BehaviorsMixin',
    'CurrentUser',
    'DOMQuery',
    'DataStore',
    'Event',
    'Form',
    'JSONPTransport',
    'Parent',
    'URI',
    'isElementNode',
    'mixin',
    'setTimeout',
    'shield',
  ],
  function (a, b, c, d, e, f, g) {
    function h(a) {
      var b = {};
      a = d('DOMQuery').scry(a, 'input[type="file"]');
      a.forEach(function (a) {
        b[a.name] = a.files;
      });
      return b;
    }
    function i(a) {
      a = d('DOMQuery').scry(a, 'input[type="file"]');
      a.forEach(function (a) {
        a.files = null;
      });
    }
    a = (function (a) {
      babelHelpers.inheritsLoose(b, a);
      function b(b, e, f) {
        var g;
        g = a.call(this) || this;
        g._handleSubmit = function (a) {
          if (a.isDefaultPrevented() || a.getTarget() !== g._form) return;
          if (g.inform('submit') === !1) {
            a.prevent();
            return;
          }
          g.submit(a);
        };
        g.initial = function (a) {
          return g.inform('initial', { upload: a });
        };
        if (b.getAttribute('rel') === 'async')
          throw new Error('FileForm cannot be used with Primer forms.');
        if ((b.getAttribute('method') || '').toUpperCase() !== 'POST')
          throw new Error('FileForm must be used with POST forms.');
        g._form = b;
        g._previousEncoding = g._form.enctype;
        g._form.enctype = g._form.encoding = 'multipart/form-data';
        g._files = null;
        g._customHeader = {};
        e && g.enableBehaviors(e);
        g._options = f || {};
        g.setAllowCrossOrigin(g._options.allowCrossOrigin);
        g.setAllowCrossPageTransition(g._options.allowCrossPageTransition);
        g.setUploadInParallel(g._options.uploadInParallel);
        g.setConcurrentLimit(g._options.concurrentLimit);
        g.setPreprocessHandler(g._options.preprocessHandler);
        g.setNetworkErrorRetryLimit(g._options.networkErrorRetryLimit);
        g._listeners = [
          c('Event').listen(
            document.documentElement,
            'submit',
            g._handleSubmit,
          ),
          c('Event').listen(
            g._form,
            'click',
            g._click.bind(babelHelpers.assertThisInitialized(g)),
          ),
        ];
        d('DataStore').set(
          g._form,
          'FileForm',
          babelHelpers.assertThisInitialized(g),
        );
        return g;
      }
      var e = b.prototype;
      e.getRoot = function () {
        return this._form;
      };
      e.setAllowCrossOrigin = function (a) {
        this._allowCrossOrigin = !!a;
        return this;
      };
      e.setAllowCrossPageTransition = function (a) {
        this._allowCrossPageTransition = !!a;
        return this;
      };
      e.setUploadInParallel = function (a) {
        this._uploadInParallel = !!a;
        return this;
      };
      e.setConcurrentLimit = function (a) {
        this._concurrentLimit = a;
        return this;
      };
      e.setCustomHttpHeader = function (a, b) {
        this._customHeader[a] = b;
        return this;
      };
      e.setPreprocessHandler = function (a) {
        this._preprocessHandler = a;
        return this;
      };
      e.setNetworkErrorRetryLimit = function (a) {
        this._retryLimit = a;
        return this;
      };
      e.setFiles = function (a) {
        this._files = a;
        return this;
      };
      e.canUseXHR = function () {
        var a = 'FormData' in window;
        a &&
          !new (c('URI'))(this._form.action).isSameOrigin() &&
          !this._allowCrossOrigin &&
          (a = !1);
        return a;
      };
      e._click = function (a) {
        a = a.getTarget();
        while (c('isElementNode')(a)) {
          if (a.type === 'submit') {
            this._clickTarget = a;
            c('setTimeout')(this._unclick.bind(this), 0);
            break;
          }
          a = a.parentNode;
        }
      };
      e._unclick = function () {
        this._clickTarget = null;
      };
      e._sendViaFrame = function () {
        var a = (this._request = new (c('AsyncRequest'))());
        a.setStatusElement(this._getStatusElement());
        a.addStatusIndicator();
        a.setOption('useIframeTransport', !0);
        var b = a.handleResponse.bind(a);
        b = new (c('JSONPTransport'))('iframe', this._form.action, b);
        var d = b.getTransportFrame(),
          e = b
            .getRequestURI()
            .addQueryData({ __iframe: !0, __user: c('CurrentUser').getID() });
        this._form.setAttribute('action', e.toString());
        b.createContinuationForFileForm_DO_NOT_USE();
        this._form.setAttribute('target', d.name);
        a.setJSONPTransport(b);
        a.setURI(e);
        a.setHandler(this.success.bind(this, null));
        a.setErrorHandler(this.failure.bind(this, null));
        a.setInitialHandler(c('shield')(this.initial, this, null));
      };
      e._sendViaXHR = function (a) {
        var b = this,
          e;
        if (this._uploadInParallel && c('AsyncUploadRequest').isSupported()) {
          e = new (c('AsyncUploadRequest'))()
            .setPreprocessHandler(this._preprocessHandler)
            .setData(d('Form').serialize(this._form, this._clickTarget))
            .setNetworkErrorRetryLimit(this._retryLimit);
          for (var f in this._customHeader)
            e.setCustomHttpHeader(f, this._customHeader[f]);
          this._concurrentLimit && e.setLimit(this._concurrentLimit);
          this._files ? e.setFiles(this._files) : e.setFiles(h(this._form));
          var g = [
            e.subscribe('progress', function (a, c) {
              b.progress(c, c.getProgressEvent());
            }),
            e.subscribe('initial', function (a, c) {
              b.initial(c);
            }),
            e.subscribe('success', function (a, c) {
              b.success(c, c.getResponse());
            }),
            e.subscribe('start', function (a, c) {
              b.inform('start', { upload: c });
            }),
            e.subscribe('failure', function (a, c) {
              b.failure(c, c.getResponse());
              return !1;
            }),
            e.subscribe('complete', function () {
              while (g.length) g.pop().unsubscribe();
            }),
          ];
        } else
          (function () {
            var a,
              f = b._files;
            if (f) {
              a = d('Form').createFormData(
                d('Form').serialize(b._form, b._clickTarget),
              );
              var g = c('AsyncUploadRequest').parseFiles(f);
              f = function (b) {
                var c = g[b];
                c.length === 1
                  ? a.append(b, c[0])
                  : ((b += '[]'),
                    c.forEach(function (c) {
                      a.append(b, c);
                    }));
                b;
              };
              for (var h in g) f(h);
            } else a = d('Form').createFormData(b._form, b._clickTarget);
            e = new (c('AsyncRequest'))()
              .setRawData(a)
              .setHandler(b.success.bind(b, null))
              .setErrorHandler(b.failure.bind(b, null))
              .setUploadProgressHandler(b.progress.bind(b, null))
              .setInitialHandler(c('shield')(b.initial, b, null));
            b.inform('start', { upload: null });
          })();
        e.setAllowCrossOrigin(this._allowCrossOrigin)
          .setAllowCrossPageTransition(this._allowCrossPageTransition)
          .setRelativeTo(this._form)
          .setStatusElement(this._getStatusElement())
          .setURI(this._form.action)
          .send();
        this._request = e;
        a && a.prevent();
      };
      e.forceSendViaXHR = function () {
        return this._sendViaXHR(null);
      };
      e.success = function (a, b) {
        b = { response: b, upload: a };
        this.inform('success', b) !== !1 &&
          c('Event').fire(this._form, 'success', b);
        this._cleanup();
      };
      e.failure = function (a, b) {
        a = { response: b, upload: a };
        this.inform('failure', a) !== !1 &&
          c('Event').fire(this._form, 'error', a) !== !1 &&
          c('AsyncResponse').defaultErrorHandler(b);
        this._cleanup();
      };
      e.progress = function (a, b) {
        this.inform('progress', { event: b, upload: a });
      };
      e.abort = function () {
        this._request && (this._request.abort(), this._cleanup());
      };
      e.clear = function () {
        i(this._form);
      };
      e.destroy = function () {
        this._cleanup();
        while (this._listeners && this._listeners.length)
          this._listeners.pop().remove();
        this._listeners = null;
        this._form.enctype = this._form.encoding = this._previousEncoding;
        d('DataStore').remove(this._form, 'FileForm');
      };
      e.submit = function (a) {
        this.canUseXHR() ? this._sendViaXHR(a) : this._sendViaFrame();
      };
      e._cleanup = function () {
        this._request = null;
      };
      e._getStatusElement = function () {
        return d('Parent').byClass(this._form, 'stat_elem') || this._form;
      };
      b.getInstance = function (a) {
        return d('DataStore').get(a, 'FileForm');
      };
      return b;
    })(c('mixin')(c('ArbiterMixin'), c('BehaviorsMixin')));
    Object.assign(a, {
      EVENTS: ['start', 'submit', 'initial', 'progress', 'success', 'failure'],
    });
    g['default'] = a;
  },
  98,
);
__d(
  'FileInputUploader',
  ['ArbiterMixin', 'DOM', 'DTSG', 'FileForm', 'Form', 'mixin'],
  function (a, b, c, d, e, f) {
    a = (function (a) {
      'use strict';
      babelHelpers.inheritsLoose(c, a);
      function c(b) {
        var c;
        c = a.call(this) || this;
        c._inputElem = b;
        c._data = {};
        return c;
      }
      var d = c.prototype;
      d.setInput = function (a) {
        this._inputElem = a;
        return this;
      };
      d.setURI = function (a) {
        this._uri = a;
        return this;
      };
      d.setData = function (a) {
        this._data = a;
        return this;
      };
      d.setPreprocessHandler = function (a) {
        this._preprocessHandler = a;
        return this;
      };
      d.setNetworkErrorRetryLimit = function (a) {
        this._retryLimit = a;
        return this;
      };
      d.setFiles = function (a) {
        this._files = a;
        return this;
      };
      d.setAllowCrossOrigin = function (a) {
        this._allowCrossOrigin = !!a;
        return this;
      };
      d.setAllowCrossPageTransition = function (a) {
        this._allowCrossPageTransition = !!a;
        return this;
      };
      d.setUploadInParallel = function (a) {
        this._uploadInParallel = !!a;
        return this;
      };
      d.setConcurrentLimit = function (a) {
        this._concurrentLimit = a;
        return this;
      };
      d.abort = function () {
        this._fileForm && (this._fileForm.abort(), this._destroyFileForm());
      };
      d.send = function () {
        this._createForm();
        var a = this._inputElem && !this._inputElem.parentElement;
        if (!a && this._inputElem) {
          var c = this._inputElem.cloneNode(!1);
          b('DOM').replace(this._inputElem, c);
        }
        this._inputElem &&
          b('DOM').appendContent(this._formElem, this._inputElem);
        b('DOM').appendContent(document.body, this._formElem);
        this._fileForm.submit();
        !a && this._inputElem && b('DOM').replace(c, this._inputElem);
        this._removeFormEl();
      };
      d._onFileFormEvent = function (a, b) {
        (a === 'success' || a === 'failure') && this._destroyFileForm();
        return this.inform(a, b);
      };
      d._createForm = function () {
        var a;
        this._destroyFileForm();
        this._formElem = b('DOM').create('form', {
          action: this._uri,
          method: 'post',
        });
        this._fileForm = new (b('FileForm'))(this._formElem, null, {
          allowCrossOrigin: !!this._allowCrossOrigin,
          allowCrossPageTransition: !!this._allowCrossPageTransition,
          uploadInParallel: !!this._uploadInParallel,
          concurrentLimit: (a = this._concurrentLimit) != null ? a : 0,
          preprocessHandler: (a = this._preprocessHandler) != null ? a : null,
          networkErrorRetryLimit: (a = this._retryLimit) != null ? a : 0,
        });
        this._files && this._fileForm.setFiles(this._files);
        this._fileForm.subscribe(
          b('FileForm').EVENTS,
          this._onFileFormEvent.bind(this),
        );
        b('Form').createHiddenInputs(
          babelHelpers['extends'](
            { fb_dtsg: b('DTSG').getToken() },
            this._data,
          ),
          this._formElem,
        );
      };
      d._removeFormEl = function () {
        b('DOM').remove(this._formElem), (this._formElem = null);
      };
      d._destroyFileForm = function () {
        this._fileForm && (this._fileForm.destroy(), (this._fileForm = null));
      };
      return c;
    })(b('mixin')(b('ArbiterMixin')));
    e.exports = a;
  },
  null,
);
__d(
  'PhotosUploadID',
  [],
  function (a, b, c, d, e, f) {
    var g = 1024;
    function a() {
      return (g++).toString();
    }
    f.getNewID = a;
  },
  66,
);
__d(
  'XAsyncRequest',
  ['AsyncRequest'],
  function (a, b, c, d, e, f, g) {
    a = (function () {
      function a(a) {
        var b = this;
        this.setAllowCrossPageTransition = function (a) {
          b.$1.setAllowCrossPageTransition(a);
          return b;
        };
        this.$1 = new (c('AsyncRequest'))(a);
      }
      var b = a.prototype;
      b.setURI = function (a) {
        this.$1.setURI(a);
        return this;
      };
      b.setTimeoutHandler = function (a, b) {
        this.$1.setTimeoutHandler(a, b);
        return this;
      };
      b.setOption = function (a, b) {
        this.$1.setOption(a, b);
        return this;
      };
      b.setMethod = function (a) {
        this.$1.setMethod(a);
        return this;
      };
      b.setData = function (a) {
        this.$1.setData(a);
        return this;
      };
      b.setHandler = function (a) {
        this.$1.setHandler(a);
        return this;
      };
      b.setPayloadHandler = function (a) {
        this.setHandler(function (b) {
          return a(b.payload);
        });
        return this;
      };
      b.setErrorHandler = function (a) {
        this.$1.setErrorHandler(a);
        return this;
      };
      b.send = function () {
        this.$1.send();
        return this;
      };
      b.abort = function () {
        this.$1.abort();
      };
      b.setReadOnly = function (a) {
        this.$1.setReadOnly(a);
        return this;
      };
      b.setAllowCrossOrigin = function (a) {
        this.$1.setAllowCrossOrigin(a);
        return this;
      };
      b.setAllowCredentials = function (a) {
        this.$1.setAllowCredentials(a);
        return this;
      };
      return a;
    })();
    g['default'] = a;
  },
  98,
);
__d(
  'curry',
  ['bind'],
  function (a, b, c, d, e, f, g) {
    a = c('bind')(null, c('bind'), null);
    b = a;
    g['default'] = b;
  },
  98,
);
__d(
  'ReactComposerMediaFilterUtils',
  ['ComposerXNativeAudioUploadsConfig', 'VideoUploadConfig'],
  function (a, b, c, d, e, f, g) {
    function a(a) {
      var b = h(a).length;
      a = i(a).length;
      return b > a;
    }
    function b(a) {
      return h(a).length > 0;
    }
    function d(a) {
      return j(a).length > 0;
    }
    function h(a) {
      return k(a, c('VideoUploadConfig').videoExtensions);
    }
    function i(a) {
      var b = { gif: !0 };
      return k(a, b);
    }
    function j(a) {
      return k(a, c('ComposerXNativeAudioUploadsConfig').audioExtensions);
    }
    function k(a, b) {
      return a.filter(function (a) {
        a = a.indexOf('.') !== -1 ? a.split('.').pop().toLowerCase() : '';
        return b[a];
      });
    }
    g.hasEditableVideos = a;
    g.hasVideos = b;
    g.hasAudioFiles = d;
    g.filterVideos = h;
    g.filterNonEditableVideos = i;
    g.filterAudioFiles = j;
    g.filterFileOfSupportedType = k;
  },
  98,
);
__d(
  'ImageExif',
  ['exif-js'],
  function (a, b, c, d, e, f) {
    b('exif-js').enableXmp();
    function g(a) {
      var b = function (b) {
        return a.charCodeAt(b) & 255;
      };
      this.getByteAt = b;
      this.getShortAt = function (a, b) {
        a = this.getSShortAt(a, b);
        return a > 0 ? a : a + 65536;
      };
      this.getSShortAt = function (a, c) {
        var d = b(a);
        a = b(a + 1);
        return c ? (d << 8) + a : (a << 8) + d;
      };
      this.getLongAt = function (a, b) {
        a = this.getSLongAt(a, b);
        return a > 0 ? a : a + 4294967296;
      };
      this.getSLongAt = function (a, c) {
        var d = b(a),
          e = b(a + 1),
          f = b(a + 2);
        a = b(a + 3);
        return c
          ? (((((d << 8) + e) << 8) + f) << 8) + a
          : (((((a << 8) + f) << 8) + e) << 8) + d;
      };
      this.getStringAt = function (b, c) {
        return a.substr(b, c);
      };
      this.getLength = function () {
        return a.length;
      };
    }
    a = {
      readFromFile: function (a, b) {
        var c = this,
          d = new FileReader();
        d.addEventListener(
          'load',
          function (a) {
            a = a.target.result;
            a =
              a instanceof ArrayBuffer
                ? c.readFromArrayBuffer(a)
                : c.readFromBinaryString(a);
            b(a);
          },
          !1,
        );
        window.DataView ? d.readAsArrayBuffer(a) : d.readAsBinaryString(a);
      },
      readFromBinaryString: function (a) {
        return b('exif-js').readFromBinaryFile(new g(a));
      },
      readFromArrayBuffer: function (a) {
        return b('exif-js').readFromBinaryFile(a);
      },
    };
    e.exports = a;
  },
  null,
);
__d(
  'StringEncoding',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    function a(a, b) {
      a = new Uint8Array(a);
      var c = 0,
        d = [];
      while (c < a.length) {
        var e = a[c],
          f = void 0;
        if (e >> 7 === 0) f = 1;
        else if (e >> 5 === 6) (e &= 31), (f = 2);
        else if (e >> 4 === 14) (e &= 15), (f = 3);
        else if (e >> 3 === 30) (e &= 7), (f = 4);
        else if (e >> 2 === 62) (e &= 3), (f = 5);
        else if (e >> 1 === 126) (e &= 1), (f = 6);
        else
          throw new Error(
            'Cannot decode as UTF-8 - unrecognised codepoint header',
          );
        if (c + f > a.length)
          throw new Error('Cannot decode as UTF-8 - incomplete codepoint');
        for (var g = 1; g < f; g++) {
          var h = a[c + g];
          if (h >> 6 !== 2)
            throw new Error(
              'Cannot decode as UTF-8 - unrecognised codepoint subsequent byte',
            );
          h &= 63;
          e <<= 6;
          e |= h;
        }
        if (e > 1114111)
          throw new Error(
            "Cannot decode as UTF-8 - JavaScript doesn't support codepoints over 0x10FFFF",
          );
        if (!e)
          switch (b) {
            case 'error':
              throw new Error(
                "Cannot decode as UTF-8 - contains a null and we're not allowing them",
              );
            case 'ignore':
              continue;
            case 'truncate':
              return String.fromCodePoint.apply(String, d);
            case 'include':
              break;
          }
        d.push(e);
        c += f;
      }
      return String.fromCodePoint.apply(String, d);
    }
    function g(a) {
      return ((a & 255) << 8) | (a >> 8);
    }
    function b(a, b) {
      if (a.byteLength % 2 !== 0)
        throw new Error('Cannot decode as UTF-16 - data length mod 2 != 0');
      a = new Uint16Array(a);
      var c = 0,
        d = [],
        e = !1;
      a[0] === 65279 ? ++c : a[0] == 65534 && (++c, (e = !0));
      while (c < a.length) {
        var f = a[c];
        e && (f = g(f));
        var h = f;
        if (f > 55295 && f < 57344) {
          if ((f & 64512) !== 55296)
            throw new Error(
              'Cannot decode as UTF-16 - incorrect signature for high surrogate',
            );
          if (c + 1 >= a.length)
            throw new Error('Cannot decode as UTF-16 - incomplete codepoint');
          ++c;
          var i = a[c];
          e && (i = g(i));
          if ((i & 64512) !== 56320)
            throw new Error(
              'Cannot decode as UTF-16 - incorrect signature for low surrogate',
            );
          h = (((f & 1023) << 10) | (i & 1023)) + 65536;
        }
        if (!h)
          switch (b) {
            case 'error':
              throw new Error(
                "Cannot decode as UTF-16 - contains a null and we're not allowing them",
              );
            case 'ignore':
              continue;
            case 'truncate':
              return String.fromCodePoint.apply(String, d);
            case 'include':
              break;
          }
        d.push(h);
        ++c;
      }
      return String.fromCodePoint.apply(String, d);
    }
    function h(a) {
      return (
        ((a & 255) << 24) |
        ((a & (255 << 8)) << 8) |
        ((a & (255 << 16)) >> 8) |
        (a >>> 24)
      );
    }
    function c(a, b) {
      if (a.byteLength % 4 !== 0)
        throw new Error('Cannot decode as UTF-32 - data length mod 4 != 0');
      a = new Uint32Array(a);
      var c = 0,
        d = [],
        e = !1;
      a[0] === 65279 ? ++c : a[0] == 4294836224 && (++c, (e = !0));
      while (c < a.length) {
        var f = a[c];
        e && (f = h(f));
        if (f & 2147483648)
          throw new Error('Cannot decode as UTF-32 - invalid codepoint');
        if (f > 1114111)
          throw new Error(
            "Cannot decode as UTF-32 - JavaScript doesn't support codepoints over 0x10FFFF",
          );
        if (!f)
          switch (b) {
            case 'error':
              throw new Error(
                "Cannot decode as UTF-32 - contains a null and we're not allowing them",
              );
            case 'ignore':
              continue;
            case 'truncate':
              return String.fromCodePoint.apply(String, d);
            case 'include':
              break;
          }
        d.push(f);
        ++c;
      }
      return String.fromCodePoint.apply(String, d);
    }
    var i = { 'utf-8': a, 'utf-16': b, 'utf-32': c };
    d = (function () {
      function a(a, b) {
        a ? (this.$1 = a) : (this.$1 = ['utf-8', 'utf-16', 'utf-32']);
        b || (b = 'error');
        this.$2 = b;
        for (
          var a = this.$1,
            b = Array.isArray(a),
            c = 0,
            a = b
              ? a
              : a[
                  typeof Symbol === 'function' ? Symbol.iterator : '@@iterator'
                ]();
          ;

        ) {
          var d;
          if (b) {
            if (c >= a.length) break;
            d = a[c++];
          } else {
            c = a.next();
            if (c.done) break;
            d = c.value;
          }
          d = d;
          this.$3(d);
        }
      }
      var b = a.prototype;
      b.getPrecedence = function () {
        return this.$1;
      };
      b.decode = function (a) {
        var b = [];
        for (
          var c = this.$1,
            d = Array.isArray(c),
            e = 0,
            c = d
              ? c
              : c[
                  typeof Symbol === 'function' ? Symbol.iterator : '@@iterator'
                ]();
          ;

        ) {
          var f;
          if (d) {
            if (e >= c.length) break;
            f = c[e++];
          } else {
            e = c.next();
            if (e.done) break;
            f = e.value;
          }
          f = f;
          f = this.$3(f);
          try {
            return f(a, this.$2);
          } catch (a) {
            b.push(a);
          }
        }
        throw new Error(b.join(', '));
      };
      b.$3 = function (a) {
        var b = i[a];
        if (!b) throw new Error('Unknown encoding ' + a);
        return b;
      };
      return a;
    })();
    f.Decoder = d;
  },
  66,
);
__d(
  'ImageMetadata',
  [
    'ImageExif',
    'Promise',
    'StringEncoding',
    'emptyFunction',
    'regeneratorRuntime',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    e = (function () {
      function e(a) {
        (this.$4 = ''), (this.$6 = a), (this.$7 = new Uint8Array(a)), this.$8();
      }
      var f = e.prototype;
      f.$8 = function () {
        var a = 0;
        while (a < this.$7.length) {
          a = this.$9(a);
          if (a === -1) return;
          var b = this.$7[a + 1];
          b = h[b];
          if (!b) return;
          var c = b.length;
          c === void 0 && (c = this.$7[a + 2] * 256 + this.$7[a + 3]);
          this.$10(a, c, b);
          if (b.name === 'SOS') return;
          a += 2 + c;
        }
      };
      f.$10 = function (a, b, c) {
        switch (c.name) {
          case 'APP1':
            this.$11(a + 4, i)
              ? (this.$1 || ((this.$1 = a), (this.$2 = b)),
                this.$12(a + 4 + i.length, b - 2 - i.length))
              : this.$11(a + 4, j)
              ? ((this.$1 = a),
                (this.$2 = b),
                this.$13(a + 4 + j.length, b - 2 - j.length))
              : this.$11(a + 4, k) &&
                this.$14(a + 4 + k.length, b - 2 - k.length);
            break;
          case 'SOF0':
          case 'SOF1':
          case 'SOF2':
          case 'SOF3':
          case 'SOF5':
          case 'SOF6':
          case 'SOF7':
          case 'JPG':
          case 'SOF9':
          case 'SOF10':
          case 'SOF11':
          case 'SOF13':
          case 'SOF14':
          case 'SOF15':
            this.$15(a + 4, b - 2);
            break;
        }
      };
      f.$15 = function (a, b) {
        b = this.$7[a + 3] * 256 + this.$7[a + 4];
        a = this.$7[a + 1] * 256 + this.$7[a + 2];
        b > 0 && a > 0 && (this.$5 = { x: b, y: a });
      };
      f.$12 = function (a, b) {
        a = emptyFunction;
        try {
          emptyFunction = c('emptyFunction');
          var e = d('ImageExif').readFromArrayBuffer(this.$6) || {};
        } finally {
          emptyFunction = a;
        }
        b = {};
        for (a in e) {
          var f = e[a];
          typeof f === 'string' && (f = f.trim());
          b[a.trim()] = f;
        }
        this.$3 = b;
      };
      f.$13 = function (a, b) {
        var c = new (d('StringEncoding').Decoder)(null, 'truncate');
        try {
          c = c.decode(this.$6.slice(a, a + b));
          this.$4 = c;
        } catch (a) {
          return;
        }
      };
      f.$14 = function (a) {};
      f.$11 = function (a, b) {
        var c = this;
        return b.split('').every(function (b) {
          return c.$7[a++] === b.charCodeAt(0);
        });
      };
      f.$9 = function (a) {
        for (a = a; a + 1 < this.$7.length; ++a)
          if (
            this.$7[a] === 255 &&
            this.$7[a + 1] !== 0 &&
            this.$7[a + 1] !== 255
          )
            return a;
        return -1;
      };
      f.hasAPP1 = function () {
        return Boolean(this.$1);
      };
      f.hasExif = function () {
        return Boolean(this.$3);
      };
      f.hasXMP = function () {
        return Boolean(this.$4);
      };
      f.hasSize = function () {
        return Boolean(this.$5);
      };
      f.getAPP1Location = function () {
        return !this.hasAPP1() ? null : this.$1;
      };
      f.getAPP1Length = function () {
        return !this.hasAPP1() ? null : this.$2;
      };
      f.getExif = function () {
        if (!this.$3) throw new Error('Image has no Exif data');
        return this.$3;
      };
      f.getXMPString = function () {
        return this.$4;
      };
      f.getSize = function () {
        if (!this.$5) throw new Error('Could not find size data?!');
        return this.$5;
      };
      f.getBufferLength = function () {
        if (!this.$6) throw new Error('Do not find buffer data!');
        return this.$6.byteLength;
      };
      e.genMetadataFromBlob = function (a) {
        return b('regeneratorRuntime').async(
          function (c) {
            while (1)
              switch ((c.prev = c.next)) {
                case 0:
                  c.t0 = e;
                  c.next = 3;
                  return b('regeneratorRuntime').awrap(e.$16(a));
                case 3:
                  c.t1 = c.sent;
                  return c.abrupt('return', new c.t0(c.t1));
                case 5:
                case 'end':
                  return c.stop();
              }
          },
          null,
          this,
        );
      };
      e.$16 = function (c) {
        return new (b('Promise'))(function (b, d) {
          var e = new a.FileReader();
          e.onabort = d;
          e.onerror = d;
          e.onload = b;
          e.readAsArrayBuffer(c);
        });
      };
      return e;
    })();
    var h = [];
    h[216] = { name: 'SOI', length: 0 };
    h[192] = { name: 'SOF0' };
    h[193] = { name: 'SOF1' };
    h[194] = { name: 'SOF2' };
    h[195] = { name: 'SOF3' };
    h[197] = { name: 'SOF5' };
    h[198] = { name: 'SOF6' };
    h[199] = { name: 'SOF7' };
    h[200] = { name: 'JPG' };
    h[201] = { name: 'SOF9' };
    h[202] = { name: 'SOF10' };
    h[203] = { name: 'SOF11' };
    h[205] = { name: 'SOF13' };
    h[206] = { name: 'SOF14' };
    h[207] = { name: 'SOF15' };
    h[196] = { name: 'DHT' };
    h[219] = { name: 'DQT' };
    h[221] = { name: 'DRI', length: 2 };
    h[218] = { name: 'SOS' };
    h[208] = { name: 'RST0', length: 0 };
    h[209] = { name: 'RST1', length: 0 };
    h[210] = { name: 'RST2', length: 0 };
    h[211] = { name: 'RST3', length: 0 };
    h[212] = { name: 'RST4', length: 0 };
    h[213] = { name: 'RST5', length: 0 };
    h[214] = { name: 'RST6', length: 0 };
    h[215] = { name: 'RST7', length: 0 };
    h[224] = { name: 'APP0' };
    h[225] = { name: 'APP1' };
    h[226] = { name: 'APP2' };
    h[227] = { name: 'APP3' };
    h[228] = { name: 'APP4' };
    h[229] = { name: 'APP5' };
    h[230] = { name: 'APP6' };
    h[231] = { name: 'APP7' };
    h[232] = { name: 'APP8' };
    h[233] = { name: 'APP9' };
    h[234] = { name: 'APP10' };
    h[235] = { name: 'APP11' };
    h[236] = { name: 'APP12' };
    h[237] = { name: 'APP13' };
    h[238] = { name: 'APP14' };
    h[239] = { name: 'APP15' };
    h[254] = { name: 'COM' };
    h[217] = { name: 'EOI', length: 0 };
    var i = 'Exif\0\0',
      j = 'http://ns.adobe.com/xap/1.0/\0',
      k = 'http://ns.adobe.com/xmp/extension/\0';
    g['default'] = e;
  },
  98,
);
__d(
  'XSphericalPhotoSphereMetadataAsyncController',
  ['XController'],
  function (a, b, c, d, e, f) {
    e.exports = b('XController').create('/spherical_media/photo/metadata/', {});
  },
  null,
);
__d(
  'SphericalImageUtils',
  [
    'ImageMetadata',
    'Promise',
    'XAsyncRequest',
    'XSphericalPhotoSphereMetadataAsyncController',
    'promiseDone',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = 2048;
    d = (function () {
      function d() {}
      d.genArrayBufferFromBlob = function (c) {
        return new (b('Promise'))(function (b, d) {
          if (a.FileReader) {
            var e = new a.FileReader();
            e.onabort = d;
            e.onerror = d;
            e.onload = function (a) {
              b(a.target.result);
            };
            e.readAsArrayBuffer(c);
          } else d(new Error("global.FileReader doesn't exit"));
        });
      };
      d.shouldCheckInServer = function (a) {
        if ((!a.hasExif() && !a.hasXMP()) || !a.hasSize()) return !1;
        var b = a.getXMPString();
        if (this.getMayContainSphericalMetadata(b)) return !0;
        var c = a.getSize(),
          d = c.x;
        c = c.y;
        if (Math.max(d, c) < h || (d / c < 2 && c / d < 2)) return !1;
        c = a.hasExif() ? a.getExif() : {};
        return b === '' && (!c.Make || !c.Model) ? !1 : !0;
      };
      d.genPhotosphereMetadata = function (a) {
        var d = this;
        return new (b('Promise'))(function (b, e) {
          c('promiseDone')(
            d.genArrayBufferFromBlob(a),
            function (a) {
              try {
                var f = new (c('ImageMetadata'))(a);
                d.shouldCheckInServer(f)
                  ? c('promiseDone')(
                      d.genPhotosphereMetadataFromServer(
                        f.hasSize() ? f.getSize() : { x: 0, y: 0 },
                        f.getXMPString(),
                        f.hasExif() ? f.getExif() : {},
                      ),
                      function (a) {
                        a = a.payload;
                        b({ photoSphereMetadata: a, imageMetadata: f });
                      },
                      e,
                    )
                  : b({});
              } catch (a) {
                (a.__manual = !0), e(a);
              }
            },
            e,
          );
        });
      };
      d.genPhotosphereMetadataFromServer = function (a, d, e) {
        var f = this;
        return new (b('Promise'))(function (b, g) {
          new (c('XAsyncRequest'))(
            c('XSphericalPhotoSphereMetadataAsyncController')
              .getURIBuilder()
              .getURI(),
          )
            .setMethod('POST')
            .setData({
              exif_string: f.getExifString(e),
              height: a.y,
              width: a.x,
              xmp: d,
            })
            .setHandler(b)
            .setErrorHandler(g)
            .send();
        });
      };
      d.getExifString = function (a) {
        return JSON.stringify(a, function (a, b) {
          return a === 'FocalLength' && b.numerator && b.denominator
            ? b.numerator + '/' + b.denominator
            : b;
        });
      };
      d.getMayContainSphericalMetadata = function (a) {
        return a !== '' && a.indexOf('GPano:') > -1;
      };
      return d;
    })();
    g['default'] = d;
  },
  98,
);
__d(
  'SphericalImage',
  ['SphericalImageUtils', 'regeneratorRuntime'],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = 'ProjectionType';
    a = (function () {
      function a(a) {
        this.props = a;
      }
      a.createFromBlob = function (a) {
        var d;
        return b('regeneratorRuntime').async(
          function (e) {
            while (1)
              switch ((e.prev = e.next)) {
                case 0:
                  e.next = 2;
                  return b('regeneratorRuntime').awrap(
                    c('SphericalImageUtils').genPhotosphereMetadata(a),
                  );
                case 2:
                  d = e.sent;
                  return e.abrupt('return', new this(d));
                case 4:
                case 'end':
                  return e.stop();
              }
          },
          null,
          this,
        );
      };
      var d = a.prototype;
      d.isSpherical = function () {
        return Boolean(this.props.photoSphereMetadata);
      };
      d.getImageMetadata = function () {
        return this.props.imageMetadata;
      };
      d.getPhotoSphereMetadata = function () {
        return this.props.photoSphereMetadata;
      };
      d.getSize = function () {
        return this.props.imageMetadata
          ? this.props.imageMetadata.getSize()
          : null;
      };
      d.getBufferLength = function () {
        return this.props.imageMetadata
          ? this.props.imageMetadata.getBufferLength()
          : null;
      };
      d.getProjectionType = function () {
        var a = '';
        this.props.photoSphereMetadata &&
          this.props.photoSphereMetadata[h] &&
          (a = this.props.photoSphereMetadata[h]);
        return a;
      };
      return a;
    })();
    g['default'] = a;
  },
  98,
);
__d(
  'SphericalPhotoUploadHelper',
  [],
  function (a, b, c, d, e, f) {
    'use strict';
    function a(a, b, c) {
      return (b && Math.max(b.x, b.y) <= c) || a === 'cubestrip' ? !1 : !0;
    }
    function b(a, b, c) {
      return b == null || b <= c || a === 'cubestrip' ? !1 : !0;
    }
    f.shouldResize360 = a;
    f.shouldRecompress360 = b;
  },
  66,
);
__d(
  'loadImageFromBlob',
  ['Promise'],
  function (a, b, c, d, e, f) {
    function a(a) {
      return new (b('Promise'))(function (b, c) {
        var d = new Image();
        d.onload = function () {
          URL.revokeObjectURL(d.src), b(d);
        };
        d.onerror = function (a) {
          URL.revokeObjectURL(d.src), c(a);
        };
        d.src = URL.createObjectURL(a);
      });
    }
    f['default'] = a;
  },
  66,
);
__d(
  'XComposerPhotoUploader',
  [
    'AsyncUploadRequest',
    'FileInputUploader',
    'PhotosMimeType',
    'PhotosUploadID',
    'Promise',
    'ReactComposerMediaFilterUtils',
    'SphericalImage',
    'SphericalPhotoTypedConfig',
    'SphericalPhotoUploadHelper',
    'curry',
    'emptyFunction',
    'loadImageFromBlob',
    'performanceNow',
    'promiseDone',
    'regeneratorRuntime',
  ],
  function (a, b, c, d, e, f, g) {
    'use strict';
    var h = a.URL || a.webkitURL || {};
    e = (function () {
      function a(a) {
        (this.$20 = {}),
          (this.$2 = a.uploadData || {}),
          (this.$1 = a.uploadEndpoint),
          (this.$3 = a.retryLimit),
          (this.$4 = a.concurrentLimit),
          (this.$5 = a.resizer),
          (this.$6 = a.onUploadEnqueued || c('emptyFunction')),
          (this.$7 = a.onUploadsEnqueued || c('emptyFunction')),
          (this.$8 = a.onResizeStart || c('emptyFunction')),
          (this.$11 = a.onResizeProgress || c('emptyFunction')),
          (this.$9 = a.onResizeSuccess || c('emptyFunction')),
          (this.$10 = a.onResizeFailure || c('emptyFunction')),
          (this.$12 = a.onSphericalCheckFailure || c('emptyFunction')),
          (this.$13 = a.onSphericalCheckSuccess || c('emptyFunction')),
          (this.$14 = a.onUploadIsSpherical || c('emptyFunction')),
          (this.$15 = a.onUploadSent || c('emptyFunction')),
          (this.$16 = a.onUploadStart || c('emptyFunction')),
          (this.$17 = a.onUploadProgress || c('emptyFunction')),
          (this.$18 = a.onUploadSuccess || c('emptyFunction')),
          (this.$19 = a.onUploadFailure || c('emptyFunction'));
      }
      var e = a.prototype;
      e.setUploadEndpoint = function (a) {
        this.$1 = a;
      };
      e.setOption = function (a, b) {
        this.$20[a] = b;
        return this;
      };
      e.getUploadData = function () {
        return this.$2;
      };
      e.setUploadData = function (a) {
        this.$2 = a;
      };
      e.upload = function (a, b) {
        var e = this;
        b || 0;
        b = babelHelpers['extends']({}, this.$2);
        var f = null;
        if (!this.$21(a)) {
          var g = d('PhotosUploadID').getNewID();
          a.uploadID = g;
          b.upload_id = g;
          this.$6({
            uploadID: g,
            fileName: a.value.split('/').pop().split('\\').pop(),
            fileURL: h.createObjectURL ? h.createObjectURL(a) : null,
          });
        } else {
          f = Array.from(a.files);
          f = f.filter(function (a) {
            return !d('ReactComposerMediaFilterUtils').hasVideos([a.name]);
          });
          if (f.length === 0) return;
          f.forEach(function (a) {
            a.uploadID || (a.uploadID = d('PhotosUploadID').getNewID()),
              e.$6({
                uploadID: a.uploadID,
                fileName: a.name,
                isSpherical: !1,
                fileURL: h.createObjectURL ? h.createObjectURL(a) : null,
              });
          });
        }
        this.$7();
        g = new (c('FileInputUploader'))(a)
          .setURI(this.$1)
          .setData(b)
          .setAllowCrossOrigin(!0)
          .setNetworkErrorRetryLimit(this.$3)
          .setUploadInParallel(!0);
        f &&
          f.length > 0 &&
          (g.setFiles({ farr: f }),
          this.$5
            ? g.setPreprocessHandler(this.$22.bind(this))
            : g.setPreprocessHandler(this.$23.bind(this)),
          this.$4 && g.setConcurrentLimit(this.$4));
        g.subscribe('progress', function (b, c) {
          return e.$17(e.$24(c, a), c);
        });
        g.subscribe('failure', function (b, c) {
          return e.$19(e.$24(c, a), c, f);
        });
        g.subscribe('start', function (b, c) {
          return e.$16(e.$24(c, a), c);
        });
        g.subscribe('success', function (b, c) {
          return e.$18(e.$24(c, a), c);
        });
        try {
          g.send(), this.$15(a);
        } catch (a) {
          throw a;
        }
      };
      e.uploadFiles = function (a) {
        var b = this;
        a = Array.from(a);
        var c = [];
        a.forEach(function (a) {
          var e = d('PhotosUploadID').getNewID();
          a.uploadID || (a.uploadID = e);
          b.$6({
            fileName: a.name,
            fileURL: h.createObjectURL ? h.createObjectURL(a) : null,
            isSpherical: !1,
            uploadID: e,
          });
          c.push(e);
        });
        a = this.getAsyncFileUploadRequest(a, c);
        a.send();
      };
      e.getAsyncFileUploadRequest = function (a, b, c) {
        var d = this;
        c = this.$25(a, c);
        c.subscribe('start', function (c, e) {
          c = (c = d.$24({ upload: e }, {})) != null ? c : d.$26(a, b, e);
          d.$16(c, { upload: e });
        });
        c.subscribe('progress', function (c, e) {
          c = (c = d.$24({ upload: e }, {})) != null ? c : d.$26(a, b, e);
          d.$17(c, { upload: e, event: e.getProgressEvent() });
        });
        c.subscribe('success', function (c, e) {
          c = (c = d.$24({ upload: e }, {})) != null ? c : d.$26(a, b, e);
          d.$18(c, { upload: e, response: e.getResponse() });
        });
        c.subscribe('failure', function (c, e) {
          c = (c = d.$24({ upload: e }, {})) != null ? c : d.$26(a, b, e);
          return d.$19(c, { upload: e, response: e.getResponse() }, a);
        });
        return c;
      };
      e.getAsyncUploadRequest = function (a, b) {
        var c = this;
        b = this.$25(a, b);
        b.subscribe('start', function (a, b) {
          return c.$16(b.getFile().uploadID, { upload: b });
        });
        b.subscribe('progress', function (a, b) {
          return c.$17(b.getFile().uploadID, {
            upload: b,
            event: b.getProgressEvent(),
          });
        });
        b.subscribe('success', function (a, b) {
          return c.$18(b.getFile().uploadID, {
            upload: b,
            response: b.getResponse(),
          });
        });
        b.subscribe('failure', function (b, d) {
          return c.$19(
            d.getFile().uploadID,
            { upload: d, response: d.getResponse() },
            a,
          );
        });
        return b;
      };
      e.$25 = function (a, b) {
        a = new (c('AsyncUploadRequest'))()
          .setData(babelHelpers['extends']({}, b && b.data, this.$2))
          .setFiles({ farr: a })
          .setAllowCrossOrigin(!0)
          .setURI(this.$1);
        (b == null ? void 0 : b.preventDefaultErrorHandler) &&
          a.setPreventDefaultErrorHandler(!0);
        this.$4 && a.setLimit(this.$4);
        this.$5
          ? a.setPreprocessHandler(this.$22.bind(this))
          : a.setPreprocessHandler(this.$23.bind(this));
        for (b in this.$20) a.setOption(b, this.$20[b]);
        return a;
      };
      e.$26 = function (a, b, c) {
        c = c.getFile();
        a = a.indexOf(c);
        return b[a];
      };
      e.$24 = function (a, b) {
        if (a.upload) return a.upload.getFile().uploadID;
        else return b.uploadID;
      };
      e.$23 = function (a, d) {
        var e = this;
        c('promiseDone')(
          (function () {
            return b('regeneratorRuntime').async(
              function (c) {
                while (1)
                  switch ((c.prev = c.next)) {
                    case 0:
                      c.next = 2;
                      return b('regeneratorRuntime').awrap(e.$27(a, d));
                    case 2:
                      return c.abrupt('return', c.sent);
                    case 3:
                    case 'end':
                      return c.stop();
                  }
              },
              null,
              this,
            );
          })(),
        );
      };
      e.$27 = function (a, c) {
        var d, e, f;
        return b('regeneratorRuntime').async(
          function (g) {
            while (1)
              switch ((g.prev = g.next)) {
                case 0:
                  d = a.getFile();
                  g.next = 3;
                  return b('regeneratorRuntime').awrap(this.$28(d));
                case 3:
                  (e = g.sent),
                    (f = a.getFile().uploadID),
                    e && e.isSpherical()
                      ? this.$14(e.isSpherical(), e, f)
                      : this.$14(!1, null, ''),
                    c(a);
                case 7:
                case 'end':
                  return g.stop();
              }
          },
          null,
          this,
        );
      };
      e.$22 = function (a, d) {
        var e = this;
        c('promiseDone')(
          (function () {
            return b('regeneratorRuntime').async(
              function (c) {
                while (1)
                  switch ((c.prev = c.next)) {
                    case 0:
                      c.next = 2;
                      return b('regeneratorRuntime').awrap(e.$29(a, d));
                    case 2:
                      return c.abrupt('return', c.sent);
                    case 3:
                    case 'end':
                      return c.stop();
                  }
              },
              null,
              this,
            );
          })(),
        );
      };
      e.$28 = function (a) {
        var d, e;
        return b('regeneratorRuntime').async(
          function (f) {
            while (1)
              switch ((f.prev = f.next)) {
                case 0:
                  d = c('performanceNow')();
                  f.prev = 1;
                  f.next = 4;
                  return b('regeneratorRuntime').awrap(
                    c('SphericalImage').createFromBlob(a),
                  );
                case 4:
                  e = f.sent;
                  this.$13(a, c('performanceNow')() - d, e);
                  return f.abrupt('return', e);
                case 9:
                  f.prev = 9;
                  f.t0 = f['catch'](1);
                  this.$12(a, c('performanceNow')() - d);
                  return f.abrupt('return', null);
                case 14:
                case 'end':
                  return f.stop();
              }
          },
          null,
          this,
          [[1, 9]],
        );
      };
      e.$30 = function (a) {
        return this.$31(this.$5.resizeBlob.bind(this.$5), a);
      };
      e.$32 = function (a, b) {
        b === void 0 && (b = c('SphericalPhotoTypedConfig').upload_size_limit);
        return this.$31(this.$5.resize360Blob.bind(this.$5), a, b);
      };
      e.$33 = function (a) {
        return c('loadImageFromBlob')(a).then(function (a) {
          return { width: a.width, height: a.height };
        });
      };
      e.$31 = function (a, d, e) {
        var f = this,
          g = c('curry')(this.$11, d.uploadID),
          h = c('curry')(this.$8, d),
          i = function () {
            return f.$33(d).then(h);
          };
        return new (b('Promise'))(function (b, c) {
          i(),
            a(
              d,
              function (a, d, e, f, g, h, i) {
                a
                  ? c(a)
                  : e
                  ? b({ originalWidth: f, originalHeight: g })
                  : b({
                      blob: d,
                      originalWidth: f,
                      originalHeight: g,
                      outputWidth: h,
                      outputHeight: i,
                    });
              },
              g,
              e,
            );
        });
      };
      e.$29 = function (a, e) {
        var f, g, h, i, j, k, l, m, n, o, p, q, r;
        return b('regeneratorRuntime').async(
          function (s) {
            while (1)
              switch ((s.prev = s.next)) {
                case 0:
                  f = a.getFile();
                  g = this.$5.isEligible(
                    f == null ? void 0 : f.size,
                    f == null ? void 0 : f.type,
                  );
                  if (!(!f || !d('PhotosMimeType').isJpeg(f.type) || !g)) {
                    s.next = 7;
                    break;
                  }
                  this.$14(!1, null, '');
                  f &&
                    c('promiseDone')(
                      this.$33(f).then(function (b) {
                        a.getAdditionalData()
                          .set('js_resized', !1)
                          .set('original_file_size', f.size)
                          .set('original_width', b == null ? void 0 : b.width)
                          .set('original_height', b == null ? void 0 : b.height)
                          .set('upload_width', b == null ? void 0 : b.width)
                          .set('upload_height', b == null ? void 0 : b.height);
                      }, c('emptyFunction')),
                    );
                  e(a);
                  return s.abrupt('return');
                case 7:
                  h = c('performanceNow')();
                  s.prev = 8;
                  k = null;
                  s.next = 12;
                  return b('regeneratorRuntime').awrap(this.$28(f));
                case 12:
                  k = s.sent;
                  if (!(k && k.isSpherical())) {
                    s.next = 33;
                    break;
                  }
                  this.$14(!0, k, f.uploadID);
                  l = k.getSize();
                  m = c('SphericalPhotoTypedConfig').upload_size_limit;
                  n = k.getProjectionType();
                  o = !1;
                  o = d('SphericalPhotoUploadHelper').shouldRecompress360(
                    n,
                    k.getBufferLength(),
                    c('SphericalPhotoTypedConfig').upload_bytes_limit,
                  );
                  p = d('SphericalPhotoUploadHelper').shouldResize360(n, l, m);
                  if (!(l && (p || o))) {
                    s.next = 31;
                    break;
                  }
                  if (p) {
                    s.next = 28;
                    break;
                  }
                  s.next = 25;
                  return b('regeneratorRuntime').awrap(
                    this.$32(f, Math.max(l.x, l.y) - 1),
                  );
                case 25:
                  i = s.sent;
                  s.next = 31;
                  break;
                case 28:
                  s.next = 30;
                  return b('regeneratorRuntime').awrap(this.$32(f));
                case 30:
                  i = s.sent;
                case 31:
                  s.next = 37;
                  break;
                case 33:
                  this.$14(!1, null, '');
                  s.next = 36;
                  return b('regeneratorRuntime').awrap(this.$30(f));
                case 36:
                  i = s.sent;
                case 37:
                  i &&
                    (i.blob != null &&
                      ((j = i.blob),
                      (j.uploadID = f.uploadID),
                      (j.name = f.name),
                      a.setFile(j)),
                    a
                      .getAdditionalData()
                      .set('js_resized', !0)
                      .set('original_file_size', f.size)
                      .set('original_width', i.originalWidth)
                      .set('original_height', i.originalHeight)
                      .set('upload_width', i.outputWidth)
                      .set('upload_height', i.outputHeight));
                  q = j === null;
                  a.getFile().filename = f.name;
                  this.$9(
                    f,
                    j || f,
                    q,
                    c('performanceNow')() - h,
                    a.getAdditionalData().get('original_width'),
                    a.getAdditionalData().get('original_height'),
                    a.getAdditionalData().get('upload_width'),
                    a.getAdditionalData().get('upload_height'),
                  );
                  s.next = 48;
                  break;
                case 43:
                  (s.prev = 43),
                    (s.t0 = s['catch'](8)),
                    (r = c('performanceNow')() - h),
                    this.$10(f, j || f, s.t0, r);
                case 48:
                  e(a);
                case 49:
                case 'end':
                  return s.stop();
              }
          },
          null,
          this,
          [[8, 43]],
        );
      };
      e.$21 = function (a) {
        return !!a.files && c('AsyncUploadRequest').isSupported();
      };
      return a;
    })();
    g['default'] = e;
  },
  98,
);
